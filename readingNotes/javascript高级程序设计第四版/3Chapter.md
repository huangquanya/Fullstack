# 3第三章

## **本章内容**：

1. 语法
2. 数据类型
3. 流控制语句
4. 理解函数

## **可能遇到的面试题**：

1.给出一些标识符,看看是否符合语法(要注意关键字和保留字)
2.谈一谈严格模式
3.谈谈var,let,const
4.谈谈 “暂时性死区”
5.var,let,const作用域的题,如异步循环

6.ECMAscript有几种数据类型?
7.null和undefined的区别?
8.null == undefined
9.数据类型转换,Boolean(),Number(),parseInt(),parseFloat(),toString(),String()
10.NaN的特性
11.了解过模板字面量吗?
12.了解标签函数吗?
13.如何输出原始字符串,也就是说不转义.
14.了解过符号类型吗(概念,作用,基本使用方法)?
15.了解常用内置符号吗?
16.了解Object类型吗?

17.关于操作符的程序题,有很多很多
18.讲一下with语句

## **知识点**：

1. 区分大小写

2. 标识符定义：变量、函数、属性或函数参数的名称

   - 第一个字符必须是一个字母、下划线（_）或美元符号（$）
   - 剩下的其他字符可以是字母、下划线、美元符号或数字

3. 严格模式：“use strict”

4. 关键字，保留字

5. var的声明范围是函数作用域

6. 变量提升(hoist)： var定义的变量会默认提升到当前作用域的顶部

7. 暂时性死区(temporal dead zone)：从当前作用域开始到let声明之前的执行瞬间

8. let和const的声明范围是块级作用域

9.  for循环中let为局部变量， `var` 声明的变量不是该循环的局部变量

10. 数据类型

    - 简单数据类型(原始数据类型): number, string, boolean, symbol, null, undefined
    - 复杂数据类型(对象)：object

11. 各类型值对应的boolean值：

    | 数据类型       | true               | false          |
    | -------------- | ------------------ | -------------- |
    | String         | 非空字符串         | ''             |
    | Number         | 非零值(含Infinity) | 0, NaN         |
    | Object         | 任意对象           |                |
    | Undefined/Null |                    | undefined/null |

12. Number类型：IEEE754格式（双精度值），存在0.1+0.2!==0.3的问题，超出可表示范围则为Infinity；NaN表示不能转为数值，isNaN()可判断传入参数能否转为数值

13. 数值转换：

    - Number()（一元加操作符与 Number()函数遵循相同的转换规则。）

      ```
       布尔值，true 转换为 1，false 转换为 0。
       数值，直接返回。
       null，返回 0。
       undefined，返回 NaN。
       字符串，应用以下规则。
      	 如果字符串包含数值字符，包括数值字符前面带加、减号的情况，则转换为一个十进制数值。因此，Number("1")返回 1，Number("123")返回 123，Number("011")返回 11（忽略前面的零）。
      	 如果字符串包含有效的浮点值格式如"1.1"，则会转换为相应的浮点值（同样，忽略前面的零）。
      	 如果字符串包含有效的十六进制格式如"0xf"，则会转换为与该十六进制值对应的十进制整
      数值。
      	 如果是空字符串（不包含字符），则返回 0。
      	 如果字符串包含除上述情况之外的其他字符，则返回 NaN。
       对象，调用 valueOf()方法，并按照上述规则转换返回的值。如果转换结果是 NaN，则调用
      toString()方法，再按照转换字符串的规则转换。
      ```

    - parseInt()

      ```
      - 字符串最前面的空格会被忽略，从第一个非空格字符开始转换。如果第一个字符不是数值字符、加号或减号，parseInt()立即返回 NaN。（因此空字符串也返回NaN）
      - 第一个字符是数值字符、加号或减号，则继续依次检测每个字符，直到字符串末尾，或碰到非数值字符。
      - parseInt()函数能识别不同的整数格式（十进制、八进制、十六进制）。`0x 0o（非严格模式）`
      - parseInt()接收第二个参数，用于指定底数（进制数）(若第一个参数不符合进制返回NaN)
      ```

    - parseFloat()

      ```
      - 从位置 0 开始检测每个字符,解析到字符串末尾或者解析到一个无效的浮点数值字符为止。
      - parseFloat()只解析十进制值，因此不能指定底数。
      ```

14.  .toSting() 可用于数值（可传参数指定转为数值进制字符串表示）、布尔值、对象和字符串值，null和undefined无该方法

15. 新建符号：Symbol()；注册全局符号：Symbol.for('s');使用符号查询全局是否注册该符号：Symbol.keyFor(syb)

16. 在提到 ECMAScript 规范时，经常会引用符号在规范中的名称，前缀为@@。比如，

    @@iterator 指的就是 Symbol.iterator。

17. ECMAScript每个对象实例都有如下属性和方法（DOM和BOM对象不一定）

    ```
     constructor：用于创建当前对象的函数。在前面的例子中，这个属性的值就是 Object() 
    函数。
     hasOwnProperty(propertyName)：用于判断当前对象实例（不是原型）上是否存在给定的属
    性。要检查的属性名必须是字符串（如 o.hasOwnProperty("name")）或符号。
     isPrototypeOf(object)：用于判断当前对象是否为另一个对象的原型。（第 8 章将详细介绍
    原型。）
     propertyIsEnumerable(propertyName)：用于判断给定的属性是否可以使用（本章稍后讨
    论的）for-in 语句枚举。与 hasOwnProperty()一样，属性名必须是字符串。
     toLocaleString()：返回对象的字符串表示，该字符串反映对象所在的本地化执行环境。
     toString()：返回对象的字符串表示。
     valueOf()：返回对象对应的字符串、数值或布尔值表示。通常与 toString()的返回值相同。
    ```

18. 一元操作符（++，--，+，-）：

    自增，自减：

    ```
    对于字符串，如果是有效的数值形式，则转换为数值再应用改变。变量类型从字符串变成数值。
     对于字符串，如果不是有效的数值形式，则将变量的值设置为 NaN 。变量类型从字符串变成
    数值。
     对于布尔值，如果是 false，则转换为 0 再应用改变。变量类型从布尔值变成数值。
     对于布尔值，如果是 true，则转换为 1 再应用改变。变量类型从布尔值变成数值。
     对于浮点值，加 1 或减 1。  如果是对象，则调用其（第 5 章会详细介绍的）valueOf()方法取得可以操作的值。对得到的值应用上述规则。如果是 NaN，则调用 toString()并再次应用其他规则。变量类型从对象变成数值
    ```

    一元加、减

    `将一元加应用到非数值，则会执行与使用 Number()转型函数一样的类型转换`

19. 按位非(~)，按位与(&)，按位或(|)，按位异或(^),左移(<<), 有符号右移(>>)，无符号右移(>>>)

20. 关系操作符

    包括小于（<）、大于（>）、小于等于（<=）和大于等于（>=）

    ```
    在将它们应用到不同数据类型时也会发生类型转换和其他行为。
     如果操作数都是数值，则执行数值比较。
     如果操作数都是字符串，则逐个比较字符串中对应字符的编码。
     如果有任一操作数是数值，则将另一个操作数转换为数值，执行数值比较。
     如果有任一操作数是对象，则调用其 valueOf()方法，取得结果后再根据前面的规则执行比较。
    如果没有 valueOf()操作符，则调用 toString()方法，取得结果后再根据前面的规则执行比较。
     如果有任一操作数是布尔值，则将其转换为数值再执行比较。
    ```

    等于（==），不等于（!=）

    ```
    在转换操作数的类型时，相等和不相等操作符遵循如下规则。
     如果任一操作数是布尔值，则将其转换为数值再比较是否相等。false 转换为 0，true 转换
    为 1。  如果一个操作数是字符串，另一个操作数是数值，则尝试将字符串转换为数值，再比较是否
    相等。
     如果一个操作数是对象，另一个操作数不是，则调用对象的 valueOf()方法取得其原始值，再
    根据前面的规则进行比较。
    在进行比较时，这两个操作符会遵循如下规则。
     null 和 undefined 相等。
     null 和 undefined 不能转换为其他类型的值再进行比较。
     如果有任一操作数是 NaN，则相等操作符返回 false，不相等操作符返回 true。记住：即使两
    个操作数都是 NaN，相等操作符也返回 false，因为按照规则，NaN 不等于 NaN。  如果两个操作数都是对象，则比较它们是不是同一个对象。如果两个操作数都指向同一个对象，
    则相等操作符返回 true。否则，两者不相等。
    ```

    全等(===)和不全等(!==)**不会进行类型转换**。

21. 复合操作符

    ```
     乘后赋值（*=） 
     除后赋值（/=） 
     取模后赋值（%=） 
     加后赋值（+=） 
     减后赋值（-=） 
     左移后赋值（<<=） 
     右移后赋值（>>=） 
     无符号右移后赋值（>>>=）
    这些操作符仅仅是简写语法，使用它不会提升性能。
    ```

22. for-in 语句是一种严格的迭代语句，用于枚举对象中的非符号键属性

23. for-of 语句是一种严格的迭代语句，用于遍历可迭代对象的元素

24. with 语句用于连接 对象。这意味着在这个语句内部，每个变量首先会被认为是一个局部变量。如果没有找到该局部变量，则会搜索 location 对象，看它是否有一个同名的属性。如果有，则该变量会被求值为 location 对象的属性。

    严格模式不允许使用 with 语句，否则会抛出错误。

25. 严格模式对函数的限制：

     函数不能以 eval 或 arguments 作为名称；

     函数的参数不能叫 eval 或 arguments； 

     两个命名参数不能拥有同一个名称。

26. 类型判断

    - typeof 

    ```js
    // typeof
    let type = typeof a 
    type === 'undefined' // a类型为Undefined或未声明a
    type === 'boolean' // a类型为布尔值
    type === 'string' // a类型为字符串
    type === 'number' // a类型为数值（包括Infinity,NaN）
    type === 'object' // a类型为对象或Null
    type === 'function' // a类型为函数
    type === 'symbol' // a类型为符号
    
    ```

## 总结：

理解 ECMAScript 及其复杂的细节是完全理解浏览器中 JavaScript 的关键。

ECMAScript 中的基本元素

- ECMAScript 中的基本数据类型包括 Undefined、Null、Boolean、Number、String 和 Symbol。 

- 与其他语言不同，ECMAScript 不区分整数和浮点值，只有 Number 一种数值数据类型。

- Object 是一种复杂数据类型，它是这门语言中所有对象的基类。

- 严格模式为这门语言中某些容易出错的部分施加了限制。

- ECMAScript 提供了 C 语言和类 C 语言中常见的很多基本操作符，包括数学操作符、布尔操作符、关系操作符、相等操作符和赋值操作符等。

- 这门语言中的流控制语句大多是从其他语言中借鉴而来的，比如 if 语句、for 语句和 switch语句

ECMAScript 中的函数与其他语言中的函数不一样。

- 不需要指定函数的返回值，因为任何函数可以在任何时候返回任何值。

- 不指定返回值的函数实际上会返回特殊值 undefined。
