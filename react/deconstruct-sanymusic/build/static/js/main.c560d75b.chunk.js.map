{"version":3,"sources":["components/list/music.png","application/Singers/singer.png","assets/iconfont/iconfont.js","style.js","assets/global-style.js","application/Home/style.js","application/Player/store/actionCreators.js","application/Player/store/constants.js","api/utils.js","application/Player/miniPlayer/style.js","baseUI/progress-circle/index.js","application/Player/miniPlayer/index.js","application/Player/normalPlayer/style.js","api/config.js","baseUI/progressBar/index.js","baseUI/loading/index.js","baseUI/loading-v2/index.js","baseUI/scroll/index.js","application/Player/normalPlayer/index.js","baseUI/Toast/index.js","application/Player/play-list/style.js","baseUI/confirm/index.js","application/Player/play-list/index.js","api/request.js","api/lyric-parser.js","application/Player/index.js","application/Home/index.js","components/slider/style.js","components/slider/index.js","application/Recommend/store/actionCreators.js","application/Recommend/store/constants.js","components/list/style.js","components/list/index.js","application/Recommend/style.js","application/Recommend/index.js","baseUI/horizen-item/index.js","application/Singers/style.js","application/Singers/store/actionCreators.js","application/Singers/store/constants.js","application/Singers/data.js","application/Singers/index.js","application/Rank/store/reducer.js","application/Rank/store/actionCreators.js","application/Rank/store/constants.js","application/Rank/style.js","application/Rank/index.js","application/Album/style.js","baseUI/header/index.js","application/Album/store/actionCreators.js","application/Album/store/constants.js","application/SongList/style.js","application/SongList/index.js","baseUI/music-note/index.js","application/Album/index.js","application/Singer/style.js","application/Singer/store/actionCreators.js","application/Singer/store/constants.js","application/Singer/index.js","application/Search/style.js","baseUI/search-box/index.js","application/Search/index.js","routes/index.js","application/Recommend/store/reducer.js","application/Singers/store/reducer.js","application/Album/store/reducer.js","application/Singer/store/reducer.js","application/Player/store/reducer.js","store/reducer.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","IconStyle","createGlobalStyle","GlobalStyle","Top","styled","div","style","Tab","TabItem","changeCurrentSong","data","type","fromJS","changePlayingState","changeSequecePlayList","changePlayList","changePlayMode","changeCurrentIndex","changeShowPlayList","debounce","func","delay","timer","args","clearTimeout","setTimeout","apply","getName","list","str","map","item","index","name","isEmptyObject","obj","Object","keys","length","elementStyle","document","createElement","vendor","transformNames","webkit","Moz","O","ms","standard","key","undefined","prefixStyle","charAt","toUpperCase","substr","formatPlayTime","interval","minute","second","toString","padStart","shuffle","arr","min","max","new_arr","forEach","push","i","j","Math","floor","random","t","findIndex","song","id","rotate","keyframes","MiniPlayerContainer","CircleWrapper","React","memo","props","radius","percent","dashArray","PI","dashOffset","width","height","viewBox","version","xmlns","className","r","cx","cy","fill","strokeDasharray","strokeDashoffset","children","fullScreen","playing","clickPlaying","toggleFullScreen","togglePlayList","miniPlayerRef","useRef","CSSTransition","in","timeout","classNames","onEnter","current","display","onExited","ref","onClick","src","al","picUrl","alt","ar","e","stopPropagation","NormalPlayerContainer","Middle","CDWrapper","Bottom","ProgressWrapper","Operators","LyricContainer","LyricWrapper","axiosInstance","axios","create","baseURL","interceptors","response","use","res","err","console","log","playMode","categoryTypes","alphaTypes","ProgressBarWrapper","ProgressBar","percentChange","progressBar","progress","progressBtn","useState","touch","setTouch","transform","useEffect","initiated","barWidth","clientWidth","offsetWidth","_offset","_changePercent","curPercent","rect","getBoundingClientRect","pageX","left","onTouchStart","startTouch","startX","touches","onTouchMove","deltaX","onTouchEnd","endTouch","JSON","parse","stringify","loading","LoadingWrapper","Loading","show","defaultProps","dance","ScrollContainer","PullUpLoading","PullDownLoading","Scroll","forwardRef","bScroll","setBScroll","scrollContaninerRef","direction","click","refresh","bounceTop","bounceBottom","pullUp","pullDown","onScroll","PullUpdisplayStyle","pullUpLoading","PullDowndisplayStyle","pullDownLoading","pullUpDebounce","useMemo","pullDownDebounce","scroll","BScroll","scrollX","scrollY","probeType","bounce","top","bottom","on","off","y","maxScrollY","pos","useImperativeHandle","scrollTo","getBScroll","duration","currentTime","mode","currentLineNum","currentPlayingLyric","currentLyric","onProgressChange","handlePrev","handleNext","changeMode","normalPlayerRef","cdWrapperRef","currentState","lyricScrollRef","lyricLineRefs","lineEl","scrollToElement","_getPosAndScale","window","innerWidth","scale","x","innerHeight","mountOnEnter","animation","0","60","100","animations","registerAnimation","presets","easing","runAnimation","onEntered","cdWrapperDom","unregisterAnimation","onExit","transition","visibility","lines","createRef","txt","dangerouslySetInnerHTML","__html","ToastWrapper","Toast","setShow","setTimer","text","unmountOnExit","PlayListWrapper","ScrollWrapper","ListHeader","ListContent","confirmFadeIn","confirmZoom","ConfirmWrapper","Confirm","cancelBtnText","confirmBtnText","handleConfirm","appear","connect","state","currentIndex","getIn","currentSong","playList","sequencePlayList","showPlayList","dispatch","togglePlayListDispatch","changeCurrentIndexDispatch","changeModeDispatch","changePlayListDispatch","deleteSongDispatch","deleteSong","clearDispatch","immutableCurrentSong","immutablePlayList","immutableSequencePlayList","toJS","canTouch","setCanTouch","confirmRef","playListRef","listWrapperRef","listContentRef","isShow","setIsShow","startY","setStartY","initialed","setInitialed","distance","setDistance","onEnterCB","useCallback","onEnteringCB","onExitingCB","onExitedCB","newMode","newList","onEntering","onExiting","nativeEvent","pageY","content","getPlayMode","handleScroll","handleChangeCurrentIndex","getCurrentIcon","handleDeleteSong","getHotSingerListRequest","count","get","getSingerListRequest","category","alpha","toLowerCase","timeExp","Lyric","lrc","hanlder","this","handler","curLineIndex","startStamp","_initLines","split","line","result","exec","replace","trim","time","sort","a","b","offset","isSeek","_findcurLineIndex","_callHandler","Date","_playRest","lineNum","preTime","play","togglePlayingDispatch","toggleFullScreenDispatch","changeFullScreen","changeCurrentDispatch","setPlayingLyric","songReady","modeText","setModeText","toastRef","preSong","setPreSong","audioRef","setCurrentTime","setDuration","isNaN","then","getLyric","dt","pause","togglePlay","handleLoop","handleLyric","lyric","stop","getLyricRequest","seek","catch","newTime","onTimeUpdate","target","onEnded","onError","route","history","to","activeClassName","renderRoutes","routes","SliderContainer","sliderSwiper","setSliderSwiper","bannerList","newSliderSwiper","Swiper","loop","autoplay","disableOnInteraction","pagination","el","slider","imageUrl","getBannerList","changeBannerList","banners","getRecommendList","changeRecommendList","chageEnterLoading","ListWrapper","List","ListItem","withRouter","recommendList","placeholder","require","getCount","playCount","Content","enterLoading","songsCount","size","getBannerDataDispatch","actionTypes","getRecommendListDataDispatch","bannerListJS","recommendListJS","forceCheck","span","Horizen","oldVal","title","handleClick","Category","categoryDOM","tagElems","querySelectorAll","totalWidth","Array","from","ele","NavContainer","ListContainer","changeSingerList","changePageCount","changeEnterLoading","changePullUpLoading","changePullDownLoading","getHotSingerList","artists","getSingerList","getState","CategoryDataContext","createContext","reducer","action","set","Data","useReducer","Provider","value","singerList","pageCount","getHotSingerDispatch","updateDispatch","pullUpRefreshDispatch","hot","refreshMoreSingerList","pullDownRefreshDispatch","useContext","handlePullUp","handlePullDown","val","accountId","renderSingerList","defaultState","rankList","getRankList","changeRankList","changeLoading","Container","ul","globalRank","li","tracks","SongList","EnterLoading","getRankListDataDispatch","globalStartIndex","filterIndex","officialList","slice","globalList","renderRankList","global","coverImgId_str","enterDetail","coverImgUrl","updateFrequency","renderSongList","detail","first","displayStyle","TopDesc","background","Menu","showBackground","HeaderContainer","marquee","Marquee","Header","isMarquee","getAlbumList","getAlbumDetailRequest","playlist","changeCurrentAlbum","SongItem","SongsList","refs","collectCount","showCollect","songs","changeSequecePlayListDispatch","musicAnimation","totalCount","selectItem","clientX","clientY","album","songList","MusicNote","iconsRef","createNode","template","tempNode","innerHTML","firstChild","node","appendChild","call","running","addEventListener","querySelector","startAnimation","currentAlbum","getAlbumDataDispatch","showStatus","setShowStatus","setTitle","setIsMarquee","headerEl","musicNoteRef","match","params","currentAlbumImmutable","handleBack","abs","headerDom","backgroundColor","opacity","goBack","subscribedCount","creator","avatarUrl","nickname","ImgWrapper","bgUrl","CollectButton","SongListWrapper","BgLayer","getSingerInfo","getSingerInfoRequest","changeArtist","artist","changeSongs","hotSongs","getSingerDataDispatch","initialHeight","immutableArtist","immutableSongs","collectButton","imageWrapper","songScrollWrapper","songScroll","header","layer","h","offsetHeight","newY","imageDOM","buttonDOM","headerDOM","layerDOM","minScrollY","zIndex","paddingTop","HEADER_HEIGHT","setShowStatusFalse","SearchBoxWrapper","SearchBox","queryRef","query","setQuery","newQuery","handleQuery","focus","handleQueryDebounce","back","onChange","currentTarget","Search","path","component","Home","exact","render","Recommend","Album","Singers","Singer","Rank","searchBack","q","songsOfArtist","sequenceList","fpIndex","splice","fsIndex","merge","combineReducers","recommend","singers","rank","singerInfo","player","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","Boolean","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"yHAAAA,EAAOC,QAAU,IAA0B,mC,kBCA3CD,EAAOC,QAAU,0pW,0/OCEV,IAAMC,EAAYC,YAAH,K,+xCCAf,IAAMC,EAAcD,YAAH,K,eCkBP,EACE,UADF,EAES,wBAFT,EAGO,UAHP,EAIM,UAJN,EAKS,UALT,EAMG,OANH,EAOE,OAPF,EAQE,OARF,EASE,OATF,EAUG,OAVH,EAWG,UAXH,EAYO,UAZP,EAac,qBAbd,EAciB,OAdjB,EAnBG,WAChB,MAAM,mLAkBO,EARA,WACb,MAAM,+F,m7BCVH,IAAME,EAAMC,IAAOC,IAAV,IAKAC,GAUHC,EAAMH,IAAOC,IAAV,IAKAC,GAgBHE,EAAUJ,IAAOC,IAAV,K,6BCpCPI,EAAoB,SAACC,GAAD,MAAW,CACxCC,KCJ4B,0BDK5BD,KAAME,iBAAOF,KAQJG,EAAqB,SAACH,GAAD,MAAW,CACzCC,KCZ6B,2BDa7BD,SAGSI,EAAwB,SAACJ,GAAD,MAAW,CAC5CC,KChBgC,8BDiBhCD,KAAME,iBAAOF,KAGJK,EAAiB,SAACL,GAAD,MAAW,CACrCC,KCpBwB,sBDqBxBD,KAAME,iBAAOF,KAGJM,EAAiB,SAACN,GAAD,MAAW,CACrCC,KCxByB,uBDyBzBD,SAGSO,EAAqB,SAACP,GAAD,MAAW,CACzCC,KC5B6B,2BD6B7BD,SAGSQ,EAAqB,SAACR,GAAD,MAAW,CACzCC,KChC6B,2BDiC7BD,SE9BSS,EAAW,SAACC,EAAMC,GAC7B,IAAIC,EACJ,OAAO,WAAmB,IAAC,IAAD,0BAANC,EAAM,yBAANA,EAAM,gBACpBD,GACFE,aAAaF,GAEfA,EAAQG,YAAW,WACjBL,EAAKM,MAAM,EAAMH,GACjBC,aAAaF,KACZD,KAcMM,EAAU,SAAAC,GACrB,IAAIC,EAAM,GAKV,OAJAD,EAAKE,KAAI,SAACC,EAAMC,GAEd,OADAH,GAAiB,IAAVG,EAAcD,EAAKE,KAAO,IAAMF,EAAKE,KACrCF,KAEFF,GAIIK,EAAgB,SAAAC,GAAG,OAAKA,GAAmC,IAA5BC,OAAOC,KAAKF,GAAKG,QAGzDC,EAAeC,SAASC,cAAc,OAAOnC,MAE7CoC,EAAU,WAEZ,IAAIC,EAAiB,CACnBC,OAAQ,kBACRC,IAAK,eACLC,EAAG,aACHC,GAAI,cACJC,SAAU,aAEZ,IAAK,IAAIC,KAAON,EACd,QAA0CO,IAAtCX,EAAaI,EAAeM,IAC9B,OAAOA,EAGX,OAAO,EAdK,GAiBP,SAASE,EAAY7C,GAC1B,OAAe,IAAXoC,IAGW,aAAXA,EACKpC,EAEFoC,EAASpC,EAAM8C,OAAO,GAAGC,cAAgB/C,EAAMgD,OAAO,IAIxD,IAKMC,GAAiB,SAAAC,GAE5B,IAAMC,GADND,GAAsB,GACK,GAAM,EAC3BE,GAAUF,EAAW,IAAIG,WAAWC,SAAS,EAAG,KACtD,MAAM,GAAN,OAAUH,EAAV,YAAoBC,IAOf,SAASG,GAAQC,GACtB,IALoBC,EAAKC,EAKrBC,EAAU,GACdH,EAAII,SAAQ,SAAAnC,GACVkC,EAAQE,KAAKpC,MAEf,IAAK,IAAIqC,EAAI,EAAGA,EAAIH,EAAQ3B,OAAQ8B,IAAK,CACvC,IAAIC,GAVcN,EAUG,EAVEC,EAUCI,EATnBE,KAAKC,MAAMD,KAAKE,UAAYR,EAAMD,EAAM,GAAKA,IAU9CU,EAAIR,EAAQG,GAChBH,EAAQG,GAAKH,EAAQI,GACrBJ,EAAQI,GAAKI,EAEf,OAAOR,EAIF,IAAMS,GAAY,SAACC,EAAM/C,GAC9B,OAAOA,EAAK8C,WAAU,SAAA3C,GACpB,OAAO4C,EAAKC,KAAO7C,EAAK6C,O,6mDC1G5B,IAAMC,GAASC,YAAH,MASCC,GAAsB3E,IAAOC,IAAV,KAShBC,EAuBOuE,GAiBJvE,EACJA,EACPA,IAGWA,EACJA,EACPA,IAQOA,G,sWCxEf,IAAM0E,GAAgB5E,IAAOC,IAAV,KAOHC,EAIAA,GAyBD2E,WAAMC,MApBrB,SAAwBC,GAAQ,IACpBC,EAAoBD,EAApBC,OAAQC,EAAYF,EAAZE,QAEVC,EAAsB,IAAVhB,KAAKiB,GAEjBC,GAAc,EAAIH,GAAWC,EAEnC,OACI,kBAACN,GAAD,KACI,yBAAKS,MAAOL,EAAQM,OAAQN,EAAQO,QAAQ,cAAcC,QAAQ,MAAMC,MAAM,8BAC1E,4BAAQC,UAAU,sBAAsBC,EAAE,KAAKC,GAAG,KAAKC,GAAG,KAAKC,KAAK,gBACpE,4BAAQJ,UAAU,eAAeC,EAAE,KAAKC,GAAG,KAAKC,GAAG,KAAKC,KAAK,cACzDC,gBAAiBb,EACjBc,iBAAkBZ,KAEzBL,EAAMkB,aCwBJpB,WAAMC,MArDrB,SAAoBC,GAAQ,IAChBR,EAAuCQ,EAAvCR,KAAM2B,EAAiCnB,EAAjCmB,WAAYC,EAAqBpB,EAArBoB,QAASlB,EAAYF,EAAZE,QAC3BmB,EAAmDrB,EAAnDqB,aAAcC,EAAqCtB,EAArCsB,iBAAkBC,EAAmBvB,EAAnBuB,eAIlCC,EAAgBC,mBAOtB,OACI,kBAACC,GAAA,EAAD,CACIC,IAAKR,EACLS,QAAS,IACTC,WAAW,OACXC,QAAS,WACLN,EAAcO,QAAQ5G,MAAM6G,QAAU,QAE1CC,SAAU,WACNT,EAAcO,QAAQ5G,MAAM6G,QAAU,SAG1C,kBAACpC,GAAD,CAAqBsC,IAAKV,EAAeW,QAAS,kBAAMb,GAAiB,KACrE,yBAAKX,UAAU,QACX,yBAAKA,UAAU,cACX,yBAAKA,UAAS,eAAUS,EAAU,GAAK,SAAWgB,IAAK5C,EAAK6C,GAAGC,OAAQhC,MAAM,KAAKC,OAAO,KAAKgC,IAAI,UAG1G,yBAAK5B,UAAU,QACX,wBAAIA,UAAU,QAAQnB,EAAK1C,MAC3B,uBAAG6D,UAAU,QAAQnE,EAAQgD,EAAKgD,MAEtC,yBAAK7B,UAAU,WACX,kBAAC,GAAD,CAAgBV,OAAQ,GAAIC,QAASA,GAChCkB,EACG,uBAAGT,UAAU,gCAAgCwB,QAAS,SAAAM,GAAC,OAAIpB,EAAaoB,GAAG,KAA3E,UAEA,uBAAG9B,UAAU,+BAA+BwB,QAAS,SAAAM,GAAC,OAAIpB,EAAaoB,GAAG,KAA1E,YAKZ,yBAAK9B,UAAU,UAAUwB,QArCR,SAACM,GAC1BlB,GAAgB,GAChBkB,EAAEC,oBAoCU,uBAAG/B,UAAU,YAAb,gB,yhJCjDpB,IAAMjB,GAASC,YAAH,MAQCgD,GAAwB1H,IAAOC,IAAV,KAOlBC,EAWIA,GAuCPH,GAAMC,IAAOC,IAAV,KAYDC,EAUEA,EACJA,EACPA,IAKWA,EACJA,EACPA,KAGOyH,GAAS3H,IAAOC,IAAV,MASN2H,GAAY5H,IAAOC,IAAV,KAwBHwE,IAgBNoD,GAAS7H,IAAOC,IAAV,MAKN6H,GAAkB9H,IAAOC,IAAV,KAOfC,EACIA,GAeJ6H,GAAY/H,IAAOC,IAAV,KAMTC,EAEEA,EAqBFA,GAIA8H,GAAiBhI,IAAOC,IAAV,MAOdgI,GAAejI,IAAOC,IAAV,KAWRC,G,6BCjOXgI,G,QAAgBC,EAAMC,OAAO,CACjCC,QAJqB,4CAOvBH,GAAcI,aAAaC,SAASC,KAClC,SAAAC,GAAG,OAAIA,EAAInI,QACX,SAAAoI,GACEC,QAAQC,IAAIF,EAAK,+BASd,IAAMG,GACD,EADCA,GAEL,EAQKC,GAAgB,CAC3B,CACEjH,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,2BACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,2BACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,2BACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,qBACNgB,IAAK,QAEP,CACEhB,KAAM,2BACNgB,IAAK,QAEP,CACEhB,KAAM,iCACNgB,IAAK,QAEP,CACEhB,KAAM,iCACNgB,IAAK,QAEP,CACEhB,KAAM,2BACNgB,IAAK,SAKIkG,GAAa,CAAC,CACzBlG,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,KAER,CACEgB,IAAK,IACLhB,KAAM,M,ssBChMR,IAAMmH,GAAqBhJ,IAAOC,IAAV,KAUJC,EAeQA,EAENA,GA+FP+I,OAxFf,SAAqBlE,GAAQ,IAEjBE,EAAYF,EAAZE,QAEAiE,EAAkBnE,EAAlBmE,cAEFC,EAAc3C,mBACd4C,EAAW5C,mBACX6C,EAAc7C,mBARI,EASE8C,mBAAS,IATX,mBASjBC,EATiB,KASVC,EATU,KAYlBC,EAAY1G,EAAY,aAIlC2G,qBAAU,WACN,GAAGzE,GAAW,GAAKA,GAAW,IAAMsE,EAAMI,UAAW,CACnD,IAAMC,EAAWT,EAAYrC,QAAQ+C,YAPd,GAQjBC,EAAc7E,EAAU2E,EAC9BR,EAAStC,QAAQ5G,MAAMmF,MAAvB,UAAkCyE,EAAlC,MACAT,EAAYvC,QAAQ5G,MAAMuJ,GAA1B,sBAAsDK,EAAtD,gBAGD,CAAC7E,IAKF,IAAM8E,EAAU,SAACD,GACbV,EAAStC,QAAQ5G,MAAMmF,MAAvB,UAAkCyE,EAAlC,MACAT,EAAYvC,QAAQ5G,MAAMuJ,UAA1B,sBAAqDK,EAArD,cAGEE,EAAiB,WACnB,IAAMJ,EAAWT,EAAYrC,QAAQ+C,YAxBhB,GAyBfI,EAAab,EAAStC,QAAQ+C,YAAcD,EAClDV,EAAce,IAmClB,OACI,kBAACjB,GAAD,KACI,yBAAKtD,UAAU,YAAYuB,IAAKkC,EAAajC,QAR/B,SAACM,GACnB,IAAM0C,EAAOf,EAAYrC,QAAQqD,wBAC3BL,EAActC,EAAE4C,MAAQF,EAAKG,KACnCN,EAAQD,GACRE,MAKQ,yBAAKtE,UAAU,WAAWuB,IAAKmC,IAC/B,yBAAK1D,UAAU,uBAAuBuB,IAAKoC,EACvCiB,aArCW,SAAC9C,GACxB,IAAM+C,EAAa,CACnBA,WAAuB,GACvBA,EAAWC,OAAShD,EAAEiD,QAAQ,GAAGL,MACjCG,EAAWF,KAAOjB,EAAStC,QAAQ+C,YACnCL,EAASe,IAiCGG,YA9BU,SAAClD,GACvB,GAAK+B,EAAMI,UAAX,CAEA,IAAMgB,EAASnD,EAAEiD,QAAQ,GAAGL,MAAQb,EAAMiB,OACpCZ,EAAaT,EAAYrC,QAAQ+C,YAzClB,IAyCqDV,EAAYrC,QAAQ+C,YAC1FV,EAAYrC,QAAQ+C,YA1CH,GA2CjBV,EAAYrC,QAAQ+C,YAClBC,EAAc5F,KAAKP,IAAIO,KAAKN,IAAI,EAAG2F,EAAMc,KAAOM,GAASf,GAC/DG,EAAQD,KAuBIc,WApBS,SAACpD,GACtB,IAAMqD,EAAWC,KAAKC,MAAMD,KAAKE,UAAUzB,IAC3CsB,EAASlB,WAAY,EACrBH,EAASqB,GACTb,MAkBY,yBAAKtE,UAAU,qB,+kBCnHnC,IAAMuF,GAAUvG,YAAH,MAQPwG,GAAiBlL,IAAOC,IAAV,KAaIC,EACP+K,IAOjB,SAASE,GAAQpG,GAAQ,IAChBqG,EAAQrG,EAARqG,KACL,OACI,kBAACF,GAAD,CAAgBhL,MAAOkL,EAAK,CAAC,QAAU,IAAI,CAAC,QAAU,SAClD,8BACA,+BAIZD,GAAQE,aAAe,CACrBD,MAAM,GAOOvG,WAAMC,KAAKqG,I,6zBC/C1B,IAAMG,GAAQ5G,YAAH,MASLyG,GAAUnL,IAAOC,IAAV,KAQaC,EAIPoL,IA8BJzG,WAAMC,MAbrB,WACI,OACI,kBAAC,GAAD,KACI,8BACA,8BACA,8BACA,8BACA,8BACA,wE,0fC1CZ,IAAMyG,GAAkBvL,IAAOC,IAAV,MAKfuL,GAAgBxL,IAAOC,IAAV,MAUNwL,GAAkBzL,IAAOC,IAAV,MAStByL,GAASC,sBAAW,SAAC5G,EAAOkC,GAAS,IAAD,EACVqC,qBADU,mBACjCsC,EADiC,KACxBC,EADwB,KAGlCC,EAAsBtF,mBAEpBuF,EAAuDhH,EAAvDgH,UAAWC,EAA4CjH,EAA5CiH,MAAOC,EAAqClH,EAArCkH,QAASC,EAA4BnH,EAA5BmH,UAAWC,EAAiBpH,EAAjBoH,aAEtCC,EAA+DrH,EAA/DqH,OAAQC,EAAuDtH,EAAvDsH,SAAUC,EAA6CvH,EAA7CuH,SAEpBC,EAFiExH,EAAnCyH,cAEO,CAAEzF,QAAS,IAAO,CAAEA,QAAS,QAClE0F,EAHiE1H,EAApB2H,gBAGJ,CAAE3F,QAAS,IAAO,CAAEA,QAAS,QAGxE4F,EAAiBC,mBAAS,WAC5B,OAAO7L,EAAUqL,EAAQ,OACxB,CAACA,IAIAS,EAAmBD,mBAAS,WAC9B,OAAO7L,EAAUsL,EAAU,OAC1B,CAACA,IAiFJ,OA7EA3C,qBAAU,WACR,IAAMoD,EAAS,IAAIC,KAAQjB,EAAoBhF,QAAS,CACtDkG,QAAuB,eAAdjB,EACTkB,QAAuB,aAAdlB,EACTmB,UAAW,EACXlB,MAAOA,EACPmB,OAAQ,CACNC,IAAKlB,EACLmB,OAAQlB,KAKZ,OADAN,EAAWiB,GACJ,WACLjB,EAAW,SAGZ,IAEHnC,qBAAU,WACR,GAAKkC,GAAYU,EAIjB,OAHAV,EAAQ0B,GAAG,UAAU,SAACR,GACpBR,EAASQ,MAEJ,WACLlB,EAAQ2B,IAAI,aAEb,CAACjB,EAAUV,IAEdlC,qBAAU,WACR,GAAKkC,GAAYQ,EAOjB,OANAR,EAAQ0B,GAAG,aAAa,WAElB1B,EAAQ4B,GAAK5B,EAAQ6B,WAAa,KACpCd,OAGG,WACLf,EAAQ2B,IAAI,gBAEb,CAACnB,EAAQR,IAEZlC,qBAAU,WACR,GAAKkC,GAAYS,EAOjB,OANAT,EAAQ0B,GAAG,YAAY,SAACI,GAElBA,EAAIF,EAAI,IACVX,OAGG,WACLjB,EAAQ2B,IAAI,eAEb,CAAClB,EAAUT,IAGdlC,qBAAU,WACJuC,GAAWL,GACbA,EAAQK,aAIZ0B,8BAAoB1G,GAAK,iBAAO,CAC9BgF,QAD8B,WAExBL,IACFA,EAAQK,UACRL,EAAQgC,SAAS,EAAG,KAGxBC,WAP8B,WAQ5B,GAAIjC,EACF,OAAOA,OAOX,kBAACL,GAAD,CAAiBtE,IAAK6E,GACnB/G,EAAMkB,SAEP,kBAACuF,GAAD,CAAetL,MAAOqM,GACpB,kBAAC,GAAD,OAGF,kBAACd,GAAD,CAAiBvL,MAAOuM,GACtB,kBAAC,GAAD,WAMRf,GAAOL,aAAe,CACpBU,UAAW,WACXC,OAAO,EACPC,SAAS,EACTK,SAAU,KACVE,eAAe,EACfE,iBAAiB,EACjBN,OAAQ,KACRC,SAAU,KACVH,WAAW,EACXC,cAAc,GAeDT,UCwFA7G,WAAMC,MAlPrB,SAAsBC,GAAQ,IAClBR,EAAuHQ,EAAvHR,KAAM2B,EAAiHnB,EAAjHmB,WAAYC,EAAqGpB,EAArGoB,QAASlB,EAA4FF,EAA5FE,QAAS6I,EAAmF/I,EAAnF+I,SAAUC,EAAyEhJ,EAAzEgJ,YAAaC,EAA4DjJ,EAA5DiJ,KAAMC,EAAsDlJ,EAAtDkJ,eAAgBC,EAAsCnJ,EAAtCmJ,oBAAqBC,EAAiBpJ,EAAjBoJ,aACtG9H,EAAyGtB,EAAzGsB,iBAAkBD,EAAuFrB,EAAvFqB,aAAcgI,EAAyErJ,EAAzEqJ,iBAAkBC,EAAuDtJ,EAAvDsJ,WAAYC,EAA2CvJ,EAA3CuJ,WAAYC,EAA+BxJ,EAA/BwJ,WAAYjI,EAAmBvB,EAAnBuB,eAGxFkI,EAAkBhI,mBAClBiI,EAAejI,mBACfiD,EAAY1G,EAAY,aAExB2L,EAAelI,iBAAO,IACtBmI,EAAiBnI,mBACjBoI,EAAgBpI,iBAAO,IAI7BkD,qBAAU,WACN,GAAKiF,EAAe7H,QAApB,CACA,IAAI8E,EAAU+C,EAAe7H,QAAQ+G,aACrC,GAAII,EAAiB,EAAG,CAEpB,IAAIY,EAASD,EAAc9H,QAAQmH,EAAiB,GAAGnH,QACvD8E,EAAQkD,gBAAgBD,EAAQ,UAGhCjD,EAAQgC,SAAS,EAAG,EAAG,QAE5B,CAACK,IAGJ,IAAMc,EAAkB,WACpB,IAIM1J,EAA4B,GAApB2J,OAAOC,WACfC,EALc,GAKQ7J,EAK5B,MAAO,CACH8J,IAJQH,OAAOC,WAAa,EANZ,IAWhBzB,EAJMwB,OAAOI,YALE,GAKyB/J,EAAQ,EAN9B,GAWlB6J,UAmFR,OACI,kBAACzI,GAAA,EAAD,CACIG,WAAW,SACXF,GAAIR,EACJS,QAAS,IACT0I,cAAY,EACZxI,QArFM,WACV2H,EAAgB1H,QAAQ5G,MAAM6G,QAAU,QADxB,MAEQgI,IAAhBI,EAFQ,EAERA,EAAG3B,EAFK,EAELA,EAAG0B,EAFE,EAEFA,MACVI,EAAY,CACZC,EAAG,CACC9F,UAAU,eAAD,OAAiB0F,EAAjB,cAAwB3B,EAAxB,uBAAwC0B,EAAxC,MAEbM,GAAI,CACA/F,UAAU,mCAEdgG,IAAK,CACDhG,UAAU,kCAGlBiG,KAAWC,kBAAkB,CACzB9N,KAAM,OACNyN,YACAM,QAAS,CACL9B,SAAU,IACV+B,OAAQ,YAGhBH,KAAWI,aAAarB,EAAa3H,QAAS,SAgE1CiJ,UAzCW,WAEf,IAAMC,EAAevB,EAAa3H,QAClC4I,KAAWO,oBAAoB,QAC/BD,EAAa9P,MAAMoP,UAAY,IAsC3BY,OA/DM,WACV,GAAKzB,EAAa3H,QAAlB,CACA,IAAMkJ,EAAevB,EAAa3H,QAClCkJ,EAAa9P,MAAMiQ,WAAa,WAHhB,MAIQpB,IAAhBI,EAJQ,EAIRA,EAAG3B,EAJK,EAILA,EAAG0B,EAJE,EAIFA,MACdc,EAAa9P,MAAMuJ,GAAnB,sBAA+C0F,EAA/C,eAAuD3B,EAAvD,wBAAwE0B,EAAxE,OA2DIlI,SAxDW,WACf,GAAKyH,EAAa3H,QAAlB,CACA,IAAMkJ,EAAevB,EAAa3H,QAClCkJ,EAAa9P,MAAMiQ,WAAa,GAChCH,EAAa9P,MAAMuJ,GAAa,GAGhC+E,EAAgB1H,QAAQ5G,MAAM6G,QAAU,OACxC2H,EAAa5H,QAAU,MAkDnB,kBAACY,GAAD,CAAuBT,IAAKuH,GACxB,yBAAK9I,UAAU,cACX,yBACIyB,IAAK5C,EAAK6C,GAAGC,OAAS,iBACtBhC,MAAM,OACNC,OAAO,OACPgC,IAAI,8BAGZ,yBAAK5B,UAAU,qBACf,kBAAC,GAAD,CAAKA,UAAU,OACX,yBAAKA,UAAU,OAAOwB,QAjDvB,WACXb,GAAiB,KAiDD,uBAAGX,UAAU,sBAAb,WAEJ,wBAAIA,UAAU,SAASnB,EAAK1C,MAC5B,wBAAI6D,UAAU,YAAYnE,EAAQgD,EAAKgD,MAE3C,kBAACI,GAAD,CAAQV,IAAKwH,EAAcvH,QAnDZ,WACM,UAAzBwH,EAAa5H,QACb4H,EAAa5H,QAAU,QAEvB4H,EAAa5H,QAAU,KAgDf,kBAACL,GAAA,EAAD,CACIE,QAAS,IACTC,WAAW,OACXF,GAA6B,UAAzBgI,EAAa5H,SAEjB,kBAACc,GAAD,CAAW1H,MAAO,CAAEkQ,WAAqC,UAAzB1B,EAAa5H,QAAsB,UAAY,WAE3E,uBAAGpB,UAAU,iBAAiBwI,KAGtC,kBAACzH,GAAA,EAAD,CACIE,QAAS,IACTC,WAAW,OACXF,GAA6B,UAAzBgI,EAAa5H,SAEjB,kBAACkB,GAAD,KACI,kBAAC,GAAD,CAAQf,IAAK0H,GACT,kBAAC1G,GAAD,CACI/H,MAAO,CAAEkQ,WAAqC,UAAzB1B,EAAa5H,QAAsB,UAAY,UACpEpB,UAAU,iBAGNyI,EACMA,EAAakC,MAAM3O,KAAI,SAACC,EAAMC,GAG5B,OADAgN,EAAc9H,QAAQlF,GAASiD,IAAMyL,YAEjC,uBACI5K,UAAS,eAAUuI,IAAmBrM,EAAQ,UAAY,IAE1DiB,IAAKlB,EAAOC,EACZqF,IAAK2H,EAAc9H,QAAQlF,IAE1BD,EAAK4O,QAIhB,uBAAG7K,UAAU,aAAb,0DAO9B,kBAACmC,GAAD,CAAQnC,UAAU,UACd,kBAACoC,GAAD,KACI,0BAAMpC,UAAU,eAAevC,GAAe4K,IAC9C,yBAAKrI,UAAU,wBACX,kBAAC,GAAD,CACIT,QAASA,EACTiE,cAAekF,KAGvB,yBAAK1I,UAAU,eAAevC,GAAe2K,KAEjD,kBAAC/F,GAAD,KAEI,yBAAKrC,UAAU,cAAcwB,QAASqH,GAClC,uBACI7I,UAAU,WACV8K,wBAAyB,CAAEC,OApG/CzC,IAASnF,GACC,WACHmF,IAASnF,GACN,WAEA,eAkGE,yBAAKnD,UAAU,cAAcwB,QAASmH,GAClC,uBAAG3I,UAAU,YAAb,WAEJ,yBAAKA,UAAU,iBACX,uBACIA,UAAU,WACVwB,QAAS,SAAAM,GAAC,OAAIpB,EAAaoB,GAAIrB,IAC/BqK,wBAAyB,CACrBC,OAAQtK,EAAU,WAAa,eAI3C,yBAAKT,UAAU,eAAewB,QAASoH,GACnC,uBAAG5I,UAAU,YAAb,WAEJ,yBAAKA,UAAU,eAAewB,QAAS,kBAAMZ,GAAe,KACxD,uBAAGZ,UAAU,YAAb,kB,+kBCzP5B,IAAMgL,GAAe1Q,IAAOC,IAAV,KAMCC,EAmBFA,GAIXyQ,GAAQhF,sBAAW,SAAC5G,EAAOkC,GAAS,IAAD,EACfqC,oBAAS,GADM,mBAChC8B,EADgC,KAC1BwF,EAD0B,OAEbtH,mBAAS,IAFI,mBAEhCpI,EAFgC,KAEzB2P,EAFyB,KAGhCC,EAAQ/L,EAAR+L,KAYP,OAVAnD,8BAAoB1G,GAAK,iBAAO,CAC9BmE,KAD8B,WAGzBlK,GAAOE,aAAaF,GACvB0P,GAAQ,GACRC,EAASxP,YAAW,WAClBuP,GAAQ,KACP,WAIL,kBAACnK,GAAA,EAAD,CAAeC,GAAI0E,EAAMzE,QAAS,IAAKC,WAAW,OAAOmK,eAAa,GACpE,kBAACL,GAAD,KACE,yBAAKhL,UAAU,QAAQoL,QAMhBjM,OAAMC,KAAK6L,I,+8DCvDnB,IAAMK,GAAkBhR,IAAOC,IAAV,KAONC,EAQEA,EAKJA,EACDA,EACJA,GAkBF+Q,GAAgBjR,IAAOC,IAAV,MAMbiR,GAAalR,IAAOC,IAAV,KAUFC,EACJA,EAKEA,EACJA,EAGPA,IACWA,GAKNiR,GAAcnR,IAAOC,IAAV,KAULC,EACJA,EAIPA,IACWA,EACJA,EAEEA,EAITA,IAEWA,EACJA,EAGPA,IACWA,EACJA,G,s3CCpGf,IAAMkR,GAAgB1M,YAAH,MAQb2M,GAAc3M,YAAH,MAYX4M,GAAiBtR,IAAOC,IAAV,KAOJC,EAECkR,GAEEC,GAYCnR,EAKCA,EACJA,EAMIA,EAKaA,EACfA,EAEmBA,GAQhCqR,GAAU5F,sBAAW,SAAC5G,EAAOkC,GAAS,IAAD,EACjBqC,oBAAS,GADQ,mBAClC8B,EADkC,KAC5BwF,EAD4B,KAEjCE,EAAwC/L,EAAxC+L,KAAMU,EAAkCzM,EAAlCyM,cAAeC,EAAmB1M,EAAnB0M,eAEtBC,EAAiB3M,EAAjB2M,cAQP,OANA/D,8BAAoB1G,GAAK,iBAAO,CAC9BmE,KAD8B,WAE5BwF,GAAQ,QAKV,kBAACnK,GAAA,EAAD,CAAeG,WAAW,eAAeD,QAAS,IAAKgL,QAAQ,EAAMjL,GAAI0E,GACvE,kBAACkG,GAAD,CAAgBpR,MAAO,CAAC6G,QAASqE,EAAO,QAAS,QAASlE,QAAS,SAAAM,GAAC,OAAIA,EAAEC,oBACxE,6BACE,yBAAK/B,UAAU,mBACb,uBAAGA,UAAU,QAAQoL,GACrB,yBAAKpL,UAAU,WACb,yBAAKA,UAAU,mBAAmBwB,QAAS,kBAAM0J,GAAQ,KAASY,GAClE,yBAAK9L,UAAU,cAAcwB,QAAS,WAAQ0J,GAAQ,GAAQc,MAAoBD,WASjF5M,OAAMC,KAAKyM,ICqI1B,IA+CeK,gBA/CS,SAACC,GAAD,MAAY,CAChCC,aAAcD,EAAME,MAAM,CAAC,SAAU,iBACrCC,YAAaH,EAAME,MAAM,CAAC,SAAU,gBACpCE,SAAUJ,EAAME,MAAM,CAAC,SAAU,aACjCG,iBAAkBL,EAAME,MAAM,CAAC,SAAU,qBACzCI,aAAcN,EAAME,MAAM,CAAC,SAAU,iBACrC/D,KAAM6D,EAAME,MAAM,CAAC,SAAU,aAGN,SAACK,GACxB,MAAO,CACHC,uBADG,SACoB/R,GACnB8R,EAAStR,EAAmBR,KAGhCgS,2BALG,SAKwBhS,GACvB8R,EAASvR,EAAmBP,KAGhCiS,mBATG,SASgBjS,GACf8R,EAASxR,EAAeN,KAG5BkS,uBAbG,SAaoBlS,GACnB8R,EAASzR,EAAeL,KAE5BmS,mBAhBG,SAgBgBnS,GACf8R,EhB/Nc,SAAC9R,GAAD,MAAW,CACjCC,KCpCuB,qBDqCvBD,QgB6NiBoS,CAAWpS,KAExBqS,cAnBG,WAqBCP,EAASzR,EAAe,KACxByR,EAAS1R,EAAsB,KAE/B0R,EAASvR,GAAoB,IAE7BuR,EAAStR,GAAmB,IAE5BsR,EAAS/R,EAAkB,KAE3B+R,EAAS3R,GAAmB,QAOzBmR,CAA6C/M,IAAMC,MAnRlE,SAAkBC,GAAQ,IAElB+M,EAMA/M,EANA+M,aACac,EAKb7N,EALAiN,YACAG,EAIApN,EAJAoN,aACUU,EAGV9N,EAHAkN,SACAjE,EAEAjJ,EAFAiJ,KACkB8E,EAClB/N,EADAmN,iBAGAG,EAMAtN,EANAsN,uBACAC,EAKAvN,EALAuN,2BACAE,EAIAzN,EAJAyN,uBACAD,EAGAxN,EAHAwN,mBACAE,EAEA1N,EAFA0N,mBACAE,EACA5N,EADA4N,cAGEX,EAAcY,EAAqBG,OACnCd,EAAWY,EAAkBE,OAC7Bb,EAAmBY,EAA0BC,OAE7CtJ,EAAY1G,EAAY,aAtBT,EAyBWuG,oBAAS,GAzBpB,mBAyBd0J,EAzBc,KAyBJC,EAzBI,KA0BfC,EAAa1M,mBACb2M,EAAc3M,mBACd4M,EAAiB5M,mBACjB6M,EAAiB7M,mBA7BF,EA8BM8C,oBAAS,GA9Bf,mBA8BdgK,EA9Bc,KA8BPC,EA9BO,OAgCOjK,mBAAS,GAhChB,mBAgCdkK,EAhCc,KAgCNC,EAhCM,OAkCanK,mBAAS,GAlCtB,mBAkCdoK,EAlCc,KAkCHC,EAlCG,OAoCWrK,mBAAS,GApCpB,mBAoCdsK,EApCc,KAoCJC,EApCI,KAuCfC,EAAYC,uBAAY,WAE1BR,GAAU,GAEVH,EAAetM,QAAQ5G,MAAMuJ,GAA7B,4BACD,CAACA,IAEEuK,EAAeD,uBAAY,WAE7BX,EAAetM,QAAQ5G,MAAvB,WAA6C,WAC7CkT,EAAetM,QAAQ5G,MAAMuJ,GAA7B,yBACD,CAACA,IAEEwK,EAAcF,uBAAY,WAC5BX,EAAetM,QAAQ5G,MAAvB,WAA6C,WAC7CkT,EAAetM,QAAQ5G,MAAMuJ,GAA7B,gCACD,CAACA,IAEEyK,EAAaH,uBAAY,WAC3BR,GAAU,GACVH,EAAetM,QAAQ5G,MAAMuJ,GAA7B,gCACD,CAACA,IA8BE8E,EAAa,WACf,IAAI4F,GAAWnG,EAAO,GAAK,EAC3B,GAAgB,IAAZmG,EAAe,CAEf3B,EAAuBN,GACvB,IAAItQ,EAAQ0C,GAAU0N,EAAaE,GACnCI,EAA2B1Q,QACxB,GAAgB,IAAZuS,EAEP3B,EAAuBN,QACpB,GAAgB,IAAZiC,EAAe,CAEtB,IAAIC,EAAU3Q,GAAQyO,GAClBtQ,EAAQ0C,GAAU0N,EAAaoC,GACnC5B,EAAuB4B,GACvB9B,EAA2B1Q,GAE/B2Q,EAAmB4B,IAqDvB,OACI,kBAAC1N,GAAA,EAAD,CACIC,GAAIyL,EACJxL,QAAS,IACTC,WAAW,YACXC,QAASiN,EACTO,WAAYL,EACZM,UAAWL,EACXjN,SAAUkN,GAEV,kBAAClD,GAAD,CACI/J,IAAKkM,EACLjT,OAAkB,IAAXoT,EAAkB,CAAEvM,QAAS,SAAY,CAAEA,QAAS,QAC3DG,QAAS,kBAAMmL,GAAuB,KAEtC,yBAAK3M,UAAU,eACXuB,IAAKmM,EACLlM,QAAS,SAAAM,GAAC,OAAIA,EAAEC,mBAChB6C,aA7CS,SAAC9C,GACjBwL,IAAYU,IACjBN,EAAetM,QAAQ5G,MAAvB,WAA8C,GAC9CuT,EAAWjM,EAAE+M,YAAY9J,QAAS,GAAG+J,OACrCb,GAAc,KA0CFjJ,YAxCU,SAAClD,GACvB,GAAKwL,GAAaU,EAAlB,CACA,IAAIE,EAAWpM,EAAE+M,YAAY9J,QAAS,GAAG+J,MAAQhB,EAC7CI,EAAW,IACfC,EAAaD,GACbR,EAAetM,QAAQ5G,MAAMuJ,UAA7B,yBAA2DmK,EAA3D,aAoCYhJ,WAlCS,SAACpD,GACtBmM,GAAc,GAEVC,GAAY,IAEdvB,GAAwB,IAGxBe,EAAetM,QAAQ5G,MAAvB,WAA8C,WAC9CkT,EAAetM,QAAQ5G,MAAOuJ,GAA9B,gCA2BU,kBAACyH,GAAD,KACI,wBAAIxL,UAAU,SAhHd,WAChB,IAAI+O,EAAS3D,EAWb,OAVI9C,IAASnF,IACT4L,EAAU,WACV3D,EAAO,4BACA9C,IAASnF,IAChB4L,EAAU,WACV3D,EAAO,6BAEP2D,EAAU,WACV3D,EAAO,4BAGP,6BACI,uBAAGpL,UAAU,WAAWwB,QAAS,SAACM,GAAD,OAAO+G,EAAW/G,IAAIgJ,wBAAyB,CAAEC,OAAQgE,KAC1F,0BAAM/O,UAAU,OAAOwB,QAAS,SAACM,GAAD,OAAO+G,EAAW/G,KAAKsJ,IAkG1C4D,GACD,0BAAMhP,UAAU,iBAAiBwB,QAjEjC,WACpBgM,EAAWpM,QAAQsE,SAgEC,YAGR,kBAAC6F,GAAD,KACI,kBAAC,GAAD,CACIhK,IAAKoM,EACL/G,SAAU,SAAAoB,GAAG,OAhEhB,SAACA,GAElB,IAAImE,EAAkB,IAAVnE,EAAIF,EAChByF,EAAYpB,GA6DyB8C,CAAajH,IAC9BxB,WAAW,GAEX,kBAACiF,GAAD,KAEQc,EAASvQ,KAAI,SAACC,EAAMC,GAChB,OACI,wBAAI8D,UAAU,OAAO7C,IAAKlB,EAAK6C,GAAI0C,QAAS,YAxFnD,SAACtF,GAC1BkQ,IAAiBlQ,GACrB0Q,EAA2B1Q,GAsF6DgT,CAAyBhT,KAxI9F,SAACD,GAEpB,IAAMmF,EAAUkL,EAAYxN,KAAO7C,EAAK6C,GAClCkB,EAAYoB,EAAU,YAAc,GACpC2N,EAAU3N,EAAU,WAAa,GACvC,OACI,uBAAGpB,UAAS,2BAAsBA,GAAa8K,wBAAyB,CAAEC,OAAQgE,KAmI7CI,CAAelT,GAChB,0BAAM+D,UAAU,QAAQ/D,EAAKE,KAA7B,MAAsCN,EAAQI,EAAK4F,KACnD,0BAAM7B,UAAU,QACZ,uBAAGA,UAAU,YAAb,WAEJ,0BAAMA,UAAU,SAASwB,QAAS,SAACM,GAAD,OAzFrD,SAACA,EAAGjD,GACzBiD,EAAEC,kBACFgL,EAAmBlO,GAuF8DuQ,CAAiBtN,EAAG7F,KACzD,uBAAG+D,UAAU,YAAb,mBAUpC,kBAAC,GAAD,CACIuB,IAAKiM,EACLpC,KAAM,6CACNU,cAAe,eACfC,eAAgB,eAChBC,cAhGW,WACvBiB,aC9HKoC,GAA0B,SAACC,GAEtC,OADArM,QAAQC,IAAR,8BAAmCoM,IAC5B9M,GAAc+M,IAAd,8BAAyCD,KAGrCE,GAAsB,SAACC,EAAUC,EAAOJ,GAEnD,OADArM,QAAQC,IAAR,2BAAgCuM,EAAhC,oBAAoDC,EAAMC,cAA1D,mBAAkFL,IAC3E9M,GAAc+M,IAAd,2BAAsCE,EAAtC,oBAA0DC,EAAMC,cAAhE,mBAAwFL,K,kBChB3FM,GAAU,uCAMKC,G,WAKjB,WAAYC,GAA2B,IAAtBC,EAAqB,uDAAX,aAAW,qBAClCC,KAAKF,IAAMA,EACXE,KAAKrF,MAAQ,GACbqF,KAAKC,QAAUF,EACfC,KAAK7D,MAbO,EAcZ6D,KAAKE,aAAe,EACpBF,KAAKG,WAAa,EAElBH,KAAKI,a,0DAML,IADA,IAAMzF,EAAQqF,KAAKF,IAAIO,MAAM,MACpB/R,EAAI,EAAGA,EAAIqM,EAAMnO,OAAQ8B,IAAK,CACnC,IAAMgS,EAAO3F,EAAMrM,GACfiS,EAASX,GAAQY,KAAKF,GAC1B,GAAKC,EAAL,CACA,IAAM1F,EAAMyF,EAAKG,QAAQb,GAAS,IAAIc,OAClC7F,IACyB,IAArB0F,EAAO,GAAG/T,SACV+T,EAAO,GAAKA,EAAO,GAAK,IAE5BP,KAAKrF,MAAMtM,KAAK,CACZsS,KAAkB,GAAZJ,EAAO,GAAU,IAAmB,IAAZA,EAAO,GAA+B,IAAlBA,EAAO,IAAM,GAC/D1F,UAIZmF,KAAKrF,MAAMiG,MAAK,SAACC,EAAGC,GAChB,OAAOD,EAAEF,KAAOG,EAAEH,U,6BAKQ,IAA7BI,EAA4B,uDAAnB,EAAGC,EAAgB,wDACxBhB,KAAKrF,MAAMnO,SAGhBwT,KAAK7D,MA/CS,EAiDd6D,KAAKE,aAAeF,KAAKiB,kBAAkBF,GAG3Cf,KAAKkB,aAAalB,KAAKE,aAAe,GAEtCF,KAAKG,YAAc,IAAIgB,KAASJ,EAE5Bf,KAAKE,aAAeF,KAAKrF,MAAMnO,SAC/Bd,aAAasU,KAAKxU,OAElBwU,KAAKoB,UAAUJ,O,wCAILL,GACd,IAAK,IAAIrS,EAAI,EAAGA,EAAI0R,KAAKrF,MAAMnO,OAAQ8B,IACnC,GAAIqS,GAAQX,KAAKrF,MAAMrM,GAAGqS,KACtB,OAAOrS,EAGf,OAAO0R,KAAKrF,MAAMnO,OAAS,I,mCAGlB8B,GACLA,EAAI,GAGR0R,KAAKC,QAAQ,CACTpF,IAAKmF,KAAKrF,MAAMrM,GAAGuM,IACnBwG,QAAS/S,M,kCAIU,IAEnB/C,EAFkB,OAAhByV,EAAgB,wDAClBV,EAAON,KAAKrF,MAAMqF,KAAKE,cAE3B,GAAIc,EACAzV,EAAQ+U,EAAKK,OAAS,IAAIQ,KAASnB,KAAKG,gBACrC,CAEH,IAAImB,EAAUtB,KAAKrF,MAAMqF,KAAKE,aAAe,GAAKF,KAAKrF,MAAMqF,KAAKE,aAAe,GAAGS,KAAO,EAC3FpV,EAAQ+U,EAAKK,KAAOW,EAExBtB,KAAKxU,MAAQG,YAAW,WACpB,EAAKuV,aAAa,EAAKhB,gBACnB,EAAKA,aAAe,EAAKvF,MAAMnO,QA9FzB,IA8FmC,EAAK2P,OAC9C,EAAKiF,cAEV7V,K,2BAEFwV,GACDf,KAAKuB,KAAKR,GAAQ,O,KCiK1B,IAuCe7E,gBAvCS,SAAAC,GAAK,MAAK,CAC9B3L,WAAY2L,EAAME,MAAM,CAAC,SAAU,eACnC5L,QAAS0L,EAAME,MAAM,CAAC,SAAU,YAChCC,YAAaH,EAAME,MAAM,CAAC,SAAU,gBACpCI,aAAcN,EAAME,MAAM,CAAC,SAAU,iBACrC/D,KAAM6D,EAAME,MAAM,CAAC,SAAU,SAC7BD,aAAcD,EAAME,MAAM,CAAC,SAAU,iBACrCE,SAAUJ,EAAME,MAAM,CAAC,SAAU,aACjCG,iBAAkBL,EAAME,MAAM,CAAC,SAAU,yBAIlB,SAAAK,GACvB,MAAO,CACH8E,sBADG,SACmB5W,GAClB8R,EAAS3R,EAAmBH,KAEhC6W,yBAJG,SAIsB7W,GACrB8R,EnBnRoB,SAAC9R,GAAD,MAAW,CACvCC,KCR2B,yBDS3BD,QmBiRiB8W,CAAiB9W,KAE9B+R,uBAPG,SAOoB/R,GACnB8R,EAAStR,EAAmBR,KAEhCgS,2BAVG,SAUwB1Q,GACvBwQ,EAASvR,EAAmBe,KAEhCyV,sBAbG,SAamB/W,GAClB8R,EAAS/R,EAAkBC,KAE/BiS,mBAhBG,SAgBgBjS,GACf8R,EAASxR,EAAeN,KAE5BkS,uBAnBG,SAmBoBlS,GACnB8R,EAASzR,EAAeL,QAMrBsR,CAGb/M,IAAMC,MA/RR,SAAgBC,GAAQ,IAEhBmB,EAOAnB,EAPAmB,WACAC,EAMApB,EANAoB,QACA2L,EAKA/M,EALA+M,aACUe,EAIV9N,EAJAkN,SACaW,EAGb7N,EAHAiN,YACAhE,EAEAjJ,EAFAiJ,KACkB8E,EAClB/N,EADAmN,iBAGAgF,EAOAnS,EAPAmS,sBACA5E,EAMAvN,EANAuN,2BACA+E,EAKAtS,EALAsS,sBACA7E,EAIAzN,EAJAyN,uBACAD,EAGAxN,EAHAwN,mBACA4E,EAEApS,EAFAoS,yBACA9E,EACAtN,EADAsN,uBAGEJ,EAAWY,EAAkBE,OAC7Bb,EAAmBY,EAA0BC,OAC7Cf,EAAcY,EAAqBG,OAtBtB,EAyB4BzJ,mBAAS,IAzBrC,mBAyBZ4E,EAzBY,KAyBSoJ,EAzBT,KA0BbnJ,EAAe3H,mBAEfyH,EAAiBzH,iBAAO,GAGxB+Q,EAAY/Q,kBAAO,GA/BN,EAgCa8C,mBAAS,IAhCtB,mBAgCZkO,EAhCY,KAgCFC,EAhCE,KAkCbC,EAAWlR,mBAlCE,EAoCW8C,mBAAS,IApCpB,mBAoCZqO,EApCY,KAoCHC,EApCG,KAsCbC,EAAWrR,mBAtCE,EAwCmB8C,mBAAS,GAxC5B,mBAwCZyE,EAxCY,KAwCC+J,EAxCD,OA0CaxO,mBAAS,GA1CtB,mBA0CZwE,EA1CY,KA0CFiK,EA1CE,KA4Cf9S,EAAU+S,MAAMjK,EAAcD,GAAY,EAAIC,EAAcD,EAOhEpE,qBAAU,WACN,GACKuI,EAAS/P,SACQ,IAAlB4P,GACCG,EAASH,IACVG,EAASH,GAActN,KAAOmT,EAAQnT,GAJ1C,CAOA,IjBHkBA,EiBGdsC,EAAUmL,EAASH,GACvB8F,EAAW9Q,GACXyQ,EAAUzQ,SAAU,EACpBuQ,EAAsBvQ,GACtB+Q,EAAS/Q,QAAQK,KjBPC3C,EiBOgBsC,EAAQtC,GjBN1C,iDAAN,OAAwDA,EAAxD,SiBOMnD,YAAW,WACPwW,EAAS/Q,QAAQmQ,OAAOgB,MAAK,WACzBV,EAAUzQ,SAAU,KACrB,SAAC4B,GAAUC,QAAQC,IAAIF,SAE9BwO,GAAsB,GACtBgB,EAASpR,EAAQtC,IACjBsT,EAAe,GACfC,EAAajR,EAAQqR,GAAK,IAAQ,MACnC,CAAClG,EAAUH,IAGdpI,qBAAU,WACNvD,EAAU0R,EAAS/Q,QAAQmQ,OAASY,EAAS/Q,QAAQsR,UACtD,CAACjS,IAEJ,IAAMC,EAAe,SAACoB,EAAGqK,GACrBrK,EAAEC,kBACFyP,EAAsBrF,GAElB1D,EAAarH,SACbqH,EAAarH,QAAQuR,WAAwB,IAAZtK,IAsBnCuK,EAAa,WACfT,EAAS/Q,QAAQiH,YAAc,EAC/BtN,GAAmB,GACnBoX,EAAS/Q,QAAQmQ,QAef3I,EAAa,WAEf,GAAwB,IAApB2D,EAAS/P,OAAb,CAIA,IAAIN,EAAQkQ,EAAe,EACvBlQ,IAAUqQ,EAAS/P,SAAQN,EAAQ,GAClCuE,GAAS+Q,GAAsB,GACpC5E,EAA2B1Q,QANvB0W,KA8CFC,EAAc,SAAC,GAAsB,IAApBxB,EAAmB,EAAnBA,QAASxG,EAAU,EAAVA,IACvBpC,EAAarH,UAClBmH,EAAenH,QAAUiQ,EACzBO,EAAgB/G,KAGd2H,EAAW,SAAA1T,GACb,IAAIgU,EAAQ,GACRrK,EAAarH,SACbqH,EAAarH,QAAQ2R,OF3KF,SAAAjU,GAE7B,OADAmE,QAAQC,IAAR,oBAAyBpE,IAClB0D,GAAc+M,IAAd,oBAAgCzQ,IE4KjCkU,CAAgBlU,GACXyT,MAAK,SAAA3X,IACFkY,EAAQlY,EAAKkV,IAAIgD,QAKjBrK,EAAarH,QAAU,IAAIyO,GAAMiD,EAAOD,GACxCpK,EAAarH,QAAQmQ,OACrBhJ,EAAenH,QAAU,EACzBqH,EAAarH,QAAQ6R,KAAK,IANtBxK,EAAarH,QAAU,QAQ9B8R,OAAM,WACHrB,EAAUzQ,SAAU,EACpB+Q,EAAS/Q,QAAQmQ,WAK7B,OACI,6BACMnV,EAAckQ,GAAe,KAC3B,kBAAC,GAAD,CACI7L,QAASA,EACT5B,KAAMyN,EACN9L,WAAYA,EACZG,iBAAkB8Q,EAClB/Q,aAAcA,EACdnB,QAASA,EACTqB,eAAgB+L,IAEvBvQ,EAAckQ,GAAe,KAC1B,kBAAC,GAAD,CACIzN,KAAMyN,EACN9L,WAAYA,EACZG,iBAAkB8Q,EAClBlS,QAASA,EACTkB,QAASA,EACT2H,SAAUA,EACVC,YAAaA,EACb3H,aAAcA,EACdgI,iBArIS,SAAAnE,GACrB,IAAM4O,EAAU5O,EAAa6D,EAC7BgK,EAAee,GACfhB,EAAS/Q,QAAQiH,YAAc8K,EAC1B1S,GACD+Q,GAAsB,GAEtB/I,EAAarH,SACbqH,EAAarH,QAAQ6R,KAAgB,IAAVE,IA8HnBxK,WAnHG,WAEf,GAAwB,IAApB4D,EAAS/P,OAAb,CAIA,IAAIN,EAAQkQ,EAAe,EACvBlQ,EAAQ,IAAGA,EAAQqQ,EAAS/P,OAAS,GACpCiE,GAAS+Q,GAAsB,GACpC5E,EAA2B1Q,QANvB0W,KAiHQhK,WAAYA,EACZN,KAAMA,EACNO,WA9FG,WACf,IAAI4F,GAAWnG,EAAO,GAAK,EAC3B,GAAgB,IAAZmG,EAAe,CAEf3B,EAAuBN,GACvB,IAAItQ,EAAQ0C,GAAU0N,EAAaE,GACnCI,EAA2B1Q,GAC3B6V,EAAY,iCACT,GAAgB,IAAZtD,EAEP3B,EAAuBN,GACvBuF,EAAY,iCACT,GAAgB,IAAZtD,EAAe,CAEtB,IAAIC,EAAU3Q,GAAQyO,GAClBtQ,EAAQ0C,GAAU0N,EAAaoC,GACnC5B,EAAuB4B,GACvB9B,EAA2B1Q,GAC3B6V,EAAY,4BAEhBlF,EAAmB4B,GACnBuD,EAAS5Q,QAAQsE,QA0EL9E,eAAgB+L,EAChBlE,aAAcA,EAAarH,QAC3BoH,oBAAqBA,EACrBD,eAAgBA,EAAenH,UAEvC,2BAAOG,IAAK4Q,EAAUiB,aApJX,SAAAtR,GACfsQ,EAAetQ,EAAEuR,OAAOhL,cAmJ4BiL,QA5EtC,WACVhL,IAASnF,GACTyP,IAEAhK,KAwEoE2K,QApExD,WAChB1B,EAAUzQ,SAAU,EACpB6B,QAAQC,IAAI,+BAmER,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAOkI,KAAM0G,EAAUvQ,IAAKyQ,SC3NzB7S,WAAMC,MAlCrB,SAAcC,GAAQ,IACZmU,EAAUnU,EAAVmU,MAER,OACE,6BACE,kBAACnZ,EAAD,KACE,0BAAM2F,UAAU,iBAAhB,UACA,0BAAMA,UAAU,SAAhB,4BACA,0BAAMA,UAAU,kBAAkBwB,QAAS,kBAAMnC,EAAMoU,QAAQpV,KAAM,aAArE,WAEF,kBAAC5D,EAAD,KACI,kBAAC,IAAD,CAASiZ,GAAG,aAAaC,gBAAgB,YACvC,kBAACjZ,EAAD,KACE,kDAGJ,kBAAC,IAAD,CAASgZ,GAAG,WAAWC,gBAAgB,YACrC,kBAACjZ,EAAD,KACE,kDAGJ,kBAAC,IAAD,CAASgZ,GAAG,QAAQC,gBAAgB,YAClC,kBAACjZ,EAAD,KACE,yDAKNkZ,YAAaJ,EAAMK,QACrB,kBAAC,GAAD,U,qpBChCC,IAAMC,GAAkBxZ,IAAOC,IAAV,KAYVC,EAgBEA,G,kBCeL2E,WAAMC,MAzCrB,SAAgBC,GAAQ,IAAD,EACmBuE,mBAAS,MAD5B,mBACdmQ,EADc,KACAC,EADA,KAEbC,EAAe5U,EAAf4U,WAeR,OAbAjQ,qBAAU,WACR,GAAIiQ,EAAWzX,SAAWuX,EAAc,CACtC,IAAIG,EAAkB,IAAIC,KAAO,oBAAqB,CACpDC,MAAM,EACNC,SAAU,CACR9Y,MAAO,IACP+Y,sBAAsB,GAExBC,WAAY,CAAEC,GAAI,wBAEpBR,EAAgBE,MAEjB,CAACD,EAAWzX,OAAQuX,IAErB,kBAACD,GAAD,KACE,yBAAK9T,UAAU,WACf,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBAEXiU,EAAWjY,KAAI,SAAAyY,GACb,OACE,yBAAKzU,UAAU,eAAe7C,IAAKsX,EAAOC,UACxC,yBAAK1U,UAAU,cACb,yBAAKyB,IAAKgT,EAAOC,SAAU/U,MAAM,OAAOC,OAAO,OAAOgC,IAAI,uBAOtE,yBAAK5B,UAAU,2BCpBV2U,GAAgB,WAC3B,OAAO,SAACjI,GNjBDlK,GAAc+M,IAAK,WMkBJgD,MAAM,SAAA3X,GACxB8R,EAlB0B,SAAC9R,GAAD,MAAW,CACzCC,KCL2B,0BDM3BD,KAAME,iBAAQF,IAgBAga,CAAkBha,EAAKia,aAChC3B,OAAO,WACRjQ,QAAQC,IAAK,+DAKN4R,GAAmB,WAC9B,OAAO,SAACpI,GNvBDlK,GAAc+M,IAAK,iBMwBGgD,MAAM,SAAA3X,GAC/B8R,EAvB6B,SAAC9R,GAAD,MAAW,CAC5CC,KCRmC,2BDSnCD,KAAME,iBAAQF,IAqBAma,CAAqBna,EAAK2V,SACpC7D,EAnB2B,SAAC9R,GAAD,MAAS,CACxCC,KCXkC,iCDYlCD,QAiBaoa,EAAkB,OAC1B9B,OAAO,WACRjQ,QAAQC,IAAK,qE,izCEhCZ,IAAM+R,GAAc3a,IAAOC,IAAV,MASX2a,GAAO5a,IAAOC,IAAV,MAQJ4a,GAAW7a,IAAOC,IAAV,KAoBFC,EAEJA,EAkBIA,EAEJA,G,oBCnBA2E,WAAMC,KAAKgW,aAjC1B,SAAuB/V,GAInB,OACI,kBAAC4V,GAAD,KACI,wBAAIjV,UAAU,SAAd,4BACA,kBAACkV,GAAD,KAEQ7V,EAAMgW,cAAcrZ,KAAI,SAACC,EAAMC,GAC3B,OACI,kBAACiZ,GAAD,CAAUhY,IAAKlB,EAAK6C,GAAG5C,EAAOsF,QAAS,kBAV1C1C,EAU4D7C,EAAK6C,QATlFO,EAAMoU,QAAQpV,KAAd,qBAAiCS,IADjB,IAACA,IAWO,yBAAKkB,UAAU,eACX,yBAAKA,UAAU,aACf,kBAAC,KAAD,CAAUsV,YAAa,yBAAK3V,MAAM,OAAOC,OAAO,OAAO6B,IAAK8T,EAAQ,KAAgB3T,IAAI,UAAgBhC,OAAQ,IAE5G,yBAAK6B,IAAKxF,EAAK0F,OAAS,iBAAkBhC,MAAM,OAAOC,OAAO,OAAOgC,IAAI,WAE7E,yBAAK5B,UAAU,cACX,uBAAGA,UAAU,iBAAb,UACA,0BAAMA,UAAU,SxB9BhC,SAACsP,GACvB,KAAIA,EAAQ,GACZ,OAAIA,EAAQ,IACHA,EACE9Q,KAAKC,MAAM6Q,EAAQ,KAAS,IAC9B9Q,KAAKC,MAAM6Q,EAAQ,KAAQ,GAAK,SAEhC9Q,KAAKC,MAAM6Q,EAAQ,KAAY,GAAK,SwBuBkBkG,CAASvZ,EAAKwZ,cAG/C,yBAAKzV,UAAU,QAAQ/D,EAAKE,gB,2IC/BrD,IAAMuZ,GAAUpb,IAAOC,IAAV,MAGR,SAAA8E,GAAK,OAAIA,EAAMkS,KAAO,EAAE,OAAQ,KCyC5C,IAqBerF,gBArBS,SAACC,GAAD,MAAY,CAGlC8H,WAAY9H,EAAME,MAAM,CAAC,YAAa,eACtCgJ,cAAelJ,EAAME,MAAM,CAAC,YAAa,kBACzCsJ,aAAcxJ,EAAME,MAAM,CAAC,YAAa,iBACxCuJ,WAAYzJ,EAAME,MAAO,CAAC,SAAU,aAAawJ,SAGxB,SAACnJ,GAC1B,MAAO,CACLoJ,sBADK,WAEHpJ,EAASqJ,OAEXC,6BAJK,WAKHtJ,EAASqJ,UAMA7J,CAA6C/M,IAAMC,MAxDlE,SAAmBC,GAAQ,IACjB4U,EAAwD5U,EAAxD4U,WAAYoB,EAA4ChW,EAA5CgW,cAAeM,EAA6BtW,EAA7BsW,aAAaC,EAAgBvW,EAAhBuW,WAExCE,EAAwDzW,EAAxDyW,sBAAuBE,EAAiC3W,EAAjC2W,6BAE/BhS,qBAAU,WACHiQ,EAAW4B,MACdC,IAEGT,EAAcQ,MACjBG,MAGD,IAEH,IAAMC,EAAehC,EAAaA,EAAW5G,OAAS,GAChD6I,EAAkBb,EAAgBA,EAAchI,OAAS,GAE/D,OACE,kBAACqI,GAAD,CAASnE,KAAMqE,GACb,kBAAC,GAAD,CAAQ5V,UAAU,OAAO4G,SAAUuP,eACjC,6BACE,kBAAC,GAAD,CAAQlC,WAAYgC,IACpB,kBAAC,GAAD,CAAeZ,cAAea,MAGhCP,EAAe,kBAAC,GAAD,MAAsB,KAGrC/B,YAAavU,EAAMmU,MAAMK,a,mkBClCjC,IAAMqB,GAAO5a,IAAOC,IAAV,KAWOC,GAIX2a,GAAW7a,IAAO8b,KAAV,KAEC5b,EAIFA,EACWA,GAKxB,SAAS6b,GAAQhX,GAAQ,IACbvD,EAAwBuD,EAAxBvD,KAAMwa,EAAkBjX,EAAlBiX,OAAQC,EAAUlX,EAAVkX,MACdC,EAAgBnX,EAAhBmX,YAIFC,EAAW3V,iBAAO,MAcxB,OAXAkD,qBAAU,WACN,IAAI0S,EAAcD,EAASrV,QACvBuV,EAAWD,EAAYE,iBAAiB,QACxCC,EAAa,EACjBC,MAAMC,KAAKJ,GAAUvY,SAAQ,SAAA4Y,GACzBH,GAAcG,EAAI5S,eAEtBsS,EAAYlc,MAAMmF,MAAlB,UAA6BkX,EAA7B,QACD,IAIC,kBAAC,GAAD,CAAQxQ,UAAW,cACf,yBAAK9E,IAAKkV,GACN,kBAAC,GAAD,KACI,8BAAOF,GAEHza,EAAKE,KAAI,SAACC,GACN,OACI,kBAAC,GAAD,CACIkB,IAAKlB,EAAKkB,IACV6C,UAAS,UAAKsW,IAAWra,EAAKkB,IAAM,WAAa,IACjDqE,QAAS,kBAAMgV,EAAYva,EAAKkB,OAC/BlB,EAAKE,YAiB1Cka,GAAQ1Q,aAAe,CACnB7J,KAAM,GACNwa,OAAQ,GACRC,MAAO,GACPC,YAAa,MASFpX,sBAAKiX,I,uhCC5Fb,IAAMY,GAAe3c,IAAOC,IAAV,MASZ2c,GAAgB5c,IAAOC,IAAV,MASb2a,GAAO5a,IAAOC,IAAV,KAOJC,EACIA,GAGJ2a,GAAW7a,IAAOC,IAAV,KAOQC,EAUZA,EACJA,G,SChCL2c,GAAmB,SAACvc,GAAD,MAAW,CAClCC,KCnB8B,6BDoB9BD,KAAME,iBAAOF,KAGFwc,GAAkB,SAACxc,GAAD,MAAW,CACxCC,KCvB6B,qBDwB7BD,SAIWyc,GAAqB,SAACzc,GAAD,MAAW,CAC3CC,KC5BgC,wBD6BhCD,SAIW0c,GAAsB,SAAC1c,GAAD,MAAW,CAC5CC,KCjCiC,yBDkCjCD,SAIW2c,GAAwB,SAAC3c,GAAD,MAAW,CAC9CC,KCtCmC,2BDuCnCD,SAIW4c,GAAmB,WAC9B,OAAO,SAAC9K,GACN2C,GAAwB,GAAGkD,MAAK,SAAAxP,GAC9B,IAAMnI,EAAOmI,EAAI0U,QACjB/K,EAASyK,GAAiBvc,IAC1B8R,EAAS2K,IAAmB,IAC5B3K,EAAS6K,IAAsB,OAC9BrE,OAAM,WACPjQ,QAAQC,IAAI,qEAqBLwU,GAAgB,SAACjI,EAAUC,GACtC,OAAO,SAAChD,EAAUiL,GAChBnI,GAAqBC,EAAUC,EAAO,GAAG6C,MAAK,SAAAxP,GAC5C,IAAMnI,EAAOmI,EAAI0U,QACjB/K,EAASyK,GAAiBvc,IAC1B8R,EAAS2K,IAAmB,IAC5B3K,EAAS6K,IAAsB,OAC9BrE,OAAM,WACPjQ,QAAQC,IAAI,yDEhFP0U,GAAsBC,wBAAe,IAO5CC,GAAU,SAAC3L,EAAO4L,GACtB,OAAQA,EAAOld,MACb,IAN2B,0BAOzB,OAAOsR,EAAM6L,IAAK,WAAYD,EAAOnd,MACvC,IAPwB,uBAQtB,OAAOuR,EAAM6L,IAAK,QAASD,EAAOnd,MACpC,QACE,OAAOuR,IAKA8L,GAAO,SAAA5Y,GAAS,MAEF6Y,qBAAYJ,GAAShd,iBAAQ,CACpD2U,SAAU,GACVC,MAAO,MAJkB,mBAEpB9U,EAFoB,KAEd8R,EAFc,KAM3B,OACE,kBAACkL,GAAoBO,SAArB,CAA8BC,MAAO,CAACxd,OAAM8R,aACzCrN,EAAMkB,WCqGb,IAyCe2L,gBAzCS,SAACC,GAAD,MAAY,CAChCkM,WAAYlM,EAAME,MAAM,CAAC,UAAW,eACpCsJ,aAAcxJ,EAAME,MAAM,CAAC,UAAW,iBACtCvF,cAAeqF,EAAME,MAAM,CAAC,UAAW,kBACvCrF,gBAAiBmF,EAAME,MAAM,CAAC,UAAW,oBACzCiM,UAAWnM,EAAME,MAAM,CAAC,UAAW,kBAEZ,SAACK,GACxB,MAAO,CAEH6L,qBAFG,WAGC7L,EAAS8K,OAGbgB,eANG,SAMY/I,EAAUC,GACrBhD,EAAS0K,GAAgB,IACzB1K,EAAS2K,IAAmB,IAC5B3K,EAASgL,GAAcjI,EAAUC,KAGrC+I,sBAZG,SAYmBhJ,EAAUC,EAAOgJ,EAAKpJ,GACxC5C,EAAS4K,IAAoB,IAC7B5K,EAAS0K,GAAgB9H,EAAQ,IAE7B5C,EADAgM,EH7FL,SAAChM,EAAUiL,GAChB,IAAMW,EAAYX,IAAWtL,MAAM,CAAC,UAAW,cACzCgM,EAAaV,IAAWtL,MAAM,CAAC,UAAW,eAAegB,OAC/DgC,GAAwBiJ,GAAW/F,MAAK,SAAAxP,GACtC,IAAMnI,EAAI,uBAAOyd,GAAP,aAAsBtV,EAAI0U,UACpC/K,EAASyK,GAAiBvc,IAC1B8R,EAAS4K,IAAoB,OAC5BpE,OAAM,WACPjQ,QAAQC,IAAI,oEAoBmB,SAACuM,EAAUC,GAC9C,OAAO,SAAChD,EAAUiL,GAChB,IAAMW,EAAYX,IAAWtL,MAAM,CAAC,UAAW,cACzCgM,EAAaV,IAAWtL,MAAM,CAAC,UAAW,eAAegB,OAC/DmC,GAAqBC,EAAUC,EAAO4I,GAAW/F,MAAK,SAAAxP,GACpD,IAAMnI,EAAI,uBAAOyd,GAAP,aAAsBtV,EAAI0U,UACpC/K,EAASyK,GAAiBvc,IAC1B8R,EAAS4K,IAAoB,OAC5BpE,OAAM,WACPjQ,QAAQC,IAAI,wDG2DKyV,CAAsBlJ,EAAUC,KAIjDkJ,wBAtBG,SAsBqBnJ,EAAUC,GAC9BhD,EAAS6K,IAAsB,IAC/B7K,EAAS0K,GAAgB,IAErB1K,EADa,KAAb+C,GAA6B,KAAVC,EACV8H,KAEAE,GAAcjI,EAAUC,QAKlCxD,CAA6C/M,IAAMC,MA/IlE,SAAiBC,GAAO,MAGOwZ,qBAAWjB,IAA9Bhd,EAHY,EAGZA,KAAM8R,EAHM,EAGNA,SAHM,EAKQ9R,EAAKyS,OAAzBoC,EALY,EAKZA,SAAUC,EALE,EAKFA,MACV2I,EAAwEhZ,EAAxEgZ,WAAY1C,EAA4DtW,EAA5DsW,aAAc7O,EAA8CzH,EAA9CyH,cAAeE,EAA+B3H,EAA/B2H,gBAAiBsR,EAAcjZ,EAAdiZ,UAC1DC,EAAyFlZ,EAAzFkZ,qBAAsBC,EAAmEnZ,EAAnEmZ,eAAgBC,EAAmDpZ,EAAnDoZ,sBAAuBG,EAA4BvZ,EAA5BuZ,wBAGrE5U,qBAAU,WACDqU,EAAWxC,MACZ0C,MAGL,IAYH,IAUMO,EAAezK,uBAAY,WAC7BoK,EAAsBhJ,EAAUC,EAAoB,KAAbD,EAAiB6I,KACzD,CAAC7I,EAAUC,EAAO4I,IAEfS,EAAiB1K,uBAAY,WAC/BuK,EAAwBnJ,EAAUC,KACnC,CAACD,EAAUC,IA4Bd,OACI,6BACI,kBAACuH,GAAD,KACI,kBAAC,GAAD,CACInb,KAAMsH,GACNmT,MAAO,2CACPC,YA7CW,SAACwC,GACxBtM,EAAS,CAAE7R,KDxDY,0BCwDWD,KAAMoe,IACxCR,EAAeQ,EAAKtJ,IA4CR4G,OAAQ7G,IACZ,kBAAC,GAAD,CACI3T,KAAMuH,GACNkT,MAAO,sBACPC,YAvDQ,SAACwC,GACrBtM,EAAS,CAAE7R,KDlDS,uBCkDWD,KAAMoe,IACrCR,EAAe/I,EAAUuJ,IAsDb1C,OAAQ5G,KAEhB,kBAACwH,GAAD,KACI,kBAAC,GAAD,CAASxR,KAAMiQ,IAEf,kBAAC,GAAD,CACIjP,OAAQoS,EACRnS,SAAUoS,EACVjS,cAAeA,EACfE,gBAAiBA,EACjBJ,SAAUuP,eA5CD,WACrB,IAAMra,EAAOuc,EAAaA,EAAWhL,OAAS,GAC9C,OACI,kBAAC,GAAD,KAEQvR,EAAKE,KAAI,SAACC,EAAMC,GACZ,OACI,kBAAC,GAAD,CAAUiB,IAAKlB,EAAKgd,UAAY,GAAK/c,EAAOsF,QAAS,WAXzD,IAAC1C,IAWyE7C,EAAK6C,GAV/FO,EAAMoU,QAAQpV,KAAd,mBAAgCS,MAWR,yBAAKkB,UAAU,eACX,kBAAC,KAAD,CAAUsV,YAAa,yBAAK3V,MAAM,OAAOC,OAAO,OAAO6B,IAAK8T,EAAQ,KAAiB3T,IAAI,UAAYhC,OAAQ,IACzG,yBAAK6B,IAAG,UAAKxF,EAAK0F,OAAV,kBAAkChC,MAAM,OAAOC,OAAO,OAAOgC,IAAI,YAGjF,0BAAM5B,UAAU,QAAQ/D,EAAKE,WAiCxC+c,KAGPtF,YAAavU,EAAMmU,MAAMK,aC7HjCsF,GAAere,iBAAO,CAC1Bse,SAAU,GACV7T,SAAS,ICSE8T,GAAc,WACzB,OAAO,SAAA3M,GnBMAlK,GAAc+M,IAAd,mBmBLgBgD,MAAK,SAAA3X,GACxB,IAAIkB,EAAOlB,GAAQA,EAAKkB,KACxB4Q,EAdiB,SAAC9R,GAAD,MAAW,CAChCC,KCL8B,6BDM9BD,KAAME,iBAAOF,IAYA0e,CAAexd,IACxB4Q,EAVgB,SAAC9R,GAAD,MAAW,CAC/BC,KCT4B,2BDU5BD,QAQa2e,EAAc,S,g0DEdtB,IAAMC,GAAYlf,IAAOC,IAAV,KASLC,EACJA,GAGA0a,GAAO5a,IAAOmf,GAAV,MAGJ,SAAApa,GAAK,OAAIA,EAAMqa,WAAa,OAAS,KAIlClf,GAOH2a,GAAW7a,IAAOqf,GAAV,MACR,SAAAta,GAAK,OAAIA,EAAMua,OAAOpd,OAAS,OAAS,KAExBhC,GAEf,SAAA6E,GAAK,OAAIA,EAAMua,OAAOpd,OAAS,OAAS,UACxC,SAAA6C,GAAK,OAAIA,EAAMua,OAAOpd,OAAS,OAAS,SAqBnChC,EACJA,GAIFqf,GAAWvf,IAAOmf,GAAV,KAWJjf,GAOJsf,GAAexf,IAAOC,IAAV,MCKzB,IAae2R,gBAbS,SAACC,GAAD,MAAY,CAClCiN,SAAUjN,EAAME,MAAM,CAAC,OAAQ,aAC/B9G,QAAS4G,EAAME,MAAM,CAAC,OAAQ,gBAGL,SAACK,GAC1B,MAAO,CACLqN,wBADK,WAEHrN,EAAS2M,UAKAnN,CAA6C/M,IAAMC,MA3FlE,SAAcC,GAAQ,IACFvD,EAAkBuD,EAA5B+Z,SAAgB7T,EAAYlG,EAAZkG,QAEhBwU,EAA4B1a,EAA5B0a,wBAEJX,EAAWtd,EAAOA,EAAKuR,OAAS,GAEpCrJ,qBAAU,WACHoV,EAAS5c,QACZud,MAED,IAEH,IAAIC,ErCEqB,SAAAZ,GACzB,IAAK,IAAI9a,EAAI,EAAGA,EAAI8a,EAAS5c,OAAS,EAAG8B,IACvC,GAAI8a,EAAS9a,GAAGsb,OAAOpd,SAAW4c,EAAS9a,EAAI,GAAGsb,OAAOpd,OACvD,OAAO8B,EAAI,EqCLQ2b,CAAYb,GAC/Bc,EAAed,EAASe,MAAM,EAAGH,GACjCI,EAAahB,EAASe,MAAMH,GAK1BK,EAAiB,SAACve,EAAMwe,GAC5B,OACE,kBAAC,GAAD,CAAMZ,WAAYY,GAEdxe,EAAKE,KAAI,SAACC,GAIR,OACE,kBAAC,GAAD,CAAUkB,IAAKlB,EAAKse,eAAgBX,OAAQ3d,EAAK2d,OAAQpY,QAAS,kBAAMgZ,EAAYve,KAClF,yBAAK+D,UAAU,eACb,yBAAKyB,IAAKxF,EAAKwe,YAAa7Y,IAAI,KAChC,yBAAK5B,UAAU,aACf,0BAAMA,UAAU,mBAAmB/D,EAAKye,kBAExCC,EAAe1e,EAAK2d,cAS9BY,EAAc,SAACI,GACnBvb,EAAMoU,QAAQpV,KAAd,gBAA6Buc,EAAO9b,MAGhC6b,EAAiB,SAAC7e,GACtB,OAAOA,EAAKU,OACV,kBAACqd,GAAD,KAEI/d,EAAKE,KAAI,SAACC,EAAMC,GACd,OAAO,wBAAIiB,IAAKjB,GAAQA,EAAQ,EAAzB,KAA8BD,EAAK4e,MAAnC,MAA6C5e,EAAK2B,YAI7D,MAEFkd,EAAevV,EAAU,CAAE,QAAW,QAAW,CAAE,QAAW,IAElE,OACE,kBAACiU,GAAD,KACE,kBAAC,GAAD,KACE,6BACE,wBAAIxZ,UAAU,UAAUxF,MAAOsgB,GAA/B,wBACCT,EAAeH,GAChB,wBAAIla,UAAU,SAASxF,MAAOsgB,GAA9B,wBACCT,EAAeD,GAAY,GAC3B7U,EAAU,kBAACuU,GAAD,KAAc,kBAAC,GAAD,OAAqC,OAGjElG,YAAavU,EAAMmU,MAAMK,a,+7JC7EzB,IAAM2F,GAAYlf,IAAOC,IAAV,KAONC,GAiCHugB,GAAUzgB,IAAOC,IAAV,MAcE,SAAA8E,GAAK,OAAIA,EAAM2b,aAgClBxgB,EAEJA,EAoBAA,EAGIA,EAgBEA,EACJA,GAMJygB,GAAO3gB,IAAOC,IAAV,KAYAC,EACJA,GASWF,IAAOC,IAAV,MAGjB,SAAA8E,GAAK,OAAIA,EAAM6b,eAAN,sBAAsC1gB,GAAwC,KAO5DA,EAIhBA,EAOMA,EACJA,EAaGA,EACLA,EAgBKA,EACLA,GAISF,IAAOmf,GAAV,KAoBYjf,EACzBA,IAEEA,IAGOA,EAGIA,G,6yBChPrB,IAAM2gB,GAAkB7gB,IAAOC,IAAV,KASVC,EAOMA,GAKX4gB,GAAUpc,YAAH,MAYPqc,GAAU/gB,IAAOC,IAAV,KAQE6gB,IAOTE,GAASnc,IAAM8G,YAAW,SAAC5G,EAAOkC,GAAS,IACvCiV,EAAiCnX,EAAjCmX,YAAaD,EAAoBlX,EAApBkX,MAAOgF,EAAalc,EAAbkc,UAC5B,OACE,kBAACJ,GAAD,CAAiB5Z,IAAKA,GACpB,uBAAGvB,UAAU,gBAAiBwB,QAASgV,GAAvC,UAEE+E,EAAY,kBAACF,GAAD,KAAS,wBAAIrb,UAAU,QAAQuW,IAC3C,4BAAKA,OAMb+E,GAAO3V,aAAe,CAClB6Q,YAAa,aACbD,MAAO,eACPgF,WAAW,GASApc,WAAMC,KAAKkc,ICtEbjE,GAAqB,SAACzc,GAAD,MAAW,CAC3CC,KCTkC,6BDUlCD,SAGW4gB,GAAe,SAAC1c,GAC3B,OAAO,SAAA4N,IzBS4B,SAAA5N,GACnC,OAAO0D,GAAc+M,IAAd,8BAA0CzQ,KyBT/C2c,CAAuB3c,GAAIyT,MAAM,SAAAxP,GAC/B,IAAInI,EAAOmI,EAAI2Y,SACfhP,EAdqB,SAAC9R,GAAD,MAAW,CACpCC,KCLkC,6BDMlCD,KAAME,iBAAQF,IAYA+gB,CAAoB/gB,IAC9B8R,EAAU2K,IAAoB,OAC7BnE,OAAO,WACRjQ,QAAQC,IAAK,0D,2hEElBZ,IAAM2W,GAAWvf,IAAOC,IAAV,MAIjB,SAAA8E,GAAK,OAAIA,EAAM6b,eAAN,sBAAsC1gB,EAAtC,KAA+E,KAO7DA,EAIhBA,EAOMA,EACJA,EAaGA,EACLA,EAgBKA,EACLA,GAIFohB,GAAWthB,IAAOmf,GAAV,KAoBYjf,EACzBA,IAEEA,IAGOA,EAGIA,GCpFfqhB,GAAY1c,IAAM8G,YAAW,SAAC5G,EAAOyc,GAAU,IAoChCxM,EAlCTyM,EAAqC1c,EAArC0c,aAAcC,EAAuB3c,EAAvB2c,YAAaC,EAAU5c,EAAV4c,MAC3BnP,EAAsFzN,EAAtFyN,uBAAwBF,EAA8DvN,EAA9DuN,2BAA4BsP,EAAkC7c,EAAlC6c,8BAExDC,EAAmB9c,EAAnB8c,eAEEC,EAAaH,EAAMzf,OAEnB6f,EAAa,SAACva,EAAG5F,GAEnB4Q,EAAwBmP,GACxBC,EAA+BD,GAC/BrP,EAA4B1Q,GAC5BigB,EAAera,EAAE+M,YAAYyN,QAASxa,EAAE+M,YAAY0N,UA8BxD,OACI,kBAAC,GAAD,CAAUhb,IAAKua,EAAMZ,eAAgB7b,EAAM6b,gBACvC,yBAAKlb,UAAU,cACX,yBAAKA,UAAU,WAAWwB,QAAS,SAAAM,GAAC,OAAIua,EAAWva,EAAG,KAClD,uBAAG9B,UAAU,YAAb,UACA,2DAAa,0BAAMA,UAAU,OAAhB,WAA0Boc,EAA1B,cAEhBJ,GAfI1M,EAekByM,EAb3B,yBAAK/b,UAAU,YACX,uBAAGA,UAAU,YAAb,UACA,gDAAaxB,KAAKC,MAAM6Q,EAAQ,KAAQ,GAAxC,cAWuC,MAE3C,kBAAC,GAAD,KApCO,SAACxT,GAEZ,IADA,IAAIiH,EAAM,GADW,WAEZzE,GACL,IAAIrC,EAAOH,EAAKwC,GAChByE,EAAI1E,KACA,wBAAIlB,IAAKlB,EAAK6C,GAAI0C,QAAS,SAACM,GAAD,OAAOua,EAAWva,EAAGxD,KAC5C,0BAAM0B,UAAU,SAAS1B,EAAI,GAC7B,yBAAK0B,UAAU,QACX,8BAAO/D,EAAKE,MACZ,8BACKF,EAAK4F,GAAKhG,EAAQI,EAAK4F,IAAMhG,EAAQI,EAAKwb,SAD/C,MAC4Dxb,EAAKyF,GAAKzF,EAAKyF,GAAGvF,KAAOF,EAAKugB,MAAMrgB,UARvGmC,EAAI,EAAGA,EAAIxC,EAAKU,OAAQ8B,IAAM,EAA9BA,GAcT,OAAOyE,EAqBE0Z,CAASR,QAqBT/P,eAAS,MAfC,SAACQ,GACxB,MAAO,CACLI,uBADK,SACmBlS,GACtB8R,EAAUzR,EAAgBL,KAE5BgS,2BAJK,SAIuBhS,GAC1B8R,EAAUvR,EAAoBP,KAEhCshB,8BAPK,SAO0BthB,GAC7B8R,EAAU1R,EAAuBJ,QAMxBsR,CAAmC/M,IAAMC,KAAMyc,K,+YC5EhE,IAAMrC,GAAYlf,IAAOC,IAAV,KAMFC,GAWPkiB,GAAYzW,sBAAW,SAAC5G,EAAOkC,GAEjC,IAAMob,EAAW7b,mBAIXiD,EAAY1G,EAAY,aAGxBuf,EAAa,SAAC/R,GAChB,IAAMgS,EAAQ,oCAAgChS,EAAhC,UACViS,EAAWpgB,SAASC,cAAc,OAEtC,OADAmgB,EAASC,UAAYF,EACdC,EAASE,YAGpBhZ,qBAAU,WACN,IAAK,IAAI1F,EAAI,EAAGA,EAbA,EAaiBA,IAAK,CAClC,IAAI2e,EAAOL,EAAW,wCACtBD,EAASvb,QAAQ8b,YAAYD,GAGlB,GAAG9C,MAAMgD,KAAKR,EAASvb,QAAQb,UACrCnC,SAAQ,SAAAnC,GACbA,EAAKmhB,SAAU,EACfnhB,EAAKohB,iBAAiB,iBAAiB,WACnCrN,KAAKxV,MAAL,QAAwB,OACxBwV,KAAKxV,MAAMuJ,GAAX,uBACAiM,KAAKoN,SAAU,EAEJpN,KAAKsN,cAAc,OACzB9iB,MAAMuJ,GAAX,0BACD,QAGR,IAEH,IAAMwZ,EAAiB,SAAC,GACpB,IADkC,IAAZ9T,EAAW,EAAXA,EAAG3B,EAAQ,EAARA,EAAQ,WACxBxJ,GACL,IACIrC,EADW,GAAGke,MAAMgD,KAAKR,EAASvb,QAAQb,UAC1BjC,GAEpB,IAAqB,IAAjBrC,EAAKmhB,QAWL,OAVAnhB,EAAKzB,MAAMmK,KAAO8E,EAAI,KACtBxN,EAAKzB,MAAMkN,IAAMI,EAAI,KACrB7L,EAAKzB,MAAM6G,QAAU,eAErB1F,YAAW,WACPM,EAAKmhB,SAAU,EACfnhB,EAAKzB,MAAMuJ,GAAX,2BACW9H,EAAKqhB,cAAc,OACzB9iB,MAAMuJ,GAAX,6BACD,IACH,SAfCzF,EAAI,EAAGA,EAlCA,EAkCiBA,IAAK,gBAA7BA,GAeD,QASZ,OAJA2J,8BAAoB1G,GAAK,iBAAO,CAC5Bgc,qBAIA,kBAAC,GAAD,CAAWhc,IAAKob,OAKTxd,OAAMC,KAAKsd,ICgL1B,IAgBexQ,gBAhBS,SAACC,GAAD,MAAY,CAChCqR,aAAcrR,EAAME,MAAM,CAAC,QAAS,iBACpCsJ,aAAcxJ,EAAME,MAAM,CAAC,QAAS,qBAGb,SAACK,GACxB,MAAO,CACH+Q,qBADG,SACkB3e,GACjB4N,EAAS2K,IAAmB,IAC5B3K,EAAS8O,GAAa1c,QAOnBoN,CAA6C/M,IAAMC,MAtLlE,SAAeC,GAAQ,IAAD,EACkBuE,oBAAS,GAD3B,mBACX8Z,EADW,KACCC,EADD,OAEQ/Z,mBAAS,gBAFjB,mBAEX2S,EAFW,KAEJqH,EAFI,OAGgBha,oBAAS,GAHzB,mBAGX2X,EAHW,KAGAsC,EAHA,KAIZC,EAAWhd,mBACXid,EAAejd,mBAEfhC,EAAKO,EAAM2e,MAAMC,OAAOnf,GAEvB2e,EAAwBpe,EAAxBoe,qBACA9H,EAAmDtW,EAAnDsW,aAA0BuI,EAAyB7e,EAAtCme,aAEpBxZ,qBAAU,WACNyZ,EAAqB3e,KACtB,CAAC2e,EAAqB3e,IAGzB,IAAI0e,EAAeU,EAAsB7Q,OAMnC8Q,EAAa9P,uBAAY,WAC3BsP,GAAc,KAChB,IAII1O,EAAeZ,uBAAY,SAACrG,GAC9B,IACIzI,EAAUf,KAAK4f,IAAIpW,EAAIF,GADV,IAEbuW,EAAYP,EAAS1c,QAErB4G,EAAIF,GAJS,IAKbuW,EAAU7jB,MAAM8jB,gBAAkB9jB,EAClC6jB,EAAU7jB,MAAM+jB,QAAU/f,KAAKP,IAAI,GAAIsB,EAAU,GAAK,GACtDqe,EAASJ,EAAarhB,MACtB0hB,GAAa,KAEbQ,EAAU7jB,MAAM8jB,gBAAkB,GAClCD,EAAU7jB,MAAM+jB,QAAU,EAC1BX,EAAS,gBACTC,GAAa,MAEnB,CAACL,IAqFH,OACI,kBAACzc,GAAA,EAAD,CACIC,GAAI0c,EACJzc,QAAS,IACTC,WAAW,MACX+K,QAAQ,EACRZ,eAAa,EACb/J,SAAUjC,EAAMoU,QAAQ+K,QAExB,kBAAC,GAAD,KACI,kBAAC,GAAD,CAAQjd,IAAKuc,EAAUvH,MAAOA,EAAOC,YAAa2H,EAAY5C,UAAWA,IAEpEnf,EAAeohB,GAcP,KAZb,kBAAC,GAAD,CAAQhX,WAAW,EAAOI,SAAUqI,GAChC,6BAhGR,kBAAC8L,GAAD,CAASC,WAAYwC,EAAa/C,aAClB,yBAAKza,UAAU,cACX,yBAAKA,UAAU,YAEnB,yBAAKA,UAAU,eACX,yBAAKA,UAAU,aACf,yBAAKyB,IAAK+b,EAAa/C,YAAa7Y,IAAI,KACxC,yBAAK5B,UAAU,cACX,uBAAGA,UAAU,iBAAb,UACA,0BAAMA,UAAU,SAASxB,KAAKC,MAAM+e,EAAaiB,gBAAkB,KAAQ,GAA3E,cAGR,yBAAKze,UAAU,gBACX,yBAAKA,UAAU,SAASwd,EAAarhB,MACrC,yBAAK6D,UAAU,UACX,yBAAKA,UAAU,UACX,yBAAKyB,IAAK+b,EAAakB,QAAQC,UAAW/c,IAAI,MAElD,yBAAK5B,UAAU,QAAQwd,EAAakB,QAAQE,aASpE,kBAAC3D,GAAD,KACgB,6BACI,uBAAGjb,UAAU,YAAb,UADJ,gBAIA,6BACI,uBAAGA,UAAU,YAAb,UADJ,gBAIA,6BACI,uBAAGA,UAAU,YAAb,UADJ,gBAIA,6BACI,uBAAGA,UAAU,YAAb,UADJ,iBA4DJ,kBAAC,GAAD,CACIic,MAAOuB,EAAa5D,OACpBoC,aAAa,EACbD,aAAcyB,EAAaiB,gBAC3BtC,eAtID,SAAC1S,EAAG3B,GACvBiW,EAAa3c,QAAQmc,eAAgB,CAAE9T,IAAG3B,WA0IhC6N,EAAe,kBAAC,GAAD,MAAsB,KACvC,kBAAC,GAAD,CAAWpU,IAAKwc,U,miEChQzB,IAAMvE,GAAYlf,IAAOC,IAAV,MAKV,SAAA8E,GAAK,OAAIA,EAAMkS,KAAO,EAAI,OAAQ,KAsBjCsN,GAAavkB,IAAOC,IAAV,MAMH,SAAA8E,GAAK,OAAIA,EAAMyf,SAYtBC,GAAgBzkB,IAAOC,IAAV,KASVC,EACLA,GAiBEwkB,GAAkB1kB,IAAOC,IAAV,MAef0kB,GAAU3kB,IAAOC,IAAV,MC7EP8c,GAAqB,SAACzc,GAAD,MAAW,CACzCC,KCZgC,8BDahCD,SAGSskB,GAAgB,SAACpgB,GAC1B,OAAO,SAAA4N,IhCSyB,SAAA5N,GAClC,OAAO0D,GAAc+M,IAAd,sBAAkCzQ,KgCTnCqgB,CAAqBrgB,GAAIyT,MAAK,SAAA3X,GAC1B8R,EAjBS,SAAC9R,GAAD,MAAW,CAC5BC,KCLyB,uBDMzBD,KAAME,iBAAOF,IAeIwkB,CAAaxkB,EAAKykB,SAC3B3S,EAbQ,SAAC9R,GAAD,MAAW,CAC3BC,KCTkC,gCDUlCD,KAAME,iBAAOF,IAWI0kB,CAAY1kB,EAAK2kB,WAC1B7S,EAAS2K,IAAmB,SE2QxC,IAgBenL,gBAhBS,SAAAC,GAAK,MAAK,CAChCkT,OAAQlT,EAAME,MAAM,CAAC,aAAc,WACnC4P,MAAO9P,EAAME,MAAM,CAAC,aAAc,kBAClC9G,QAAS4G,EAAME,MAAM,CAAC,aAAc,gBAGX,SAAAK,GACzB,MAAO,CACL8S,sBADK,SACiB1gB,GACpB4N,EAAS2K,IAAmB,IAC5B3K,EAASwS,GAAcpgB,QAMdoN,CAA4C/M,IAAMC,MA5IjE,SAAgBC,GACd,IAAMogB,EAAgB3e,iBAAO,GADR,EAEe8C,oBAAS,GAFxB,mBAEd8Z,EAFc,KAEFC,EAFE,KAKX+B,EAGNrgB,EAHFggB,OACOM,EAELtgB,EAFF4c,MACA1W,EACElG,EADFkG,QAGMia,EAA0BngB,EAA1BmgB,sBAEFH,EAASK,EAAgBrS,OACzB4O,EAAQ0D,EAAetS,OAEvBuS,EAAgB9e,mBAChB+e,EAAe/e,mBACfgf,EAAoBhf,mBACpBif,EAAajf,mBACbkf,EAASlf,mBACTmf,EAAQnf,mBACRid,EAAejd,mBAQrBkD,qBAAU,WACR,IAAMlF,EAAKO,EAAM2e,MAAMC,OAAOnf,GAC9B0gB,EAAsB1gB,GACtB,IAAIohB,EAAIL,EAAaze,QAAQ+e,aAC7BV,EAAcre,QAAU8e,EACxBJ,EAAkB1e,QAAQ5G,MAAMkN,IAAhC,UAAyCwY,EAP5B,EAOb,MAEAD,EAAM7e,QAAQ5G,MAAMkN,IAApB,UAA6BwY,EAThB,EASb,MACAH,EAAW3e,QAAQmF,YAElB,IAEH,IAAM0I,EAAeZ,uBAAY,SAAArG,GAC/B,IAAIpI,EAAS6f,EAAcre,QACrBgf,EAAOpY,EAAIF,EACXuY,EAAWR,EAAaze,QACxBkf,EAAYV,EAAcxe,QAC1Bmf,EAAYP,EAAO5e,QACnBof,EAAWP,EAAM7e,QACjBqf,E5C1LmB,I4C0LJ7gB,EArBR,GAwBPL,EAAUf,KAAK4f,IAAIgC,EAAOxgB,GAE5BwgB,EAAO,GACTC,EAAS7lB,MAAT,0BAAuC,EAAI+E,EAA3C,KACA+gB,EAAU9lB,MAAV,mCAAiD4lB,EAAjD,UACAI,EAAShmB,MAAMkN,IAAf,UAAwB9H,EA7Bb,EA6B+BwgB,EAA1C,OACSA,GAAQK,GACjBD,EAAShmB,MAAMkN,IAAf,UAAwB9H,EA/Bb,EA+B+BpB,KAAK4f,IAAIgC,GAAnD,MAEAI,EAAShmB,MAAMkmB,OAAS,EACxBL,EAAS7lB,MAAMmmB,WAAa,MAC5BN,EAAS7lB,MAAMoF,OAAS,EACxBygB,EAAS7lB,MAAMkmB,QAAU,EAEzBJ,EAAU9lB,MAAV,mCAAiD4lB,EAAjD,UACAE,EAAU9lB,MAAV,kBAAgC,EAAc,EAAV+E,IAC3B6gB,EAAOK,IAEhBD,EAAShmB,MAAMkN,IAAf,UAAwBkZ,GAAxB,MACAJ,EAAShmB,MAAMkmB,OAAS,EAExBH,EAAU/lB,MAAMkmB,OAAS,IAEzBL,EAAS7lB,MAAMoF,OAAf,U5CpNuB,G4CoNvB,MACAygB,EAAS7lB,MAAMmmB,WAAa,EAC5BN,EAAS7lB,MAAMkmB,OAAS,MAEzB,IAEGG,EAAqBxS,uBAAY,WACrCsP,GAAc,KACb,IAEH,OACE,kBAAC5c,GAAA,EAAD,CACEC,GAAI0c,EACJzc,QAAS,IACTC,WAAW,MACX+K,QAAQ,EACRZ,eAAa,EACb/J,SAAU,kBAAMjC,EAAMoU,QAAQ+K,WAE9B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEhI,YAAaqK,EACbtK,MAAO8I,EAAOljB,KACdoF,IAAKye,IAEP,kBAACnB,GAAD,CAAYtd,IAAKse,EAAcf,MAAOO,EAAO1d,QAC3C,yBAAK3B,UAAU,YAEjB,kBAAC+e,GAAD,CAAexd,IAAKqe,GAClB,uBAAG5f,UAAU,YAAb,UACA,0BAAMA,UAAU,QAAhB,iBAEF,kBAACif,GAAD,CAAS1d,IAAK0e,IACd,kBAACjB,GAAD,CAAiBzd,IAAKue,GACpB,kBAAC,GAAD,CAAQve,IAAKwe,EAAYnZ,SAAUqI,GACjC,kBAAC,GAAD,CACEgN,MAAOA,EACPD,aAAa,EACbG,eAzFS,SAAC1S,EAAG3B,GACzBiW,EAAa3c,QAAQmc,eAAgB,CAAE9T,IAAG3B,WA4FlCvC,EAAW,kBAAC,GAAD,MAAuB,KACpC,kBAAC,GAAD,CAAWhE,IAAKwc,U,ylBCxRjB,IAAMvE,GAAYlf,IAAOC,IAAV,M,umBCEtB,IAAMumB,GAAmBxmB,IAAOC,IAAV,KAQNC,EAGHA,EAMKA,EACLA,EACIA,EAGcA,EAEhBA,EAKFA,GAyDEumB,GArDG,SAAC1hB,GACjB,IAAM2hB,EAAWlgB,mBADU,EAED8C,mBAAS,IAFR,mBAEpBqd,EAFoB,KAEbC,EAFa,KAInBC,EAAa9hB,EAAb8hB,SAEAC,EAAgB/hB,EAAhB+hB,YAEFtG,EAAemG,EAAQ,CAAE5f,QAAS,SAAY,CAAEA,QAAS,QAE/D2C,qBAAU,WAERgd,EAAS5f,QAAQigB,UAChB,IAEHrd,qBAAU,WAERsd,EAAoBL,KACnB,CAACA,IAEJjd,qBAAU,WACJmd,IAAaF,GACfC,EAASC,KAEV,CAACA,IAEJ,IAaIG,EAAsBpa,mBAAQ,WAChC,OAAO7L,EAAS+lB,EAAa,OAC5B,CAACA,IAGJ,OACE,kBAACN,GAAD,KACE,uBAAG9gB,UAAU,qBAAqBwB,QAAS,kBAAMnC,EAAMkiB,SAAvD,UACA,2BAAOhgB,IAAKyf,EAAUhhB,UAAU,MAAMsV,YAAY,+DAAa8C,MAAO6I,EAAOO,SAd5D,SAAC1f,GAEpBof,EAASpf,EAAE2f,cAAcrJ,UAavB,uBAAGpY,UAAU,uBAAuBwB,QAtBrB,WAEjB0f,EAAS,IACTF,EAAS5f,QAAQigB,SAmB0C7mB,MAAOsgB,GAAhE,YC3CS4G,ICjCA,IACb,CACEC,KAAM,IACNC,UAAWC,GACXhO,OAAQ,CACN,CACE8N,KAAM,IACNG,OAAO,EACPC,OAAQ,kBACN,kBAAC,IAAD,CAAUrO,GAAI,iBAGlB,CACEiO,KAAM,aACNC,UAAWI,GACXnO,OAAQ,CACN,CACE8N,KAAM,iBACNC,UAAWK,MAIjB,CACEN,KAAM,WACNC,UAAWM,GACX/kB,IAAK,UACL0W,OAAQ,CACN,CACE8N,KAAM,eACNC,UAAWO,MAIjB,CACER,KAAM,QACNC,UAAWQ,GACXvO,OAAQ,CACN,CACE8N,KAAM,YACNC,UAAWK,MAIjB,CACEN,KAAM,UACNG,OAAO,EACP3kB,IAAK,SACLykB,UDpDR,SAAgBviB,GAAO,MAEKuE,mBAAS,IAFd,mBAEdqd,EAFc,KAEPC,EAFO,OAIGtd,oBAAS,GAJZ,mBAId8B,EAJc,KAIRwF,EAJQ,KAKrBlH,qBAAU,WACRkH,GAAQ,KACP,IAKH,IAAMmX,EAAahU,uBAAY,WAC7BnD,GAAQ,KACP,IAMH,OACE,kBAACnK,GAAA,EAAD,CACEC,GAAI0E,EACJzE,QAAS,IACTgL,QAAQ,EACR/K,WAAW,MACXmK,eAAa,EACb/J,SAAU,kBAAMjC,EAAMoU,QAAQ+K,WAE9B,kBAAC,GAAD,KACE,yBAAKxe,UAAU,sBACb,kBAAC,GAAD,CAAWuhB,KAAMc,EAAYlB,SAAUF,EAAOG,YAflC,SAACkB,GACnBpB,EAASoB,c,2BEnBPnJ,GAAere,iBAAQ,CAC3BmZ,WAAY,GACZoB,cAAe,GACfM,cAAa,ICHTwD,GAAere,iBAAO,CAC1Bud,WAAY,GACZ1C,cAAc,EACd7O,eAAe,EACfE,iBAAiB,EACjBsR,UAAW,ICLPa,GAAere,iBAAQ,CAC3B0iB,aAAc,GACd7H,cAAc,ICFVwD,GAAere,iBAAO,CACxBukB,OAAQ,GACRkD,cAAe,GACfhd,SAAS,ICDP4T,GAAere,iBAAO,CACxB0F,YAAY,EACZC,SAAS,EACT+L,iBAAkB,GA4ElBD,SAAU,GA4EVjE,KAAMnF,GACNiJ,cAAe,EACfK,cAAc,EACdH,YAAa,KAGX8C,GAAmB,SAACjD,EAAOtN,GAE7B,IAAM0N,EAAWnH,KAAKC,MAAMD,KAAKE,UAAU6G,EAAMoD,IAAI,YAAYlC,SAC3DmV,EAAepd,KAAKC,MAAMD,KAAKE,UAAU6G,EAAMoD,IAAI,oBAAoBlC,SACzEjB,EAAeD,EAAMoD,IAAI,gBAEvBkT,EAAU7jB,GAAUC,EAAM0N,GAEhCA,EAASmW,OAAOD,EAAS,GAErBA,EAAUrW,GAAcA,IAG5B,IAAMuW,EAAU/jB,GAAUC,EAAM2jB,GAGhC,OAFAA,EAAaE,OAAOC,EAAS,GAEtBxW,EAAMyW,MAAM,CACf,SAAY9nB,iBAAOyR,GACnB,iBAAoBzR,iBAAO0nB,GAC3B,aAAgB1nB,iBAAOsR,MCjLhByW,8BAAiB,CAC9BC,ULAa,WAAmC,IAAlC3W,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC7C,OAAQA,EAAOld,MACb,IhCXuB,0BgCarB,OAAOsR,EAAM6L,IAAK,aAAcD,EAAOnd,MACzC,IhCZ+B,2BgCc7B,OAAOuR,EAAM6L,IAAK,gBAAiBD,EAAOnd,MAC5C,IhCb8B,iCgCc5B,OAAOuR,EAAM6L,IAAI,eAAgBD,EAAOnd,MAC1C,QACE,OAAOuR,IKVb4W,QJCa,WAAmC,IAAlC5W,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC7C,OAAOA,EAAOld,MACZ,IzBb4B,6ByBe1B,OADAoI,QAAQC,IAAI6U,EAAOnd,MACZuR,EAAM6L,IAAI,aAAcD,EAAOnd,MACxC,IzBf2B,qByBgBzB,OAAOuR,EAAM6L,IAAI,YAAaD,EAAOnd,MACvC,IzBhB8B,wByBiB5B,OAAOuR,EAAM6L,IAAI,eAAgBD,EAAOnd,MAC1C,IzBjB+B,yByBkB7B,OAAOuR,EAAM6L,IAAI,gBAAiBD,EAAOnd,MAC3C,IzBlBiC,2ByBmB/B,OAAOuR,EAAM6L,IAAI,kBAAmBD,EAAOnd,MAC7C,QACE,OAAOuR,IIdb6W,K1BHa,WAAmC,IAAlC7W,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC/C,OAAQA,EAAOld,MACb,IEV4B,6BFW1B,OAAOsR,EAAM6L,IAAI,WAAYD,EAAOnd,MACtC,IEX0B,2BFYxB,OAAOuR,EAAM6L,IAAI,UAAWD,EAAOnd,MACrC,QACE,OAAOuR,I0BHXqQ,MHJa,WAAmC,IAAlCrQ,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC7C,OAAQA,EAAOld,MACb,IfV8B,6BeW5B,OAAOsR,EAAM6L,IAAK,eAAgBD,EAAOnd,MAC3C,IfX8B,6BeY5B,OAAOuR,EAAM6L,IAAK,eAAgBD,EAAOnd,MAC3C,QACE,OAAOuR,IGFb8W,WFJa,WAAmC,IAAlC9W,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC7C,OAAQA,EAAOld,MACX,ITXqB,uBSYjB,OAAOsR,EAAM6L,IAAI,SAAUD,EAAOnd,MACtC,ITZ8B,gCSa1B,OAAOuR,EAAM6L,IAAI,gBAAiBD,EAAOnd,MAC7C,ITb4B,8BScxB,OAAOuR,EAAM6L,IAAI,UAAWD,EAAOnd,MACvC,QACI,OAAOuR,IEJjB+W,OD+Ka,WAAmC,IAAlC/W,EAAiC,uDAAzBgN,GAAcpB,EAAW,uCAC7C,OAAQA,EAAOld,MACX,I3D/LwB,0B2DgMpB,OAAOsR,EAAM6L,IAAI,cAAeD,EAAOnd,MAC3C,I3DhMuB,yB2DiMnB,OAAOuR,EAAM6L,IAAI,aAAcD,EAAOnd,MAC1C,I3DjMyB,2B2DkMrB,OAAOuR,EAAM6L,IAAI,UAAWD,EAAOnd,MACvC,I3DlM4B,8B2DmMxB,OAAOuR,EAAM6L,IAAI,mBAAoBD,EAAOnd,MAChD,I3DnMoB,sB2DoMhB,OAAOuR,EAAM6L,IAAI,WAAYD,EAAOnd,MACxC,I3DpMqB,uB2DqMjB,OAAOuR,EAAM6L,IAAI,OAAQD,EAAOnd,MACpC,I3DrMyB,2B2DsMrB,OAAOuR,EAAM6L,IAAI,eAAgBD,EAAOnd,MAC5C,I3DtMyB,2B2DuMrB,OAAOuR,EAAM6L,IAAI,eAAgBD,EAAOnd,MAC5C,I3DvMmB,qB2DwMf,OAAOwU,GAAiBjD,EAAO4L,EAAOnd,MAC1C,QACI,OAAOuR,ME/MbgX,GAAmB7Z,OAAO8Z,sCAAwCC,KAMzDC,GAJDC,aAAazL,GAASqL,GAClCK,aAAiBC,QCmBJC,OAdf,WACE,OACE,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,IAAD,KACE,kBAAClpB,EAAD,MACA,kBAACF,EAAD,MACA,kBAAC,GAAD,KACG0Z,YAAaC,QCNJ8P,QACW,cAA7Bra,OAAOsa,SAASC,UAEe,UAA7Bva,OAAOsa,SAASC,UAEhBva,OAAOsa,SAASC,SAAS7F,MACvB,2DCbN8F,IAAS/B,OACP,kBAAC,GAAD,MACArlB,SAASqnB,eAAe,SD4HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB3R,MAAK,SAAA4R,GACJA,EAAaC,gBAEdlR,OAAM,SAAAmR,GACLphB,QAAQohB,MAAMA,EAAMC,a","file":"static/js/main.c560d75b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/music.64444b39.png\";","module.exports = \"data:image/png;base64,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\"","import {createGlobalStyle} from 'styled-components';\r\n\r\nexport const IconStyle = createGlobalStyle`\r\n@font-face {font-family: \"iconfont\";\r\n  src: url('iconfont.eot?t=1565320061289'); /* IE9 */\r\n  src: url('iconfont.eot?t=1565320061289#iefix') format('embedded-opentype'), /* IE6-IE8 */\r\n  url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2'),\r\n  url('iconfont.woff?t=1565320061289') format('woff'),\r\n  url('iconfont.ttf?t=1565320061289') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\r\n  url('iconfont.svg?t=1565320061289#iconfont') format('svg'); /* iOS 4.1- */\r\n}\r\n\r\n.iconfont {\r\n  font-family: \"iconfont\" !important;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n`\r\n","import { createGlobalStyle } from'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n\thtml, body, div, span, applet, object, iframe,\r\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n\ta, abbr, acronym, address, big, cite, code,\r\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\r\n\tsmall, strike, strong, sub, sup, tt, var,\r\n\tb, u, i, center,\r\n\tdl, dt, dd, ol, ul, li,\r\n\tfieldset, form, label, legend,\r\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\r\n\tarticle, aside, canvas, details, embed, \r\n\tfigure, figcaption, footer, header, hgroup, \r\n\tmenu, nav, output, ruby, section, summary,\r\n\ttime, mark, audio, video {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tborder: 0;\r\n\t\tfont-size: 100%;\r\n\t\tfont: inherit;\r\n\t\tvertical-align: baseline;\r\n\t}\r\n\t/* HTML5 display-role reset for older browsers */\r\n\tarticle, aside, details, figcaption, figure, \r\n\tfooter, header, hgroup, menu, nav, section {\r\n\t\tdisplay: block;\r\n\t}\r\n\tbody {\r\n\t\tline-height: 1;\r\n\t}\r\n\thtml, body {\r\n\t\tbackground: #f2f3f4;;\r\n\t}\r\n\tol, ul {\r\n\t\tlist-style: none;\r\n\t}\r\n\tblockquote, q {\r\n\t\tquotes: none;\r\n\t}\r\n\tblockquote:before, blockquote:after,\r\n\tq:before, q:after {\r\n\t\tcontent: '';\r\n\t\tcontent: none;\r\n\t}\r\n\ttable {\r\n\t\tborder-collapse: collapse;\r\n\t\tborder-spacing: 0;\r\n\t}\r\n\ta {\r\n\t\ttext-decoration: none;\r\n\t\tcolor: #fff;\r\n\t}\r\n`","// 扩大可点击区域\r\nconst extendClick = () => {\r\n    return `\r\n      position: relative;\r\n      &:before {\r\n        content: '';\r\n        position: absolute;\r\n        top: -10px; bottom: -10px; left: -10px; right: -10px;\r\n      };\r\n    `\r\n  }\r\n  // 一行文字溢出部分用... 代替\r\n  const noWrap = () => {\r\n    return `\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n    `\r\n  }\r\n  \r\n  export default {\r\n    'theme-color': '#d44439',\r\n    'theme-color-shadow': 'rgba(212, 68, 57, .5)',\r\n    'font-color-light': '#f1f1f1',\r\n    'font-color-desc': '#2E3030',\r\n    'font-color-desc-v2': '#bba8a8',// 略淡\r\n    'font-size-ss': '10px',\r\n    'font-size-s': '12px',\r\n    'font-size-m': '14px',\r\n    'font-size-l': '16px',\r\n    'font-size-ll': '18px',\r\n    \"border-color\": '#e4e4e4',\r\n    'background-color': '#f2f3f4',\r\n    'background-color-shadow': 'rgba(0, 0, 0, 0.3)',\r\n    'highlight-background-color': '#fff',\r\n    extendClick,\r\n    noWrap\r\n  }","import styled from'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const Top = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 5px 10px;\r\n  background: ${style[\"theme-color\"]};\r\n  &>span {\r\n    line-height: 40px;\r\n    color: #f1f1f1;\r\n    font-size: 20px;\r\n    &.iconfont {\r\n      font-size: 25px;\r\n    }\r\n  }\r\n`\r\nexport const Tab = styled.div`\r\n  height: 44px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  background: ${style[\"theme-color\"]};\r\n  a {\r\n    flex: 1;\r\n    padding: 2px 0;\r\n    font-size: 14px;\r\n    color: #e4e4e4;\r\n    &.selected {\r\n      span {\r\n        padding: 3px 0;\r\n        font-weight: 700;\r\n        color: #f1f1f1;\r\n        border-bottom: 2px solid #f1f1f1;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const TabItem = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n`","import { SET_CURRENT_SONG, SET_FULL_SCREEN, SET_PLAYING_STATE, SET_SEQUECE_PLAYLIST, SET_PLAYLIST, SET_PLAY_MODE, SET_CURRENT_INDEX, SET_SHOW_PLAYLIST, DELETE_SONG, INSERT_SONG } from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\nexport const changeCurrentSong = (data) => ({\r\n    type: SET_CURRENT_SONG,\r\n    data: fromJS(data)\r\n});\r\n\r\nexport const changeFullScreen = (data) => ({\r\n    type: SET_FULL_SCREEN,\r\n    data\r\n});\r\n\r\nexport const changePlayingState = (data) => ({\r\n    type: SET_PLAYING_STATE,\r\n    data\r\n});\r\n\r\nexport const changeSequecePlayList = (data) => ({\r\n    type: SET_SEQUECE_PLAYLIST,\r\n    data: fromJS(data)\r\n});\r\n\r\nexport const changePlayList = (data) => ({\r\n    type: SET_PLAYLIST,\r\n    data: fromJS(data)\r\n});\r\n\r\nexport const changePlayMode = (data) => ({\r\n    type: SET_PLAY_MODE,\r\n    data\r\n});\r\n\r\nexport const changeCurrentIndex = (data) => ({\r\n    type: SET_CURRENT_INDEX,\r\n    data\r\n});\r\n\r\nexport const changeShowPlayList = (data) => ({\r\n    type: SET_SHOW_PLAYLIST,\r\n    data\r\n});\r\n\r\nexport const deleteSong = (data) => ({\r\n    type: DELETE_SONG,\r\n    data\r\n  });","export const SET_CURRENT_SONG = 'player/SET_CURRENT_SONG';\r\nexport const SET_FULL_SCREEN = 'player/SET_FULL_SCREEN';\r\nexport const SET_PLAYING_STATE = 'player/SET_PLAYING_STATE';\r\nexport const SET_SEQUECE_PLAYLIST = 'player/SET_SEQUECE_PLAYLIST';\r\nexport const SET_PLAYLIST = 'player/SET_PLAYLIST';\r\nexport const SET_PLAY_MODE = 'player/SET_PLAY_MODE';\r\nexport const SET_CURRENT_INDEX = 'player/SET_CURRENT_INDEX';\r\nexport const SET_SHOW_PLAYLIST = 'player/SET_SHOW_PLAYLIST';\r\nexport const DELETE_SONG = 'player/DELETE_SONG';","export const getCount = (count) => {\r\n  if (count < 0) return;\r\n  if (count < 10000) {\r\n    return count;\r\n  } else if (Math.floor(count / 10000) < 10000) {\r\n    return Math.floor(count / 1000) / 10 + \"万\";\r\n  } else {\r\n    return Math.floor(count / 10000000) / 10 + \"亿\";\r\n  }\r\n}\r\nexport const debounce = (func, delay) => {\r\n  let timer;\r\n  return function (...args) {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n    timer = setTimeout(() => {\r\n      func.apply(this, args);\r\n      clearTimeout(timer);\r\n    }, delay);\r\n  }\r\n}\r\n\r\n// 处理数据，找出第一个没有歌名的排行榜的索引\r\nexport const filterIndex = rankList => {\r\n  for (let i = 0; i < rankList.length - 1; i++) {\r\n    if (rankList[i].tracks.length && !rankList[i + 1].tracks.length) {\r\n      return i + 1;\r\n    }\r\n  }\r\n};\r\n\r\n// 处理歌手列表拼接歌手名字\r\nexport const getName = list => {\r\n  let str = \"\";\r\n  list.map((item, index) => {\r\n    str += index === 0 ? item.name : \"/\" + item.name;\r\n    return item;\r\n  });\r\n  return str;\r\n};\r\n\r\n// 判断一个对象是否为空\r\nexport const isEmptyObject = obj => !obj || Object.keys(obj).length === 0;\r\n\r\n// 给 css3 相关属性增加浏览器前缀，处理浏览器兼容性问题\r\nlet elementStyle = document.createElement(\"div\").style;\r\n\r\nlet vendor = (() => {\r\n  // 首先通过 transition 属性判断是何种浏览器\r\n  let transformNames = {\r\n    webkit: \"webkitTransform\",\r\n    Moz: \"MozTransform\",\r\n    O: \"OTransfrom\",\r\n    ms: \"msTransform\",\r\n    standard: \"Transform\"\r\n  };\r\n  for (let key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key;\r\n    }\r\n  }\r\n  return false;\r\n})();\r\n\r\nexport function prefixStyle(style) {\r\n  if (vendor === false) {\r\n    return false;\r\n  }\r\n  if (vendor === \"standard\") {\r\n    return style;\r\n  }\r\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\n\r\n//拼接出歌曲的url链接\r\nexport const getSongUrl = id => {\r\n  return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\r\n};\r\n\r\n//转换歌曲播放时间\r\nexport const formatPlayTime = interval => {\r\n  interval = interval | 0;// |0表示向下取整\r\n  const minute = (interval / 60) | 0;\r\n  const second = (interval % 60).toString().padStart(2, \"0\");\r\n  return `${minute}:${second}`;\r\n};\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n// 随机算法\r\nexport function shuffle(arr) {\r\n  let new_arr = [];\r\n  arr.forEach(item => {\r\n    new_arr.push(item);\r\n  });\r\n  for (let i = 0; i < new_arr.length; i++) {\r\n    let j = getRandomInt(0, i);\r\n    let t = new_arr[i];\r\n    new_arr[i] = new_arr[j];\r\n    new_arr[j] = t;\r\n  }\r\n  return new_arr;\r\n}\r\n\r\n// 找到当前的歌曲索引\r\nexport const findIndex = (song, list) => {\r\n  return list.findIndex(item => {\r\n    return song.id === item.id;\r\n  });\r\n};\r\n\r\n","import styled, { keyframes } from 'styled-components';\r\nimport style from '../../../assets/global-style';\r\n\r\nconst rotate = keyframes`\r\n  0%{\r\n    transform: rotate(0);\r\n  }\r\n  100%{\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nexport const MiniPlayerContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 1000;\r\n  width: 100%;\r\n  height: 60px;\r\n  background: ${style[\"highlight-background-color\"]};\r\n  &.mini-enter {\r\n    transform: translate3d(0, 100%, 0);\r\n  }\r\n  &.mini-enter-active {\r\n    transform: translate3d(0, 0, 0);\r\n    transition: all 0.4s;\r\n  }\r\n  &.mini-exit-active {\r\n    transform: translate3d(0, 100%, 0);\r\n    transition: all .4s\r\n  }\r\n  .icon {\r\n    flex: 0 0 40px;\r\n    width: 40px;\r\n    height: 40px;\r\n    padding: 0 10px 0 20px;\r\n    .imgWrapper {\r\n      width: 100%;\r\n      height: 100%;\r\n      img {\r\n        border-radius: 50%;\r\n        &.play {\r\n          animation: ${rotate} 10s infinite;\r\n          &.pause {\r\n            animation-play-state: paused;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .text {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    flex: 1;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n    .name {\r\n      margin-bottom: 2px;\r\n      font-size: ${style[\"font-size-m\"]};\r\n      color: ${style[\"font-color-desc\"]};\r\n      ${style.noWrap()}\r\n    }\r\n    .desc {\r\n      font-size: ${style[\"font-size-s\"]};\r\n      color: ${style[\"font-color-desc-v2\"]};\r\n      ${style.noWrap()}\r\n    }\r\n  }\r\n  .control {\r\n    flex: 0 0 30px;\r\n    padding: 0 10px;\r\n    .iconfont, .icon-playlist {\r\n      font-size: 30px;\r\n      color: ${style[\"theme-color\"]};\r\n    }\r\n    .icon-mini {\r\n      font-size: 16px;\r\n      position: absolute;\r\n      left: 8px;\r\n      top: 8px;\r\n      &.icon-play {\r\n        left: 9px\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nconst CircleWrapper = styled.div`\r\n  position: relative;\r\n  circle {\r\n    stroke-width: 8px;\r\n    transform-origin: center;\r\n    &.progress-background {\r\n      transform: scale(0.9);\r\n      stroke: ${style[\"theme-color-shadow\"]};\r\n    }\r\n    &.progress-bar {\r\n      transform: scale(0.9) rotate(-90deg);\r\n      stroke: ${style[\"theme-color\"]};\r\n    }\r\n  }\r\n`\r\n\r\nfunction ProgressCircle(props) {\r\n    const { radius, percent } = props;\r\n    // 整个背景的周长\r\n    const dashArray = Math.PI * 100;\r\n    // 没有高亮的部分，剩下高亮的就是进度\r\n    const dashOffset = (1 - percent) * dashArray;\r\n\r\n    return (\r\n        <CircleWrapper>\r\n            <svg width={radius} height={radius} viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle className=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\" />\r\n                <circle className=\"progress-bar\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"\r\n                    strokeDasharray={dashArray}\r\n                    strokeDashoffset={dashOffset} />\r\n            </svg>\r\n            {props.children}\r\n        </CircleWrapper>\r\n    )\r\n}\r\n\r\nexport default React.memo(ProgressCircle);","import React, { useRef } from 'react';\r\nimport { getName } from '../../../api/utils';\r\nimport { MiniPlayerContainer } from './style';\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport ProgressCircle from '../../../baseUI/progress-circle'\r\n\r\nfunction MiniPlayer(props) {\r\n    const { song, fullScreen, playing, percent } = props;\r\n    const { clickPlaying, toggleFullScreen, togglePlayList } = props;\r\n    // 先 mock 一份 percent 数据\r\n    // const percent = 0.2\r\n\r\n    const miniPlayerRef = useRef();\r\n\r\n    const handleTogglePlayList = (e) => {\r\n        togglePlayList (true);\r\n        e.stopPropagation ();\r\n      };\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={!fullScreen}\r\n            timeout={400}\r\n            classNames=\"mini\"\r\n            onEnter={() => {\r\n                miniPlayerRef.current.style.display = \"flex\";\r\n            }}\r\n            onExited={() => {\r\n                miniPlayerRef.current.style.display = \"none\";\r\n            }}\r\n        >\r\n            <MiniPlayerContainer ref={miniPlayerRef} onClick={() => toggleFullScreen(true)}>\r\n                <div className=\"icon\">\r\n                    <div className=\"imgWrapper\">\r\n                        <img className={`play ${playing ? \"\" : \"pause\"}`} src={song.al.picUrl} width=\"40\" height=\"40\" alt=\"img\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"text\">\r\n                    <h2 className=\"name\">{song.name}</h2>\r\n                    <p className=\"desc\">{getName(song.ar)}</p>\r\n                </div>\r\n                <div className=\"control\">\r\n                    <ProgressCircle radius={32} percent={percent} >\r\n                        {playing ?\r\n                            <i className=\"icon-mini iconfont icon-pause\" onClick={e => clickPlaying(e, false)}>&#xe650;</i>\r\n                            :\r\n                            <i className=\"icon-mini iconfont icon-play\" onClick={e => clickPlaying(e, true)}>&#xe61e;</i>\r\n                        }\r\n                    </ProgressCircle>\r\n                </div>\r\n                {/* // 给列表图标绑定事件 */}\r\n                <div className=\"control\" onClick={handleTogglePlayList}>\r\n                    <i className=\"iconfont\">&#xe640;</i>\r\n                </div>\r\n            </MiniPlayerContainer>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nexport default React.memo(MiniPlayer);","import styled, { keyframes } from \"styled-components\";\r\nimport style from \"../../../assets/global-style\";\r\n\r\nconst rotate = keyframes`\r\n  0%{\r\n    transform: rotate(0);\r\n  }\r\n  100%{\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\nexport const NormalPlayerContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 150;\r\n  background: ${style[\"background-color\"]};\r\n  .background {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: -1;\r\n    opacity: 0.6;\r\n    filter: blur(20px);\r\n    &.layer {\r\n      background: ${style[\"font-color-desc\"]};\r\n      opacity: 0.3;\r\n      filter: none;\r\n    }\r\n  }\r\n  &.mini-enter {\r\n    transform: translate3d(0, 100%, 0);\r\n  }\r\n  &.mini-enter-active {\r\n    transform: translate3d(0, 0, 0);\r\n    transition: all 0.4s;\r\n  }\r\n  &.mini-exit-active {\r\n    transform: translate3d(0, 100%, 0);\r\n    transition: all .4s\r\n  }\r\n  &.normal-enter,\r\n  &.normal-exit-done {\r\n  .top {\r\n    transform: translate3d(0, -100px, 0);\r\n  }\r\n  .bottom {\r\n    transform: translate3d(0, 100px, 0);\r\n  }\r\n}\r\n  &.normal-enter-active,\r\n  &.normal-exit-active {\r\n    .top,\r\n    .bottom {\r\n      transform: translate3d(0, 0, 0);\r\n      transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n    }\r\n    opacity: 1;\r\n    transition: all 0.4s;\r\n  }\r\n  &.normal-exit-active {\r\n    opacity: 0;\r\n  }\r\n`;\r\nexport const Top = styled.div`\r\n  position: relative;\r\n  margin-bottom: 25px;\r\n  .back {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 6px;\r\n    z-index: 50;\r\n    .iconfont {\r\n      display: block;\r\n      padding: 9px;\r\n      font-size: 24px;\r\n      color: ${style[\"font-color-desc\"]};\r\n      font-weight: bold;\r\n      transform: rotate(90deg);\r\n    }\r\n  }\r\n  .title {\r\n    width: 70%;\r\n    margin: 0 auto;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    font-size: ${style[\"font-size-l\"]};\r\n    color: ${style[\"font-color-desc\"]};\r\n    ${style.noWrap()};\r\n  }\r\n  .subtitle {\r\n    line-height: 20px;\r\n    text-align: center;\r\n    font-size: ${style[\"font-size-m\"]};\r\n    color: ${style[\"font-color-desc-v2\"]};\r\n    ${style.noWrap()};\r\n  }\r\n`;\r\nexport const Middle = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 80px;\r\n  bottom: 170px;\r\n  white-space: nowrap;\r\n  font-size: 0;\r\n  overflow: hidden;\r\n`;\r\nexport const CDWrapper = styled.div`\r\n  position: absolute;\r\n  margin: auto;\r\n  top: 10%;\r\n  left: 0;\r\n  right: 0;\r\n  width: 80%;\r\n  box-sizing: border-box;\r\n  height: 80vw;\r\n  .cd {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n    .image {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      box-sizing: border-box;\r\n      border-radius: 50%;\r\n      border: 10px solid rgba(255, 255, 255, 0.1);\r\n    }\r\n    .play {\r\n      animation: ${rotate} 20s linear infinite;\r\n      &.pause {\r\n        animation-play-state: paused;\r\n      }\r\n    }\r\n  }\r\n  .playing_lyric {\r\n    margin-top: 20px;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    white-space: normal;\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.5);\r\n  }\r\n`;\r\n\r\nexport const Bottom = styled.div`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  width: 100%;\r\n`;\r\nexport const ProgressWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 80%;\r\n  margin: 0px auto;\r\n  padding: 10px 0;\r\n  .time {\r\n    color: ${style[\"font-color-desc\"]};\r\n    font-size: ${style[\"font-size-s\"]};\r\n    flex: 0 0 45px;\r\n    line-height: 30px;\r\n    width: 30px;\r\n    &.time-l {\r\n      text-align: left;\r\n    }\r\n    &.time-r {\r\n      text-align: right;\r\n    }\r\n  }\r\n  .progress-bar-wrapper {\r\n    flex: 1;\r\n  }\r\n`;\r\nexport const Operators = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  .icon {\r\n    font-weight: 300;\r\n    flex: 1;\r\n    color: ${style[\"font-color-desc\"]};\r\n    &.disable {\r\n      color: ${style[\"theme-color-shadow\"]};\r\n    }\r\n    i {\r\n      font-weight: 300;\r\n      font-size: 30px;\r\n    }\r\n  }\r\n  .i-left {\r\n    text-align: right;\r\n  }\r\n  .i-center {\r\n    padding: 0 20px;\r\n    text-align: center;\r\n    i {\r\n      font-size: 40px;\r\n    }\r\n  }\r\n  .i-right {\r\n    text-align: left;\r\n  }\r\n  .icon-favorite {\r\n    color: ${style[\"theme-color\"]};\r\n  }\r\n`;\r\n\r\nexport const LyricContainer = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n`;\r\nexport const LyricWrapper = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n  p {\r\n    line-height: 32px;\r\n    color: rgba (255, 255, 255, 0.5);\r\n    white-space: normal;\r\n    font-size: ${style [\"font-size-l\"]};\r\n    &.current {\r\n      color: #fff;\r\n    }\r\n    &.pure {\r\n      position: relative;\r\n      top: 30vh;\r\n    }\r\n  }\r\n`;\r\n","import axios from 'axios';\r\n\r\nexport const baseUrl = 'http://neteasecloudmusicapi.zhaoboy.com';\r\nexport const prod_base_url = '/api'\r\n//axios 的实例及拦截器配置\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseUrl\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n  res => res.data,\r\n  err => {\r\n    console.log(err, \"网络错误\");\r\n  }\r\n);\r\n\r\nexport {\r\n  axiosInstance\r\n};\r\n\r\n// 播放模式\r\nexport const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n};\r\n\r\n\r\nexport const HEADER_HEIGHT = 45;\r\n\r\n\r\nexport const categoryTypes = [\r\n  {\r\n    name: \"华语男\",\r\n    key: \"1001\"\r\n  },\r\n  {\r\n    name: \"华语女\",\r\n    key: \"1002\"\r\n  },\r\n  {\r\n    name: \"华语组合\",\r\n    key: \"1003\"\r\n  },\r\n  {\r\n    name: \"欧美男\",\r\n    key: \"2001\"\r\n  },\r\n  {\r\n    name: \"欧美女\",\r\n    key: \"2002\"\r\n  },\r\n  {\r\n    name: \"欧美组合\",\r\n    key: \"2003\"\r\n  },\r\n  {\r\n    name: \"日本男\",\r\n    key: \"6001\"\r\n  },\r\n  {\r\n    name: \"日本女\",\r\n    key: \"6002\"\r\n  },\r\n  {\r\n    name: \"日本组合\",\r\n    key: \"6003\"\r\n  },\r\n  {\r\n    name: \"韩国男\",\r\n    key: \"7001\"\r\n  },\r\n  {\r\n    name: \"韩国女\",\r\n    key: \"7002\"\r\n  },\r\n  {\r\n    name: \"韩国组合\",\r\n    key: \"7003\"\r\n  },\r\n  {\r\n    name: \"其他男歌手\",\r\n    key: \"4001\"\r\n  },\r\n  {\r\n    name: \"其他女歌手\",\r\n    key: \"4002\"\r\n  },\r\n  {\r\n    name: \"其他组合\",\r\n    key: \"4003\"\r\n  },\r\n];\r\n\r\n// 歌手首字母\r\nexport const alphaTypes = [{\r\n  key: \"A\",\r\n  name: \"A\"\r\n},\r\n{\r\n  key: \"B\",\r\n  name: \"B\"\r\n},\r\n{\r\n  key: \"C\",\r\n  name: \"C\"\r\n},\r\n{\r\n  key: \"D\",\r\n  name: \"D\"\r\n},\r\n{\r\n  key: \"E\",\r\n  name: \"E\"\r\n},\r\n{\r\n  key: \"F\",\r\n  name: \"F\"\r\n},\r\n{\r\n  key: \"G\",\r\n  name: \"G\"\r\n},\r\n{\r\n  key: \"H\",\r\n  name: \"H\"\r\n},\r\n{\r\n  key: \"I\",\r\n  name: \"I\"\r\n},\r\n{\r\n  key: \"J\",\r\n  name: \"J\"\r\n},\r\n{\r\n  key: \"K\",\r\n  name: \"K\"\r\n},\r\n{\r\n  key: \"L\",\r\n  name: \"L\"\r\n},\r\n{\r\n  key: \"M\",\r\n  name: \"M\"\r\n},\r\n{\r\n  key: \"N\",\r\n  name: \"N\"\r\n},\r\n{\r\n  key: \"O\",\r\n  name: \"O\"\r\n},\r\n{\r\n  key: \"P\",\r\n  name: \"P\"\r\n},\r\n{\r\n  key: \"Q\",\r\n  name: \"Q\"\r\n},\r\n{\r\n  key: \"R\",\r\n  name: \"R\"\r\n},\r\n{\r\n  key: \"S\",\r\n  name: \"S\"\r\n},\r\n{\r\n  key: \"T\",\r\n  name: \"T\"\r\n},\r\n{\r\n  key: \"U\",\r\n  name: \"U\"\r\n},\r\n{\r\n  key: \"V\",\r\n  name: \"V\"\r\n},\r\n{\r\n  key: \"W\",\r\n  name: \"W\"\r\n},\r\n{\r\n  key: \"X\",\r\n  name: \"X\"\r\n},\r\n{\r\n  key: \"Y\",\r\n  name: \"Y\"\r\n},\r\n{\r\n  key: \"Z\",\r\n  name: \"Z\"\r\n}\r\n];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\nimport { prefixStyle } from './../../api/utils';\r\n\r\nconst ProgressBarWrapper = styled.div`\r\n  height: 30px;\r\n  .bar-inner {\r\n    position: relative;\r\n    top: 13px;\r\n    height: 4px;\r\n    background: rgba(0, 0, 0, .3);\r\n    .progress {\r\n      position: absolute;\r\n      height: 100%;\r\n      background: ${style[\"theme-color\"]};\r\n    }\r\n    .progress-btn-wrapper {\r\n      position: absolute;\r\n      left: -15px;\r\n      top: -13px;\r\n      width: 30px;\r\n      height: 30px;\r\n      .progress-btn {\r\n        position: relative;\r\n        top: 7px;\r\n        left: 7px;\r\n        box-sizing: border-box;\r\n        width: 16px;\r\n        height: 16px;\r\n        border: 3px solid ${style[\"border-color\"]};\r\n        border-radius: 50%;\r\n        background: ${style[\"theme-color\"]};\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n\r\nfunction ProgressBar(props) {\r\n\r\n    const { percent } = props;\r\n\r\n    const { percentChange } = props;\r\n\r\n    const progressBar = useRef();\r\n    const progress = useRef();\r\n    const progressBtn = useRef();\r\n    const [touch, setTouch] = useState({});\r\n\r\n    const progressBtnWidth = 16;\r\n    const transform = prefixStyle('transform')\r\n\r\n\r\n    //监听percent\r\nuseEffect(() => {\r\n    if(percent >= 0 && percent <= 1 && !touch.initiated) {\r\n      const barWidth = progressBar.current.clientWidth - progressBtnWidth;\r\n      const offsetWidth = percent * barWidth;\r\n      progress.current.style.width = `${offsetWidth}px`;\r\n      progressBtn.current.style[transform] = `translate3d(${offsetWidth}px, 0, 0)`;\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [percent]);\r\n\r\n\r\n\r\n    // 处理进度条的偏移\r\n    const _offset = (offsetWidth) => {\r\n        progress.current.style.width = `${offsetWidth}px`;\r\n        progressBtn.current.style.transform = `translate3d(${offsetWidth}px, 0, 0)`;\r\n    }\r\n    //   改变百分比\r\n    const _changePercent = () => {\r\n        const barWidth = progressBar.current.clientWidth - progressBtnWidth;\r\n        const curPercent = progress.current.clientWidth / barWidth;// 新的进度计算\r\n        percentChange(curPercent);// 把新的进度传给回调函数并执行\r\n    }\r\n\r\n    const progressTouchStart = (e) => {\r\n        const startTouch = {};\r\n        startTouch.initiated = true;//initial 为 true 表示滑动动作开始了\r\n        startTouch.startX = e.touches[0].pageX;// 滑动开始时横向坐标\r\n        startTouch.left = progress.current.clientWidth;// 当前 progress 长度\r\n        setTouch(startTouch);\r\n    }\r\n\r\n    const progressTouchMove = (e) => {\r\n        if (!touch.initiated) return;\r\n        // 滑动距离   \r\n        const deltaX = e.touches[0].pageX - touch.startX;\r\n        const barWidth = ((progressBar.current.clientWidth - progressBtnWidth) <= progressBar.current.clientWidth) ?\r\n            progressBar.current.clientWidth - progressBtnWidth :\r\n            progressBar.current.clientWidth;\r\n        const offsetWidth = Math.min(Math.max(0, touch.left + deltaX), barWidth);\r\n        _offset(offsetWidth);\r\n    }\r\n\r\n    const progressTouchEnd = (e) => {\r\n        const endTouch = JSON.parse(JSON.stringify(touch));\r\n        endTouch.initiated = false;\r\n        setTouch(endTouch);\r\n        _changePercent();\r\n    }\r\n\r\n    const progressClick = (e) => {\r\n        const rect = progressBar.current.getBoundingClientRect();\r\n        const offsetWidth = e.pageX - rect.left;\r\n        _offset(offsetWidth);\r\n        _changePercent();\r\n    };\r\n    return (\r\n        <ProgressBarWrapper>\r\n            <div className=\"bar-inner\" ref={progressBar} onClick={progressClick}>\r\n                <div className=\"progress\" ref={progress}></div>\r\n                <div className=\"progress-btn-wrapper\" ref={progressBtn}\r\n                    onTouchStart={progressTouchStart}\r\n                    onTouchMove={progressTouchMove}\r\n                    onTouchEnd={progressTouchEnd}\r\n                >\r\n                    <div className=\"progress-btn\"></div>\r\n                </div>\r\n            </div>\r\n        </ProgressBarWrapper>\r\n    )\r\n}\r\n\r\nexport default ProgressBar;","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport style from '../../assets/global-style';\r\nimport {PropTypes} from 'prop-types'\r\n\r\nconst loading = keyframes`\r\n  0%, 100% {\r\n    transform: scale(0.0);\r\n  }\r\n  50% {\r\n    transform: scale(1.0);\r\n  }\r\n`\r\nconst LoadingWrapper = styled.div`\r\n  >div {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    left: 0; \r\n    right: 0;  \r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    width: 60px;\r\n    height: 60px;\r\n    opacity: 0.6;\r\n    border-radius: 50%;\r\n    background-color: ${style[\"theme-color\"]};\r\n    animation: ${loading} 1.4s infinite ease-in;\r\n  }\r\n  >div:nth-child (2) {\r\n    animation-delay: -0.7s;\r\n  }\r\n`\r\n\r\nfunction Loading(props) {\r\n  const {show} = props\r\n    return (\r\n        <LoadingWrapper style={show?{'display':''}:{'display':'none'}}>\r\n            <div></div>\r\n            <div></div>\r\n        </LoadingWrapper>\r\n    );\r\n}\r\nLoading.defaultProps = {\r\n  show: true\r\n};\r\n\r\nLoading.propTypes = {\r\n  show: PropTypes.bool\r\n};\r\n\r\nexport default React.memo(Loading);","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport style from '../../assets/global-style'\r\n\r\nconst dance = keyframes`\r\n    0%, 40%, 100%{\r\n      transform: scaleY(0.4);\r\n      transform-origin: center 100%;\r\n    }\r\n    20%{\r\n      transform: scaleY(1);\r\n    }\r\n`\r\nconst Loading = styled.div`\r\n    height: 10px;\r\n    width: 100%;\r\n    margin: auto;\r\n    text-align: center;\r\n    font-size: 10px;\r\n    >div {\r\n      display: inline-block;\r\n      background-color: ${style[\"theme-color\"]};\r\n      height: 100%;\r\n      width: 1px;\r\n      margin-right:2px;\r\n      animation: ${dance} 1s infinite;\r\n    }\r\n    >div:nth-child (2) {\r\n      animation-delay: -0.4s;\r\n    }\r\n    >div:nth-child (3) {\r\n      animation-delay: -0.6s;\r\n    }\r\n    >div:nth-child (4) {\r\n      animation-delay: -0.5s;\r\n    }\r\n    >div:nth-child (5) {\r\n      animation-delay: -0.2s;\r\n    } \r\n\r\n`\r\n\r\nfunction LoadingV2() {\r\n    return (\r\n        <Loading>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <span > 拼命加载中...</span>\r\n        </Loading>\r\n    );\r\n}\r\n\r\nexport default React.memo(LoadingV2);","import React, { forwardRef, useMemo , useState, useEffect, useRef, useImperativeHandle } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport BScroll from \"better-scroll\"\r\nimport styled from 'styled-components';\r\nimport Loading from '../loading/index';\r\nimport LoadingV2 from '../loading-v2/index';\r\nimport {debounce} from '../../api/utils'\r\n\r\nconst ScrollContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`\r\nconst PullUpLoading = styled.div`\r\n  position: absolute;\r\n  left:0; right:0;\r\n  bottom: 5px;\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: auto;\r\n  z-index: 100;\r\n`;\r\n\r\nexport const PullDownLoading = styled.div`\r\n  position: absolute;\r\n  left:0; right:0;\r\n  top: 0px;\r\n  height: 30px;\r\n  margin: auto;\r\n  z-index: 100;\r\n`;\r\n\r\nconst Scroll = forwardRef((props, ref) => {\r\n  const [bScroll, setBScroll] = useState();\r\n\r\n  const scrollContaninerRef = useRef();\r\n\r\n  const { direction, click, refresh, bounceTop, bounceBottom } = props;\r\n\r\n  const { pullUp, pullDown, onScroll, pullUpLoading, pullDownLoading } = props;\r\n\r\n  const PullUpdisplayStyle = pullUpLoading ? { display: \"\" } : { display: \"none\" };\r\n  const PullDowndisplayStyle = pullDownLoading ? { display: \"\" } : { display: \"none\" };\r\n\r\n\r\n  let pullUpDebounce = useMemo (() => {\r\n    return debounce (pullUp, 300)\r\n  }, [pullUp]);\r\n  // 千万注意，这里不能省略依赖，\r\n  // 不然拿到的始终是第一次 pullUp 函数的引用，相应的闭包作用域变量都是第一次的，产生闭包陷阱。下同。\r\n  \r\n  let pullDownDebounce = useMemo (() => {\r\n    return debounce (pullDown, 300)\r\n  }, [pullDown]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const scroll = new BScroll(scrollContaninerRef.current, {\r\n      scrollX: direction === \"horizental\",\r\n      scrollY: direction === \"vertical\",\r\n      probeType: 3,\r\n      click: click,\r\n      bounce: {\r\n        top: bounceTop,\r\n        bottom: bounceBottom\r\n      }\r\n    });\r\n\r\n    setBScroll(scroll);\r\n    return () => {\r\n      setBScroll(null);\r\n    }\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !onScroll) return;\r\n    bScroll.on('scroll', (scroll) => {\r\n      onScroll(scroll);\r\n    })\r\n    return () => {\r\n      bScroll.off('scroll');\r\n    }\r\n  }, [onScroll, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullUp) return;\r\n    bScroll.on('scrollEnd', () => {\r\n      // 判断是否滑动到了底部\r\n      if (bScroll.y <= bScroll.maxScrollY + 100) {\r\n        pullUpDebounce();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off('scrollEnd');\r\n    }\r\n  }, [pullUp, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullDown) return;\r\n    bScroll.on('touchEnd', (pos) => {\r\n      // 判断用户的下拉动作\r\n      if (pos.y > 50) {\r\n        pullDownDebounce();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off('touchEnd');\r\n    }\r\n  }, [pullDown, bScroll]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (refresh && bScroll) {\r\n      bScroll.refresh();\r\n    }\r\n  });\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    refresh() {\r\n      if (bScroll) {\r\n        bScroll.refresh();\r\n        bScroll.scrollTo(0, 0);\r\n      }\r\n    },\r\n    getBScroll() {\r\n      if (bScroll) {\r\n        return bScroll;\r\n      }\r\n    }\r\n  }));\r\n\r\n\r\n  return (\r\n    <ScrollContainer ref={scrollContaninerRef}>\r\n      {props.children}\r\n      {/* 滑到底部加载动画 */}\r\n      <PullUpLoading style={PullUpdisplayStyle}>\r\n        <Loading></Loading>\r\n      </PullUpLoading>\r\n      {/* 顶部下拉刷新动画 */}\r\n      <PullDownLoading style={PullDowndisplayStyle}>\r\n        <LoadingV2></LoadingV2>\r\n      </PullDownLoading>\r\n    </ScrollContainer>\r\n  );\r\n})\r\n\r\nScroll.defaultProps = {\r\n  direction: \"vertical\",\r\n  click: true,\r\n  refresh: true,\r\n  onScroll: null,\r\n  pullUpLoading: false,\r\n  pullDownLoading: false,\r\n  pullUp: null,\r\n  pullDown: null,\r\n  bounceTop: true,\r\n  bounceBottom: true\r\n};\r\n\r\nScroll.propTypes = {\r\n  direction: PropTypes.oneOf(['vertical', 'horizental']),\r\n  refresh: PropTypes.bool,\r\n  onScroll: PropTypes.func,\r\n  pullUp: PropTypes.func,\r\n  pullDown: PropTypes.func,\r\n  pullUpLoading: PropTypes.bool,\r\n  pullDownLoading: PropTypes.bool,\r\n  bounceTop: PropTypes.bool,// 是否支持向上吸顶\r\n  bounceBottom: PropTypes.bool// 是否支持向上吸顶\r\n};\r\n\r\nexport default Scroll;","import React, { useRef, useEffect } from \"react\";\r\nimport { getName } from \"../../../api/utils\";\r\nimport {\r\n    NormalPlayerContainer,\r\n    Top,\r\n    Middle,\r\n    Bottom,\r\n    Operators,\r\n    CDWrapper,\r\n    ProgressWrapper\r\n} from \"./style\";\r\nimport animations from \"create-keyframe-animation\";\r\nimport { prefixStyle, formatPlayTime } from \"../../../api/utils\";\r\nimport { playMode } from '../../../api/config';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport ProgressBar from '../../../baseUI/progressBar/index';\r\nimport Scroll from \"../../../baseUI/scroll\";\r\nimport { LyricContainer, LyricWrapper } from \"./style\";\r\n\r\n\r\nfunction NormalPlayer(props) {\r\n    const { song, fullScreen, playing, percent, duration, currentTime, mode, currentLineNum, currentPlayingLyric, currentLyric } = props;\r\n    const { toggleFullScreen, clickPlaying, onProgressChange, handlePrev, handleNext, changeMode, togglePlayList } = props;\r\n\r\n\r\n    const normalPlayerRef = useRef();\r\n    const cdWrapperRef = useRef();\r\n    const transform = prefixStyle(\"transform\");\r\n\r\n    const currentState = useRef(\"\");\r\n    const lyricScrollRef = useRef();\r\n    const lyricLineRefs = useRef([]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (!lyricScrollRef.current) return;\r\n        let bScroll = lyricScrollRef.current.getBScroll();\r\n        if (currentLineNum > 5) {\r\n            // 保持当前歌词在第 5 条的位置\r\n            let lineEl = lyricLineRefs.current[currentLineNum - 5].current;\r\n            bScroll.scrollToElement(lineEl, 1000);\r\n        } else {\r\n            // 当前歌词行数 <=5, 直接滚动到最顶端\r\n            bScroll.scrollTo(0, 0, 1000);\r\n        }\r\n    }, [currentLineNum]);\r\n\r\n    // 计算偏移的辅助函数\r\n    const _getPosAndScale = () => {\r\n        const targetWidth = 40;\r\n        const paddingLeft = 40;\r\n        const paddingBottom = 30;\r\n        const paddingTop = 80;\r\n        const width = window.innerWidth * 0.8;\r\n        const scale = targetWidth / width;\r\n        // 两个圆心的横坐标距离和纵坐标距离\r\n        const x = -(window.innerWidth / 2 - paddingLeft);\r\n        const y = window.innerHeight - paddingTop - width / 2 - paddingBottom;\r\n        // console.log(x,y,scale)\r\n        return {\r\n            x,\r\n            y,\r\n            scale\r\n        };\r\n    };\r\n\r\n    const enter = () => {\r\n        normalPlayerRef.current.style.display = \"block\";\r\n        const { x, y, scale } = _getPosAndScale();// 获取 miniPlayer 图片中心相对 normalPlayer 唱片中心的偏移\r\n        let animation = {\r\n            0: {\r\n                transform: `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n            },\r\n            60: {\r\n                transform: `translate3d(0, 0, 0) scale(1.1)`\r\n            },\r\n            100: {\r\n                transform: `translate3d(0, 0, 0) scale(1)`\r\n            }\r\n        };\r\n        animations.registerAnimation({\r\n            name: \"move\",\r\n            animation,\r\n            presets: {\r\n                duration: 400,\r\n                easing: \"linear\"\r\n            }\r\n        });\r\n        animations.runAnimation(cdWrapperRef.current, \"move\");\r\n    };\r\n    const leave = () => {\r\n        if (!cdWrapperRef.current) return;\r\n        const cdWrapperDom = cdWrapperRef.current;\r\n        cdWrapperDom.style.transition = \"all 0.4s\";\r\n        const { x, y, scale } = _getPosAndScale();\r\n        cdWrapperDom.style[transform] = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\r\n    };\r\n\r\n    const afterLeave = () => {\r\n        if (!cdWrapperRef.current) return;\r\n        const cdWrapperDom = cdWrapperRef.current;\r\n        cdWrapperDom.style.transition = \"\";\r\n        cdWrapperDom.style[transform] = \"\";\r\n        // 一定要注意现在要把 normalPlayer 这个 DOM 给隐藏掉，因为 CSSTransition 的工作只是把动画执行一遍 \r\n        // 不置为 none 现在全屏播放器页面还是存在\r\n        normalPlayerRef.current.style.display = \"none\";\r\n        currentState.current = \"\";\r\n    };\r\n\r\n\r\n\r\n    const afterEnter = () => {\r\n        // 进入后解绑帧动画\r\n        const cdWrapperDom = cdWrapperRef.current;\r\n        animations.unregisterAnimation(\"move\");\r\n        cdWrapperDom.style.animation = \"\";\r\n    };\r\n\r\n    const goBack = () => {\r\n        toggleFullScreen(false)\r\n    }\r\n\r\n    const toggleCurrentState = () => {\r\n        if (currentState.current !== \"lyric\") {\r\n            currentState.current = \"lyric\";\r\n        } else {\r\n            currentState.current = \"\";\r\n        }\r\n    };\r\n\r\n\r\n    //getPlayMode方法\r\n    const getPlayMode = () => {\r\n        let content;\r\n        if (mode === playMode.sequence) {\r\n            content = \"&#xe625;\";\r\n        } else if (mode === playMode.loop) {\r\n            content = \"&#xe653;\";\r\n        } else {\r\n            content = \"&#xe61b;\";\r\n        }\r\n        return content;\r\n    };\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            classNames=\"normal\"\r\n            in={fullScreen}\r\n            timeout={400}\r\n            mountOnEnter\r\n            onEnter={enter}\r\n            onEntered={afterEnter}\r\n            onExit={leave}\r\n            onExited={afterLeave}\r\n        >\r\n            <NormalPlayerContainer ref={normalPlayerRef}>\r\n                <div className=\"background\">\r\n                    <img\r\n                        src={song.al.picUrl + \"?param=300x300\"}\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        alt=\"歌曲图片\"\r\n                    />\r\n                </div>\r\n                <div className=\"background layer\"></div>\r\n                <Top className=\"top\">\r\n                    <div className=\"back\" onClick={goBack}>\r\n                        <i className=\"iconfont icon-back\">&#xe662;</i>\r\n                    </div>\r\n                    <h1 className=\"title\">{song.name}</h1>\r\n                    <h1 className=\"subtitle\">{getName(song.ar)}</h1>\r\n                </Top>\r\n                <Middle ref={cdWrapperRef} onClick={toggleCurrentState}>\r\n                    <CSSTransition\r\n                        timeout={400}\r\n                        classNames=\"fade\"\r\n                        in={currentState.current !== \"lyric\"}\r\n                    >\r\n                        <CDWrapper style={{ visibility: currentState.current !== \"lyric\" ? \"visible\" : \"hidden\" }}>\r\n                            {/* // 其余跟以前保持一致 */}\r\n                            <p className=\"playing_lyric\">{currentPlayingLyric}</p>\r\n                        </CDWrapper>\r\n                    </CSSTransition>\r\n                    <CSSTransition\r\n                        timeout={400}\r\n                        classNames=\"fade\"\r\n                        in={currentState.current === \"lyric\"}\r\n                    >\r\n                        <LyricContainer>\r\n                            <Scroll ref={lyricScrollRef}>\r\n                                <LyricWrapper\r\n                                    style={{ visibility: currentState.current === \"lyric\" ? \"visible\" : \"hidden\" }}\r\n                                    className=\"lyric_wrapper\"\r\n                                >\r\n                                    {\r\n                                        currentLyric\r\n                                            ? currentLyric.lines.map((item, index) => {\r\n                                                // 拿到每一行歌词的 DOM 对象，后面滚动歌词需要！ \r\n                                                lyricLineRefs.current[index] = React.createRef();\r\n                                                return (\r\n                                                    <p\r\n                                                        className={`text ${currentLineNum === index ? \"current\" : \"\"\r\n                                                            }`}\r\n                                                        key={item + index}\r\n                                                        ref={lyricLineRefs.current[index]}\r\n                                                    >\r\n                                                        {item.txt}\r\n                                                    </p>\r\n                                                );\r\n                                            })\r\n                                            : <p className=\"text pure\"> 纯音乐，请欣赏。</p>}\r\n                                </LyricWrapper>\r\n                            </Scroll>\r\n                        </LyricContainer>\r\n                    </CSSTransition>\r\n                </Middle>\r\n\r\n                <Bottom className=\"bottom\">\r\n                    <ProgressWrapper>\r\n                        <span className=\"time time-l\">{formatPlayTime(currentTime)}</span>\r\n                        <div className=\"progress-bar-wrapper\">\r\n                            <ProgressBar\r\n                                percent={percent}\r\n                                percentChange={onProgressChange}\r\n                            ></ProgressBar>\r\n                        </div>\r\n                        <div className=\"time time-r\">{formatPlayTime(duration)}</div>\r\n                    </ProgressWrapper>\r\n                    <Operators>\r\n                        {/* //Operator标签下 */}\r\n                        <div className=\"icon i-left\" onClick={changeMode}>\r\n                            <i\r\n                                className=\"iconfont\"\r\n                                dangerouslySetInnerHTML={{ __html: getPlayMode() }}\r\n                            ></i>\r\n                        </div>\r\n                        <div className=\"icon i-left\" onClick={handlePrev}>\r\n                            <i className=\"iconfont\">&#xe6e1;</i>\r\n                        </div>\r\n                        <div className=\"icon i-center\">\r\n                            <i\r\n                                className=\"iconfont\"\r\n                                onClick={e => clickPlaying(e, !playing)}\r\n                                dangerouslySetInnerHTML={{\r\n                                    __html: playing ? \"&#xe723;\" : \"&#xe731;\"\r\n                                }}\r\n                            ></i>\r\n                        </div>\r\n                        <div className=\"icon i-right\" onClick={handleNext}>\r\n                            <i className=\"iconfont\">&#xe718;</i>\r\n                        </div>\r\n                        <div className=\"icon i-right\" onClick={() => togglePlayList(true)}>\r\n                            <i className=\"iconfont\">&#xe640;</i>\r\n                        </div>\r\n                    </Operators>\r\n                </Bottom>\r\n            </NormalPlayerContainer>\r\n        </CSSTransition>\r\n    );\r\n}\r\nexport default React.memo(NormalPlayer);","import React, {useState, useImperativeHandle, forwardRef} from 'react';\r\nimport styled from 'styled-components';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport style from '../../assets/global-style';\r\n\r\nconst ToastWrapper = styled.div`\r\n  position: fixed;\r\n  bottom: 0;\r\n  z-index: 1000;\r\n  width: 100%;\r\n  height: 50px;\r\n  /* background: ${style[\"highlight-background-color\"]}; */\r\n  &.drop-enter{\r\n    opacity: 0;\r\n    transform: translate3d(0, 100%, 0);\r\n  }\r\n  &.drop-enter-active{\r\n    opacity: 1;\r\n    transition: all 0.3s;\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n  &.drop-exit-active{\r\n    opacity: 0;\r\n    transition: all 0.3s;\r\n    transform: translate3d(0, 100%, 0);\r\n  }\r\n  .text{\r\n    line-height: 50px;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: ${style[\"font-size-l\"]};\r\n  }\r\n`\r\n//外面组件需要拿到这个函数组件的ref，因此用forwardRef\r\nconst Toast = forwardRef((props, ref) => {\r\n  const [show, setShow] = useState(false);\r\n  const [timer, setTimer] = useState('');\r\n  const {text} = props;\r\n  //外面组件拿函数组件ref的方法，用useImperativeHandle这个hook\r\n  useImperativeHandle(ref, () => ({\r\n    show() {\r\n      // 做了防抖处理\r\n      if(timer) clearTimeout(timer);\r\n      setShow(true);\r\n      setTimer(setTimeout(() => {\r\n        setShow(false)\r\n      }, 3000));\r\n    }\r\n  }))\r\n  return (\r\n    <CSSTransition in={show} timeout={300} classNames=\"drop\" unmountOnExit>\r\n      <ToastWrapper>\r\n        <div className=\"text\">{text}</div>\r\n      </ToastWrapper>\r\n    </CSSTransition>\r\n  )\r\n});\r\n\r\nexport default React.memo(Toast);","import styled from 'styled-components';\r\nimport style from '../../../assets/global-style';\r\n\r\nexport const PlayListWrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 1000;\r\n  background-color: ${style[\"background-color-shadow\"]};\r\n  .list_wrapper {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    opacity: 1;\r\n    border-radius: 10px 10px 0 0;\r\n    background-color: ${style[\"highlight-background-color\"]};\r\n    transform: translate3d(0, 0, 0);\r\n    .list_close {\r\n      text-align: center;\r\n      line-height: 50px;\r\n      background: ${style[\"background-color\"]};\r\n      font-size: ${style[\"font-size-l\"]};\r\n      color: ${style[\"font-color-desc\"]};\r\n    }\r\n  }\r\n  &.list-fade-enter {\r\n    opacity: 0;\r\n  }\r\n  &.list-fade-enter-active {\r\n    opacity: 1;\r\n    transition: all 0.3s;\r\n  }\r\n  &.list-fade-exit {\r\n    opacity: 1;\r\n  }\r\n  &.list-fade-exit-active {\r\n    opacity: 0;\r\n    transition: all 0.3s;\r\n  }\r\n`;\r\nexport const ScrollWrapper = styled.div`\r\n  height: 400px;\r\n  overflow: hidden;\r\n`;\r\n\r\n\r\nexport const ListHeader = styled.div`\r\n  position: relative;\r\n  padding: 20px 30px 10px 20px;\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    >div {\r\n      flex:1;\r\n      .text {\r\n        flex: 1;\r\n        font-size: ${style[\"font-size-m\"]};\r\n        color: ${style[\"font-color-desc\"]};\r\n      }\r\n    }\r\n    .iconfont {\r\n      margin-right: 10px;\r\n      font-size: ${style[\"font-size-ll\"]};\r\n      color: ${style[\"theme-color\"]};\r\n    }\r\n    .clear {\r\n      ${style.extendClick()}\r\n      font-size: ${style[\"font-size-l\"]};\r\n    }\r\n  }\r\n`\r\n\r\nexport const ListContent = styled.div`\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n    padding: 0 30px 0 20px;\r\n    overflow: hidden;\r\n    .current {\r\n      flex: 0 0 20px;\r\n      width: 20px;\r\n      font-size: ${style[\"font-size-s\"]};\r\n      color: ${style[\"theme-color\"]};\r\n    }\r\n    .text {\r\n      flex: 1;\r\n      ${style.noWrap()}\r\n      font-size: ${style[\"font-size-m\"]};\r\n      color: ${style[\"font-color-desc-v2\"]};\r\n      .icon-favorite {\r\n        color: ${style[\"theme-color\"]};\r\n      }\r\n    }\r\n    .like {\r\n      ${style.extendClick()}\r\n      margin-right: 15px;\r\n      font-size: ${style[\"font-size-m\"]};\r\n      color: ${style[\"theme-color\"]};\r\n    }\r\n    .delete {\r\n      ${style.extendClick()}\r\n      font-size: ${style[\"font-size-s\"]};\r\n      color: ${style[\"theme-color\"]};\r\n    }\r\n  }\r\n`","import React, {forwardRef, useImperativeHandle, useState} from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport styled, {keyframes} from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\n\r\nconst confirmFadeIn = keyframes`\r\n  0%{\r\n    opacity: 0;\r\n  }\r\n  100%{\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst confirmZoom = keyframes`\r\n  0%{\r\n    transform: scale(0);\r\n  }\r\n  50%{\r\n    transform: scale(1.1);\r\n  }\r\n  100%{\r\n    transform: scale(1);\r\n  }\r\n`\r\n\r\nconst ConfirmWrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 1000;\r\n  background: ${style[\"background-color-shadow\"]};\r\n  &.confirm-fade-enter-active{\r\n    animation: ${confirmFadeIn} 0.3s;\r\n    .confirm_content{\r\n      animation: ${confirmZoom} 0.3s\r\n    }\r\n  }\r\n  >div{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate3d(-50%, -50%, 0);\r\n    z-index: 100;\r\n    .confirm_content{\r\n      width: 270px;\r\n      border-radius: 13px;\r\n      background: ${style[\"highlight-background-color\"]};\r\n      .text{\r\n        padding: 19px 15px;\r\n        line-height: 22px;\r\n        text-align: center;\r\n        font-size: ${style[\"font-size-l\"]};\r\n        color: ${style[\"font-color-desc-v2\"]};\r\n      }\r\n      .operate{\r\n        display: flex;\r\n        align-items: center;\r\n        text-align: center;\r\n        font-size: ${style[\"font-size-l\"]};\r\n        .operate_btn{\r\n          flex: 1;\r\n          line-height: 22px;\r\n          padding: 10px 0;\r\n          border-top: 1px solid ${style[\"border-color\"]};\r\n          color: ${style[\"font-color-desc\"]};\r\n          &.left{\r\n            border-right: 1px solid ${style[\"border-color\"]};\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst Confirm = forwardRef((props, ref) => {\r\n  const [show, setShow] = useState(false);\r\n  const { text, cancelBtnText, confirmBtnText } = props;\r\n\r\n  const {handleConfirm} = props;\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show() {\r\n      setShow(true);\r\n    }\r\n  }));\r\n  // style={{display: show ? \"block\": \"none\"}}\r\n  return (\r\n    <CSSTransition classNames=\"confirm-fade\" timeout={300} appear={true} in={show}>\r\n      <ConfirmWrapper style={{display: show ? \"block\": \"none\"}} onClick={e => e.stopPropagation()}>\r\n        <div>\r\n          <div className=\"confirm_content\">\r\n            <p className=\"text\">{text}</p>\r\n            <div className=\"operate\" >\r\n              <div className=\"operate_btn left\" onClick={() => setShow(false)}>{cancelBtnText}</div>\r\n              <div className=\"operate_btn\" onClick={() => { setShow(false); handleConfirm();}}>{confirmBtnText}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ConfirmWrapper>\r\n    </CSSTransition>\r\n  )\r\n})\r\n\r\nexport default React.memo(Confirm);","import { connect } from \"react-redux\";\r\nimport { PlayListWrapper, ScrollWrapper, ListHeader, ListContent } from './style';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport React, { useRef, useState, useCallback } from 'react';\r\n// 从 utils.js 中再引入 shuffle 和 findIndex\r\nimport { prefixStyle, getName, shuffle, findIndex } from './../../../api/utils';\r\nimport { changeShowPlayList, changeCurrentIndex, changePlayMode, changePlayList, deleteSong, changeSequecePlayList, changeCurrentSong, changePlayingState } from \"../store/actionCreators\";\r\nimport { playMode } from \"../../../api/config\";\r\nimport Scroll from '../../../baseUI/scroll';\r\nimport Confirm from '../../../baseUI/confirm';\r\n\r\nfunction PlayList(props) {\r\n    const {\r\n        currentIndex,\r\n        currentSong: immutableCurrentSong,\r\n        showPlayList,\r\n        playList: immutablePlayList,\r\n        mode,\r\n        sequencePlayList: immutableSequencePlayList\r\n    } = props;\r\n    const {\r\n        togglePlayListDispatch,\r\n        changeCurrentIndexDispatch,\r\n        changePlayListDispatch,\r\n        changeModeDispatch,\r\n        deleteSongDispatch,\r\n        clearDispatch\r\n    } = props;\r\n\r\n    const currentSong = immutableCurrentSong.toJS();\r\n    const playList = immutablePlayList.toJS();\r\n    const sequencePlayList = immutableSequencePlayList.toJS();\r\n\r\n    const transform = prefixStyle(\"transform\");\r\n\r\n    // 是否允许滑动事件生效\r\n    const [canTouch, setCanTouch] = useState(true);\r\n    const confirmRef = useRef();\r\n    const playListRef = useRef();\r\n    const listWrapperRef = useRef();\r\n    const listContentRef = useRef();\r\n    const [isShow,setIsShow] = useState(false);\r\n    //touchStart 后记录 y 值\r\n    const [startY, setStartY] = useState(0);\r\n    //touchStart 事件是否已经被触发\r\n    const [initialed, setInitialed] = useState(0);\r\n    // 用户下滑的距离\r\n    const [distance, setDistance] = useState(0);\r\n\r\n\r\n    const onEnterCB = useCallback(() => {\r\n        // 让列表显示\r\n        setIsShow(true);\r\n        // 最开始是隐藏在下面\r\n        listWrapperRef.current.style[transform] = `translate3d(0, 100%, 0)`;\r\n    }, [transform]);\r\n\r\n    const onEnteringCB = useCallback(() => {\r\n        // 让列表展现\r\n        listWrapperRef.current.style[\"transition\"] = \"all 0.3s\";\r\n        listWrapperRef.current.style[transform] = `translate3d(0, 0, 0)`;\r\n    }, [transform]);\r\n\r\n    const onExitingCB = useCallback(() => {\r\n        listWrapperRef.current.style[\"transition\"] = \"all 0.3s\";\r\n        listWrapperRef.current.style[transform] = `translate3d(0px, 100%, 0px)`;\r\n    }, [transform]);\r\n\r\n    const onExitedCB = useCallback(() => {\r\n        setIsShow(false);\r\n        listWrapperRef.current.style[transform] = `translate3d(0px, 100%, 0px)`;\r\n    }, [transform]);\r\n\r\n    const getCurrentIcon = (item) => {\r\n        // 是不是当前正在播放的歌曲\r\n        const current = currentSong.id === item.id;\r\n        const className = current ? 'icon-play' : '';\r\n        const content = current ? '&#xe6e3;' : '';\r\n        return (\r\n            <i className={`current iconfont ${className}`} dangerouslySetInnerHTML={{ __html: content }}></i>\r\n        )\r\n    };\r\n    const getPlayMode = () => {\r\n        let content, text;\r\n        if (mode === playMode.sequence) {\r\n            content = \"&#xe625;\";\r\n            text = \"顺序播放\";\r\n        } else if (mode === playMode.loop) {\r\n            content = \"&#xe653;\";\r\n            text = \"单曲循环\";\r\n        } else {\r\n            content = \"&#xe61b;\";\r\n            text = \"随机播放\";\r\n        }\r\n        return (\r\n            <div>\r\n                <i className=\"iconfont\" onClick={(e) => changeMode(e)} dangerouslySetInnerHTML={{ __html: content }}></i>\r\n                <span className=\"text\" onClick={(e) => changeMode(e)}>{text}</span>\r\n            </div>\r\n        )\r\n    };\r\n    const changeMode = () => {\r\n        let newMode = (mode + 1) % 3;\r\n        if (newMode === 0) {\r\n            // 顺序模式\r\n            changePlayListDispatch(sequencePlayList);\r\n            let index = findIndex(currentSong, sequencePlayList);\r\n            changeCurrentIndexDispatch(index);\r\n        } else if (newMode === 1) {\r\n            // 单曲循环\r\n            changePlayListDispatch(sequencePlayList);\r\n        } else if (newMode === 2) {\r\n            // 随机播放\r\n            let newList = shuffle(sequencePlayList);\r\n            let index = findIndex(currentSong, newList);\r\n            changePlayListDispatch(newList);\r\n            changeCurrentIndexDispatch(index);\r\n        }\r\n        changeModeDispatch(newMode);\r\n    };\r\n\r\n    const handleChangeCurrentIndex = (index) => {\r\n        if (currentIndex === index) return;\r\n        changeCurrentIndexDispatch(index);\r\n    }\r\n\r\n    const handleDeleteSong = (e, song) => {\r\n        e.stopPropagation();\r\n        deleteSongDispatch(song);\r\n    };\r\n\r\n    const handleShowClear = () => {\r\n        confirmRef.current.show();\r\n    }\r\n\r\n    const handleConfirmClear = () => {\r\n        clearDispatch();\r\n    }\r\n    const handleScroll = (pos) => {\r\n        // 只有当内容偏移量为 0 的时候才能下滑关闭 PlayList。否则一边内容在移动，一边列表在移动，出现 bug\r\n        let state = pos.y === 0;\r\n        setCanTouch(state);\r\n    }\r\n\r\n    const handleTouchStart = (e) => {\r\n        if (!canTouch || initialed) return;\r\n        listWrapperRef.current.style [\"transition\"] = \"\";\r\n        setStartY (e.nativeEvent.touches [0].pageY);// 记录 y 值\r\n        setInitialed (true);\r\n      };\r\n      const handleTouchMove = (e) => {\r\n        if (!canTouch || !initialed) return;\r\n        let distance = e.nativeEvent.touches [0].pageY - startY;\r\n        if (distance < 0) return;\r\n        setDistance (distance);// 记录下滑距离\r\n        listWrapperRef.current.style.transform = `translate3d(0, ${distance}px, 0)`;\r\n      };\r\n      const handleTouchEnd = (e) => {\r\n        setInitialed (false);\r\n        // 这里设置阈值为 150px\r\n        if (distance >= 150) {\r\n          // 大于 150px 则关闭 PlayList\r\n          togglePlayListDispatch (false);\r\n        } else {\r\n          // 否则反弹回去\r\n          listWrapperRef.current.style [\"transition\"] = \"all 0.3s\";\r\n          listWrapperRef.current.style [transform] = `translate3d(0px, 0px, 0px)`;\r\n        }\r\n      };\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={showPlayList}\r\n            timeout={300}\r\n            classNames=\"list-fade\"\r\n            onEnter={onEnterCB}\r\n            onEntering={onEnteringCB}\r\n            onExiting={onExitingCB}\r\n            onExited={onExitedCB}\r\n        >\r\n            <PlayListWrapper\r\n                ref={playListRef}\r\n                style={isShow === true ? { display: \"block\" } : { display: \"none\" }}\r\n                onClick={() => togglePlayListDispatch(false)}\r\n            >\r\n                <div className=\"list_wrapper\"\r\n                    ref={listWrapperRef}\r\n                    onClick={e => e.stopPropagation()}\r\n                    onTouchStart={handleTouchStart}\r\n                    onTouchMove={handleTouchMove}\r\n                    onTouchEnd={handleTouchEnd}\r\n                >\r\n                    <ListHeader>\r\n                        <h1 className=\"title\">\r\n                            {getPlayMode()}\r\n                            <span className=\"iconfont clear\" onClick={handleShowClear}>&#xe63d;</span>\r\n                        </h1>\r\n                    </ListHeader>\r\n                    <ScrollWrapper>\r\n                        <Scroll\r\n                            ref={listContentRef}\r\n                            onScroll={pos => handleScroll(pos)}\r\n                            bounceTop={false}\r\n                        >\r\n                            <ListContent>\r\n                                {\r\n                                    playList.map((item, index) => {\r\n                                        return (\r\n                                            <li className=\"item\" key={item.id} onClick={() => { handleChangeCurrentIndex(index) }}>\r\n                                                {getCurrentIcon(item)}\r\n                                                <span className=\"text\">{item.name} - {getName(item.ar)}</span>\r\n                                                <span className=\"like\">\r\n                                                    <i className=\"iconfont\">&#xe601;</i>\r\n                                                </span>\r\n                                                <span className=\"delete\" onClick={(e) => handleDeleteSong(e, item)}>\r\n                                                    <i className=\"iconfont\">&#xe63d;</i>\r\n                                                </span>\r\n                                            </li>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </ListContent>\r\n                        </Scroll>\r\n                    </ScrollWrapper>\r\n                </div>\r\n                <Confirm\r\n                    ref={confirmRef}\r\n                    text={\"是否删除全部？\"}\r\n                    cancelBtnText={\"取消\"}\r\n                    confirmBtnText={\"确定\"}\r\n                    handleConfirm={handleConfirmClear}\r\n                />\r\n            </PlayListWrapper>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\n// 映射 Redux 全局的 state 到组件的 props 上\r\nconst mapStateToProps = (state) => ({\r\n    currentIndex: state.getIn(['player', 'currentIndex']),\r\n    currentSong: state.getIn(['player', 'currentSong']),\r\n    playList: state.getIn(['player', 'playList']),// 播放列表\r\n    sequencePlayList: state.getIn(['player', 'sequencePlayList']),// 顺序排列时的播放列表\r\n    showPlayList: state.getIn(['player', 'showPlayList']),\r\n    mode: state.getIn(['player', 'mode'])\r\n});\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        togglePlayListDispatch(data) {\r\n            dispatch(changeShowPlayList(data));\r\n        },\r\n        // 修改当前歌曲在列表中的 index，也就是切歌\r\n        changeCurrentIndexDispatch(data) {\r\n            dispatch(changeCurrentIndex(data));\r\n        },\r\n        // 修改当前的播放模式\r\n        changeModeDispatch(data) {\r\n            dispatch(changePlayMode(data));\r\n        },\r\n        // 修改当前的歌曲列表\r\n        changePlayListDispatch(data) {\r\n            dispatch(changePlayList(data));\r\n        },\r\n        deleteSongDispatch(data) {\r\n            dispatch(deleteSong(data));\r\n        },\r\n        clearDispatch() {\r\n            // 1. 清空两个列表\r\n            dispatch(changePlayList([]));\r\n            dispatch(changeSequecePlayList([]));\r\n            // 2. 初始 currentIndex\r\n            dispatch(changeCurrentIndex(-1));\r\n            // 3. 关闭 PlayList 的显示\r\n            dispatch(changeShowPlayList(false));\r\n            // 4. 将当前歌曲置空\r\n            dispatch(changeCurrentSong({}));\r\n            // 5. 重置播放状态\r\n            dispatch(changePlayingState(false));\r\n\r\n        }\r\n    }\r\n};\r\n\r\n// 将 ui 组件包装成容器组件\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(PlayList));","import { axiosInstance } from \"./config\";\r\n\r\nexport const getBannerRequest = () => {\r\n  return axiosInstance.get ('/banner');\r\n}\r\n\r\nexport const getRecommendListRequest = () => {\r\n  return axiosInstance.get ('/personalized');\r\n}\r\n\r\nexport const getHotSingerListRequest = (count) => {\r\n  console.log(`/top/artists?offset=${count}`)\r\n  return axiosInstance.get(`/top/artists?offset=${count}`);\r\n}\r\n\r\nexport const getSingerListRequest= (category, alpha, count) => {\r\n  console.log(`/artist/list?cat=${category}&initial=${alpha.toLowerCase()}&offset=${count}`)\r\n  return axiosInstance.get(`/artist/list?cat=${category}&initial=${alpha.toLowerCase()}&offset=${count}`);\r\n}\r\n\r\nexport const getRankListRequest = () => {\r\n  return axiosInstance.get (`/toplist/detail`);\r\n};\r\n\r\nexport const getAlbumDetailRequest = id => {\r\n  return axiosInstance.get (`/playlist/detail?id=${id}`);\r\n};\r\n\r\nexport const getSingerInfoRequest = id => {\r\n  return axiosInstance.get (`/artists?id=${id}`);\r\n};\r\n\r\nexport const getLyricRequest = id => {\r\n  console.log(`/lyric?id=${id}`)\r\n  return axiosInstance.get (`/lyric?id=${id}`);\r\n};","// 解析 [00:01.997] 这一类时间戳的正则表达式\r\nconst timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g\r\n\r\nconst STATE_PAUSE = 0\r\nconst STATE_PLAYING = 1\r\n\r\n\r\nexport default class Lyric {\r\n    /**\r\n     * @params {string} lrc\r\n     * @params {function} handler\r\n    */\r\n    constructor(lrc, hanlder = () => { }) {\r\n        this.lrc = lrc;\r\n        this.lines = [];// 这是解析后的数组，每一项包含对应的歌词和时间\r\n        this.handler = hanlder;// 回调函数\r\n        this.state = STATE_PAUSE;// 播放状态\r\n        this.curLineIndex = 0;// 当前播放歌词所在的行数\r\n        this.startStamp = 0;// 歌曲开始的时间戳\r\n\r\n        this._initLines();\r\n    }\r\n\r\n    _initLines() {\r\n        // 解析代码\r\n        const lines = this.lrc.split('\\n');\r\n        for (let i = 0; i < lines.length; i++) {\r\n            const line = lines[i];// 如 \"[00:01.997] 作词：薛之谦\"\r\n            let result = timeExp.exec(line);\r\n            if (!result) continue;\r\n            const txt = line.replace(timeExp, '').trim();// 现在把时间戳去掉，只剩下歌词文本\r\n            if (txt) {\r\n                if (result[3].length === 3) {\r\n                    result[3] = result[3] / 10;//[00:01.997] 中匹配到的 997 就会被切成 99\r\n                }\r\n                this.lines.push({\r\n                    time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10,// 转化具体到毫秒的时间，result [3] * 10 可理解为 (result / 100) * 1000\r\n                    txt\r\n                });\r\n            }\r\n        }\r\n        this.lines.sort((a, b) => {\r\n            return a.time - b.time;\r\n        });// 根据时间排序\r\n    }\r\n\r\n    //offset 为时间进度，isSeek 标志位表示用户是否手动调整进度\r\n    play(offset = 0, isSeek = false) {\r\n        if (!this.lines.length) {\r\n            return;\r\n        }\r\n        this.state = STATE_PLAYING;\r\n        // 找到当前所在的行\r\n        this.curLineIndex = this._findcurLineIndex(offset);\r\n        // 现在正处于第 this.curLineIndex-1 行\r\n        // 立即定位，方式是调用传来的回调函数，并把当前歌词信息传给它\r\n        this._callHandler(this.curLineIndex - 1);\r\n        // 根据时间进度判断歌曲开始的时间戳\r\n        this.startStamp = +new Date() - offset;\r\n\r\n        if (this.curLineIndex < this.lines.length) {\r\n            clearTimeout(this.timer);\r\n            // 继续播放\r\n            this._playRest(isSeek);\r\n        }\r\n    }\r\n\r\n    _findcurLineIndex(time) {\r\n        for (let i = 0; i < this.lines.length; i++) {\r\n            if (time <= this.lines[i].time) {\r\n                return i\r\n            }\r\n        }\r\n        return this.lines.length - 1\r\n    }\r\n\r\n    _callHandler(i) {\r\n        if (i < 0) {\r\n            return\r\n        }\r\n        this.handler({\r\n            txt: this.lines[i].txt,\r\n            lineNum: i\r\n        })\r\n    }\r\n    //isSeek 标志位表示用户是否手动调整进度\r\n    _playRest(isSeek = false) {\r\n        let line = this.lines[this.curLineIndex];\r\n        let delay;\r\n        if (isSeek) {\r\n            delay = line.time - (+new Date() - this.startStamp);\r\n        } else {\r\n            // 拿到上一行的歌词开始时间，算间隔\r\n            let preTime = this.lines[this.curLineIndex - 1] ? this.lines[this.curLineIndex - 1].time : 0;\r\n            delay = line.time - preTime;\r\n        }\r\n        this.timer = setTimeout(() => {\r\n            this._callHandler(this.curLineIndex++);\r\n            if (this.curLineIndex < this.lines.length && this.state === STATE_PLAYING) {\r\n                this._playRest();\r\n            }\r\n        }, delay)\r\n    }\r\n    seek(offset) {\r\n        this.play(offset, true)\r\n    }\r\n}","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    changePlayingState,\r\n    changeShowPlayList,\r\n    changeCurrentIndex,\r\n    changeCurrentSong,\r\n    changePlayList,\r\n    changePlayMode,\r\n    changeFullScreen\r\n} from \"./store/actionCreators\";\r\nimport MiniPlayer from './miniPlayer';\r\nimport NormalPlayer from './normalPlayer';\r\nimport { getSongUrl, isEmptyObject, shuffle, findIndex } from \"../../api/utils\";\r\nimport { playMode } from '../../api/config';\r\nimport Toast from \"./../../baseUI/Toast\";\r\nimport PlayList from \"./play-list\"\r\nimport { getLyricRequest } from '../../api/request'\r\nimport Lyric from './../../api/lyric-parser';\r\n\r\nfunction Player(props) {\r\n    const {\r\n        fullScreen,\r\n        playing,\r\n        currentIndex,\r\n        playList: immutablePlayList,\r\n        currentSong: immutableCurrentSong,\r\n        mode,//播放模式\r\n        sequencePlayList: immutableSequencePlayList,//顺序列表 \r\n    } = props;\r\n    const {\r\n        togglePlayingDispatch,\r\n        changeCurrentIndexDispatch,\r\n        changeCurrentDispatch,\r\n        changePlayListDispatch,//改变playList\r\n        changeModeDispatch,//改变mode\r\n        toggleFullScreenDispatch,\r\n        togglePlayListDispatch\r\n    } = props;\r\n\r\n    const playList = immutablePlayList.toJS();\r\n    const sequencePlayList = immutableSequencePlayList.toJS();\r\n    const currentSong = immutableCurrentSong.toJS();\r\n\r\n    // 即时歌词\r\n    const [currentPlayingLyric, setPlayingLyric] = useState(\"\");\r\n    const currentLyric = useRef();\r\n    // 记录当前行数的 currentLineNum:\r\n    const currentLineNum = useRef(0);\r\n\r\n    // 保存当前audio是否可以切歌\r\n    const songReady = useRef(true);\r\n    const [modeText, setModeText] = useState(\"\");\r\n    // 绑定切换播放和模式时文字显示的组件\r\n    const toastRef = useRef();\r\n    //记录当前的歌曲，以便于下次重渲染时比对是否是一首歌\r\n    const [preSong, setPreSong] = useState({});\r\n    //绑定ref\r\n    const audioRef = useRef();\r\n    //目前播放时间\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    //歌曲总时长\r\n    const [duration, setDuration] = useState(0);\r\n    //歌曲播放进度\r\n    let percent = isNaN(currentTime / duration) ? 0 : currentTime / duration;\r\n\r\n    //先mock一份currentIndex\r\n    // useEffect(() => {\r\n    //     changeCurrentIndexDispatch(0);\r\n    // }, [])\r\n\r\n    useEffect(() => {\r\n        if (\r\n            !playList.length ||\r\n            currentIndex === -1 ||\r\n            !playList[currentIndex] ||\r\n            playList[currentIndex].id === preSong.id\r\n        )\r\n            return;\r\n        let current = playList[currentIndex];\r\n        setPreSong(current);\r\n        songReady.current = false; // 把标志位置为 false, 表示现在新的资源没有缓冲完成，不能切歌\r\n        changeCurrentDispatch(current);//赋值currentSong\r\n        audioRef.current.src = getSongUrl(current.id);\r\n        setTimeout(() => {\r\n            audioRef.current.play().then(() => {\r\n                songReady.current = true;\r\n            }, (err) => { console.log(err) });\r\n        });\r\n        togglePlayingDispatch(true);//播放状态\r\n        getLyric(current.id);\r\n        setCurrentTime(0);//从头开始播放\r\n        setDuration((current.dt / 1000) | 0);//时长\r\n    }, [playList, currentIndex]);\r\n\r\n\r\n    useEffect(() => {\r\n        playing ? audioRef.current.play() : audioRef.current.pause();\r\n    }, [playing]);\r\n\r\n    const clickPlaying = (e, state) => {\r\n        e.stopPropagation();\r\n        togglePlayingDispatch(state);\r\n        // console.log('play')\r\n        if (currentLyric.current) {\r\n            currentLyric.current.togglePlay (currentTime*1000);\r\n          }\r\n    };\r\n\r\n    const updateTime = e => {\r\n        setCurrentTime(e.target.currentTime);\r\n    };\r\n\r\n    // 更新进度条\r\n    const onProgressChange = curPercent => {\r\n        const newTime = curPercent * duration;\r\n        setCurrentTime(newTime);\r\n        audioRef.current.currentTime = newTime;\r\n        if (!playing) {\r\n            togglePlayingDispatch(true);\r\n        }\r\n        if (currentLyric.current) {\r\n            currentLyric.current.seek (newTime * 1000);\r\n          }\r\n    };\r\n\r\n    //一首歌循环\r\n    const handleLoop = () => {\r\n        audioRef.current.currentTime = 0;\r\n        changePlayingState(true);\r\n        audioRef.current.play();\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        //播放列表只有一首歌时单曲循环\r\n        if (playList.length === 1) {\r\n            handleLoop();\r\n            return;\r\n        }\r\n        let index = currentIndex - 1;\r\n        if (index < 0) index = playList.length - 1;\r\n        if (!playing) togglePlayingDispatch(true);\r\n        changeCurrentIndexDispatch(index);\r\n    };\r\n\r\n    const handleNext = () => {\r\n        //播放列表只有一首歌时单曲循环\r\n        if (playList.length === 1) {\r\n            handleLoop();\r\n            return;\r\n        }\r\n        let index = currentIndex + 1;\r\n        if (index === playList.length) index = 0;\r\n        if (!playing) togglePlayingDispatch(true);\r\n        changeCurrentIndexDispatch(index);\r\n    };\r\n\r\n    const changeMode = () => {\r\n        let newMode = (mode + 1) % 3;\r\n        if (newMode === 0) {\r\n            //顺序模式\r\n            changePlayListDispatch(sequencePlayList);\r\n            let index = findIndex(currentSong, sequencePlayList);\r\n            changeCurrentIndexDispatch(index);\r\n            setModeText(\"顺序循环\");\r\n        } else if (newMode === 1) {\r\n            //单曲循环\r\n            changePlayListDispatch(sequencePlayList);\r\n            setModeText(\"单曲循环\");\r\n        } else if (newMode === 2) {\r\n            //随机播放\r\n            let newList = shuffle(sequencePlayList);\r\n            let index = findIndex(currentSong, newList);\r\n            changePlayListDispatch(newList);\r\n            changeCurrentIndexDispatch(index);\r\n            setModeText(\"随机播放\");\r\n        }\r\n        changeModeDispatch(newMode);\r\n        toastRef.current.show();\r\n    };\r\n\r\n    const handleEnd = () => {\r\n        if (mode === playMode.loop) {\r\n            handleLoop();\r\n        } else {\r\n            handleNext();\r\n        }\r\n    }\r\n\r\n    const handleError = () => {\r\n        songReady.current = true;\r\n        console.log(\"播放出错\");\r\n    };\r\n\r\n    const handleLyric = ({ lineNum, txt }) => {\r\n        if (!currentLyric.current) return;\r\n        currentLineNum.current = lineNum;\r\n        setPlayingLyric(txt);\r\n    };\r\n\r\n    const getLyric = id => {\r\n        let lyric = \"\";\r\n        if (currentLyric.current) {\r\n            currentLyric.current.stop();\r\n        }\r\n        // 避免 songReady 恒为 false 的情况\r\n        getLyricRequest(id)\r\n            .then(data => {\r\n                lyric = data.lrc.lyric;\r\n                if (!lyric) {\r\n                    currentLyric.current = null;\r\n                    return;\r\n                }\r\n                currentLyric.current = new Lyric(lyric, handleLyric);\r\n                currentLyric.current.play();\r\n                currentLineNum.current = 0;\r\n                currentLyric.current.seek(0);\r\n            })\r\n            .catch(() => {\r\n                songReady.current = true;\r\n                audioRef.current.play();\r\n            });\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            { isEmptyObject(currentSong) ? null :\r\n                <MiniPlayer\r\n                    playing={playing}\r\n                    song={currentSong}\r\n                    fullScreen={fullScreen}\r\n                    toggleFullScreen={toggleFullScreenDispatch}\r\n                    clickPlaying={clickPlaying}\r\n                    percent={percent}\r\n                    togglePlayList={togglePlayListDispatch}\r\n                />}\r\n            {isEmptyObject(currentSong) ? null :\r\n                <NormalPlayer\r\n                    song={currentSong}\r\n                    fullScreen={fullScreen}\r\n                    toggleFullScreen={toggleFullScreenDispatch}\r\n                    percent={percent}\r\n                    playing={playing}\r\n                    duration={duration}//总时长\r\n                    currentTime={currentTime}//播放时间\r\n                    clickPlaying={clickPlaying}\r\n                    onProgressChange={onProgressChange}\r\n                    handlePrev={handlePrev}\r\n                    handleNext={handleNext}\r\n                    mode={mode}\r\n                    changeMode={changeMode}\r\n                    togglePlayList={togglePlayListDispatch}\r\n                    currentLyric={currentLyric.current}\r\n                    currentPlayingLyric={currentPlayingLyric}\r\n                    currentLineNum={currentLineNum.current}\r\n                />}\r\n            <audio ref={audioRef} onTimeUpdate={updateTime} onEnded={handleEnd} onError={handleError}></audio>\r\n            <PlayList></PlayList>\r\n            <Toast text={modeText} ref={toastRef}></Toast>\r\n        </div>\r\n    )\r\n}\r\n\r\n// 映射 Redux 全局的 state 到组件的 props 上\r\nconst mapStateToProps = state => ({\r\n    fullScreen: state.getIn([\"player\", \"fullScreen\"]),\r\n    playing: state.getIn([\"player\", \"playing\"]),\r\n    currentSong: state.getIn([\"player\", \"currentSong\"]),\r\n    showPlayList: state.getIn([\"player\", \"showPlayList\"]),\r\n    mode: state.getIn([\"player\", \"mode\"]),\r\n    currentIndex: state.getIn([\"player\", \"currentIndex\"]),\r\n    playList: state.getIn([\"player\", \"playList\"]),\r\n    sequencePlayList: state.getIn([\"player\", \"sequencePlayList\"])\r\n});\r\n\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        togglePlayingDispatch(data) {\r\n            dispatch(changePlayingState(data));\r\n        },\r\n        toggleFullScreenDispatch(data) {\r\n            dispatch(changeFullScreen(data));\r\n        },\r\n        togglePlayListDispatch(data) {\r\n            dispatch(changeShowPlayList(data));\r\n        },\r\n        changeCurrentIndexDispatch(index) {\r\n            dispatch(changeCurrentIndex(index));\r\n        },\r\n        changeCurrentDispatch(data) {\r\n            dispatch(changeCurrentSong(data));\r\n        },\r\n        changeModeDispatch(data) {\r\n            dispatch(changePlayMode(data));\r\n        },\r\n        changePlayListDispatch(data) {\r\n            dispatch(changePlayList(data));\r\n        }\r\n    };\r\n};\r\n\r\n// 将 ui 组件包装成容器组件\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(React.memo(Player));","import React from 'react';\r\nimport { renderRoutes } from \"react-router-config\";\r\nimport { Top, TabItem, Tab } from './style'\r\nimport { NavLink } from 'react-router-dom';// 利用 NavLink 组件进行路由跳转\r\nimport Player from '../Player';\r\n\r\nfunction Home(props) {\r\n  const { route } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Top>\r\n        <span className=\"iconfont menu\">&#xe65c;</span>\r\n        <span className=\"title\">zxx的专属app</span>\r\n        <span className=\"iconfont search\" onClick={() => props.history.push ('/search')}>&#xe62b;</span>\r\n      </Top>\r\n      <Tab>\r\n          <NavLink to=\"/recommend\" activeClassName=\"selected\">\r\n            <TabItem>\r\n              <span > 推荐 </span>\r\n            </TabItem>\r\n          </NavLink>\r\n          <NavLink to=\"/singers\" activeClassName=\"selected\">\r\n            <TabItem>\r\n              <span > 歌手 </span>\r\n            </TabItem>\r\n          </NavLink>\r\n          <NavLink to=\"/rank\" activeClassName=\"selected\">\r\n            <TabItem>\r\n              <span > 排行榜 </span>\r\n            </TabItem>\r\n          </NavLink>\r\n      </Tab>\r\n\r\n      { renderRoutes(route.routes)}\r\n      <Player></Player>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Home);","import styled from 'styled-components'\r\nimport style from '../../assets/global-style'\r\n\r\nexport const SliderContainer = styled.div`\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: auto;\r\n  background: white;\r\n  .before {\r\n    position: absolute;\r\n    top: -300px;\r\n    height: 400px;\r\n    width: 100%;\r\n    background: ${style[\"theme-color\"]};\r\n  }\r\n  .slider-container {\r\n    position: relative;\r\n    width: 98%;\r\n    height: 160px;\r\n    overflow: hidden;\r\n    margin: auto;\r\n    border-radius: 6px;\r\n    .slider-nav {\r\n      position: absolute;\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .swiper-pagination-bullet-active {\r\n      background: ${style[\"theme-color\"]};\r\n    }\r\n  }\r\n`","import React, { useEffect, useState } from 'react';\r\nimport { SliderContainer } from './style';\r\nimport \"swiper/dist/css/swiper.css\";\r\nimport Swiper from \"swiper\";\r\n\r\nfunction Slider(props) {\r\n  const [sliderSwiper, setSliderSwiper] = useState(null);\r\n  const { bannerList } = props;\r\n\r\n  useEffect(() => {\r\n    if (bannerList.length && !sliderSwiper) {\r\n      let newSliderSwiper = new Swiper(\".slider-container\", {\r\n        loop: true,\r\n        autoplay: {\r\n          delay: 3000,\r\n          disableOnInteraction: false,\r\n        },\r\n        pagination: { el: '.swiper-pagination' },\r\n      });\r\n      setSliderSwiper(newSliderSwiper);\r\n    }\r\n  }, [bannerList.length, sliderSwiper]);\r\n  return (\r\n    <SliderContainer>\r\n      <div className=\"before\"></div>\r\n      <div className=\"slider-container\">\r\n        <div className=\"swiper-wrapper\">\r\n          {\r\n            bannerList.map(slider => {\r\n              return (\r\n                <div className=\"swiper-slide\" key={slider.imageUrl}>\r\n                  <div className=\"slider-nav\">\r\n                    <img src={slider.imageUrl} width=\"100%\" height=\"100%\" alt=\"推荐\" />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          }\r\n        </div>\r\n        <div className=\"swiper-pagination\"></div>\r\n      </div>\r\n\r\n    </SliderContainer>\r\n  )\r\n}\r\n\r\nexport default React.memo(Slider);","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';// 将 JS 对象转换成 immutable 对象\r\nimport { getBannerRequest, getRecommendListRequest } from '../../../api/request';\r\n\r\nexport const changeBannerList = (data) => ({\r\n  type: actionTypes.CHANGE_BANNER,\r\n  data: fromJS (data)\r\n});\r\n\r\nexport const changeRecommendList = (data) => ({\r\n  type: actionTypes.CHANGE_RECOMMEND_LIST,\r\n  data: fromJS (data)\r\n});\r\n\r\nexport const chageEnterLoading = (data)=>({\r\n  type: actionTypes.CHANGE_ENTER_LOADING,\r\n  data\r\n})\r\n\r\nexport const getBannerList = () => {\r\n  return (dispatch) => {\r\n    getBannerRequest ().then (data => {\r\n      dispatch (changeBannerList (data.banners));\r\n    }).catch (() => {\r\n      console.log (\"轮播图数据传输错误\");\r\n    }) \r\n  }\r\n};\r\n\r\nexport const getRecommendList = () => {\r\n  return (dispatch) => {\r\n    getRecommendListRequest ().then (data => {\r\n      dispatch (changeRecommendList (data.result));\r\n      dispatch(chageEnterLoading(false));//改变loading\r\n    }).catch (() => {\r\n      console.log (\"推荐歌单数据传输错误\");\r\n    });\r\n  }\r\n};\r\n","export const CHANGE_BANNER = 'recommend/CHANGE_BANNER';\r\n\r\nexport const CHANGE_RECOMMEND_LIST = 'recommend/RECOMMEND_LIST';\r\n\r\nexport const CHANGE_ENTER_LOADING = 'recommend/CHANGE_ENTER_LOADING';","import styled from'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const ListWrapper = styled.div`\r\n  max-width: 100%;\r\n  .title {\r\n    font-weight: 700;\r\n    padding-left: 6px;\r\n    font-size: 14px;\r\n    line-height: 60px;\r\n  }\r\n`;\r\nexport const List = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: space-evenly;\r\n`;\r\n\r\nexport const ListItem = styled.div`\r\n  position: relative;\r\n  width: 32%;\r\n\r\n  .img_wrapper {\r\n    .decorate {\r\n      position: absolute;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 35px;\r\n      border-radius: 3px;\r\n      background: linear-gradient (hsla (0,0%,43%,.4),hsla (0,0%,100%,0));\r\n    }\r\n    position: relative;\r\n    height: 0;\r\n    padding-bottom: 100%;\r\n    .play_count {\r\n      position: absolute;\r\n      right: 2px;\r\n      top: 2px;\r\n      font-size: ${style[\"font-size-s\"]};\r\n      line-height: 15px;\r\n      color: ${style[\"font-color-light\"]};\r\n      .play {\r\n        vertical-align: top;\r\n      }\r\n    }\r\n    img {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 3px;\r\n    }\r\n  }\r\n  .desc {\r\n      overflow: hidden;\r\n      margin-top: 2px;\r\n      padding: 0 2px;\r\n      height: 50px;\r\n      text-align: left;\r\n      font-size: ${style[\"font-size-s\"]};\r\n      line-height: 1.4;\r\n      color: ${style[\"font-color-desc\"]};\r\n    }\r\n`;","import React from 'react';\r\nimport {\r\n    ListWrapper,\r\n    ListItem,\r\n    List\r\n} from './style';\r\nimport { getCount } from \"../../api/utils\";\r\nimport { withRouter } from 'react-router-dom';//解决props上取不到history\r\nimport LazyLoad from 'react-lazyload'\r\n\r\nfunction RecommendList(props) {\r\n    const enterDetail = (id) => {\r\n        props.history.push(`/recommend/${id}`)\r\n    }\r\n    return (\r\n        <ListWrapper>\r\n            <h1 className=\"title\">推荐歌单</h1>\r\n            <List>\r\n                {\r\n                    props.recommendList.map((item, index) => {\r\n                        return (\r\n                            <ListItem key={item.id+index} onClick={() => enterDetail(item.id)}>\r\n                                <div className=\"img_wrapper\">\r\n                                    <div className=\"decorate\"></div>\r\n                                    <LazyLoad placeholder={<img width=\"100%\" height=\"100%\" src={require('./music.png')} alt='music'></img>} height={50}>\r\n                                        {/* 加此参数可以减小请求的图片资源大小 */}\r\n                                        <img src={item.picUrl + \"?param=300x300\"} width=\"100%\" height=\"100%\" alt=\"music\" />\r\n                                    </LazyLoad>\r\n                                    <div className=\"play_count\">\r\n                                        <i className=\"iconfont play\">&#xe885;</i>\r\n                                        <span className=\"count\">{getCount(item.playCount)}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"desc\">{item.name}</div>\r\n                            </ListItem>\r\n                        )\r\n                    })\r\n                }\r\n            </List>\r\n        </ListWrapper>\r\n    )\r\n}\r\n\r\nexport default React.memo(withRouter(RecommendList));","import styled from'styled-components';\r\n\r\nexport const Content = styled.div`\r\n  position: fixed;\r\n  top: 90px;\r\n  bottom: ${props => props.play > 0?\"60px\": 0};\r\n  width: 100%;\r\n`","import React, { useEffect } from 'react';\r\nimport Slider from '../../components/slider/';\r\nimport { connect } from \"react-redux\";\r\nimport * as actionTypes from './store/actionCreators';\r\nimport RecommendList from '../../components/list/';\r\nimport Scroll from '../../baseUI/scroll/index';\r\nimport { Content } from './style';\r\nimport { forceCheck } from 'react-lazyload';\r\nimport Loading from '../../baseUI/loading'\r\nimport { renderRoutes } from 'react-router-config'\r\n\r\nfunction Recommend(props) {\r\n  const { bannerList, recommendList, enterLoading,songsCount  } = props;\r\n\r\n  const { getBannerDataDispatch, getRecommendListDataDispatch } = props;\r\n\r\n  useEffect(() => {\r\n    if (!bannerList.size) {\r\n      getBannerDataDispatch();\r\n    }\r\n    if (!recommendList.size) {\r\n      getRecommendListDataDispatch();\r\n    }\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  const bannerListJS = bannerList ? bannerList.toJS() : [];\r\n  const recommendListJS = recommendList ? recommendList.toJS() : [];\r\n\r\n  return (\r\n    <Content play={songsCount}>\r\n      <Scroll className='list' onScroll={forceCheck} >\r\n        <div>\r\n          <Slider bannerList={bannerListJS}></Slider>\r\n          <RecommendList recommendList={recommendListJS}></RecommendList>\r\n        </div>\r\n      </Scroll>\r\n      { enterLoading ? <Loading></Loading> : null}\r\n      {/* // 其他代码\r\n      // 将目前所在路由的下一层子路由加以渲染 */}\r\n      { renderRoutes(props.route.routes)}\r\n    </Content>\r\n  );\r\n}\r\n\r\n// 映射 Redux 全局的 state 到组件的 props 上\r\nconst mapStateToProps = (state) => ({\r\n  // 不要在这里将数据 toJS\r\n  // 不然每次 diff 比对 props 的时候都是不一样的引用，还是导致不必要的重渲染，属于滥用 immutable\r\n  bannerList: state.getIn(['recommend', 'bannerList']),\r\n  recommendList: state.getIn(['recommend', 'recommendList']),\r\n  enterLoading: state.getIn(['recommend', 'enterLoading']),\r\n  songsCount: state.getIn (['player', 'playList']).size,// 尽量减少 toJS 操作，直接取 size 属性就代表了 list 的长度\r\n});\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getBannerDataDispatch() {\r\n      dispatch(actionTypes.getBannerList());\r\n    },\r\n    getRecommendListDataDispatch() {\r\n      dispatch(actionTypes.getRecommendList());\r\n    },\r\n  }\r\n};\r\n\r\n// 将 ui 组件包装成容器组件\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Recommend));","import React, { useState, useRef, useEffect, memo } from 'react';\r\nimport styled from 'styled-components';\r\nimport Scroll from '../scroll/index'\r\nimport { PropTypes } from 'prop-types';\r\nimport style from '../../assets/global-style';\r\n\r\nconst List = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 30px;\r\n  overflow: hidden;\r\n  >span:first-of-type {\r\n    display: block;\r\n    flex: 0 0 auto;\r\n    padding: 5px 0;\r\n    margin-right: 5px;\r\n    color: grey;\r\n    font-size: ${style[\"font-size-m\"]};\r\n    vertical-align: middle;\r\n  }\r\n`\r\nconst ListItem = styled.span`\r\n  flex: 0 0 auto;\r\n  font-size: ${style[\"font-size-m\"]};\r\n  padding: 5px 8px;\r\n  border-radius: 10px;\r\n  &.selected {\r\n    color: ${style[\"theme-color\"]};\r\n    border: 1px solid ${style[\"theme-color\"]};\r\n    opacity: 0.8;\r\n  }\r\n`\r\n\r\nfunction Horizen(props) {\r\n    const { list, oldVal, title } = props;\r\n    const { handleClick } = props;\r\n\r\n\r\n    // 加入声明\r\n    const Category = useRef(null);\r\n\r\n    // 加入初始化内容宽度的逻辑\r\n    useEffect(() => {\r\n        let categoryDOM = Category.current;\r\n        let tagElems = categoryDOM.querySelectorAll(\"span\");\r\n        let totalWidth = 0;\r\n        Array.from(tagElems).forEach(ele => {\r\n            totalWidth += ele.offsetWidth;\r\n        });\r\n        categoryDOM.style.width = `${totalWidth}px`;\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <Scroll direction={\"horizental\"}>\r\n            <div ref={Category}>\r\n                <List>\r\n                    <span>{title}</span>\r\n                    {\r\n                        list.map((item) => {\r\n                            return (\r\n                                <ListItem\r\n                                    key={item.key}\r\n                                    className={`${oldVal === item.key ? 'selected' : ''}`}\r\n                                    onClick={() => handleClick(item.key)}>\r\n                                    {item.name}\r\n                                </ListItem>\r\n                            )\r\n                        })\r\n                    }\r\n                    \r\n                </List>\r\n            </div>\r\n        </Scroll>\r\n    )\r\n}\r\n\r\n// 首先考虑接受的参数\r\n//list 为接受的列表数据\r\n//oldVal 为当前的 item 值\r\n//title 为列表左边的标题\r\n//handleClick 为点击不同的 item 执行的方法\r\nHorizen.defaultProps = {\r\n    list: [],\r\n    oldVal: '',\r\n    title: '',\r\n    handleClick: null\r\n};\r\n\r\nHorizen.propTypes = {\r\n    list: PropTypes.array,\r\n    oldVal: PropTypes.string,\r\n    title: PropTypes.string,\r\n    handleClick: PropTypes.func\r\n};\r\nexport default memo(Horizen);","import styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const NavContainer = styled.div`\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  top: 95px;\r\n  width: 100%;\r\n  padding: 5px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ListContainer = styled.div`\r\n  position: fixed;\r\n  top: 160px;\r\n  left: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`;\r\n\r\nexport const List = styled.div`\r\n  display: flex;\r\n  margin: auto;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  .title {\r\n    margin:10px 0 10px 10px;\r\n    color: ${style[\"font-color-desc\"]};\r\n    font-size: ${style[\"font-size-s\"]};\r\n  }\r\n`;\r\nexport const ListItem = styled.div`\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 0 5px;\r\n  padding: 5px 0;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${style[\"border-color\"]};\r\n  .img_wrapper {\r\n    margin-right: 20px;\r\n    img {\r\n      border-radius: 3px;\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n  }\r\n  .name {\r\n    font-size: ${style[\"font-size-m\"]};\r\n    color: ${style[\"font-color-desc\"]};\r\n    font-weight: 500;\r\n  }\r\n`;","import {\r\n    getHotSingerListRequest,\r\n    getSingerListRequest\r\n  } from \"../../../api/request\";\r\n  import {\r\n    CHANGE_SINGER_LIST,\r\n    CHANGE_CATOGORY,\r\n    CHANGE_ALPHA,\r\n    CHANGE_PAGE_COUNT,\r\n    CHANGE_PULLUP_LOADING,\r\n    CHANGE_PULLDOWN_LOADING,\r\n    CHANGE_ENTER_LOADING\r\n  } from './constants';\r\n  import {\r\n    fromJS\r\n  } from 'immutable';\r\n  \r\n  \r\n  const changeSingerList = (data) => ({\r\n    type: CHANGE_SINGER_LIST,\r\n    data: fromJS(data)\r\n  });\r\n  \r\n  export const changePageCount = (data) => ({\r\n    type: CHANGE_PAGE_COUNT,\r\n    data\r\n  });\r\n  \r\n  //进场loading\r\n  export const changeEnterLoading = (data) => ({\r\n    type: CHANGE_ENTER_LOADING,\r\n    data\r\n  });\r\n  \r\n  //滑动最底部loading\r\n  export const changePullUpLoading = (data) => ({\r\n    type: CHANGE_PULLUP_LOADING,\r\n    data\r\n  });\r\n  \r\n  //顶部下拉刷新loading\r\n  export const changePullDownLoading = (data) => ({\r\n    type: CHANGE_PULLDOWN_LOADING,\r\n    data\r\n  });\r\n  \r\n  //第一次加载热门歌手\r\n  export const getHotSingerList = () => {\r\n    return (dispatch) => {\r\n      getHotSingerListRequest(0).then(res => {\r\n        const data = res.artists;\r\n        dispatch(changeSingerList(data));\r\n        dispatch(changeEnterLoading(false));\r\n        dispatch(changePullDownLoading(false));\r\n      }).catch(() => {\r\n        console.log('热门歌手数据获取失败');\r\n      })\r\n    }\r\n  };\r\n  \r\n  //加载更多热门歌手\r\n  export const refreshMoreHotSingerList = () => {\r\n    return (dispatch, getState) => {\r\n      const pageCount = getState().getIn(['singers', 'pageCount']);\r\n      const singerList = getState().getIn(['singers', 'singerList']).toJS();\r\n      getHotSingerListRequest(pageCount).then(res => {\r\n        const data = [...singerList, ...res.artists];\r\n        dispatch(changeSingerList(data));\r\n        dispatch(changePullUpLoading(false));\r\n      }).catch(() => {\r\n        console.log('热门歌手数据获取失败');\r\n      });\r\n    }\r\n  };\r\n  \r\n  //第一次加载对应类别的歌手\r\n  export const getSingerList = (category, alpha) => {\r\n    return (dispatch, getState) => {\r\n      getSingerListRequest(category, alpha, 0).then(res => {\r\n        const data = res.artists;\r\n        dispatch(changeSingerList(data));\r\n        dispatch(changeEnterLoading(false));\r\n        dispatch(changePullDownLoading(false));\r\n      }).catch(() => {\r\n        console.log('歌手数据获取失败');\r\n      });\r\n    }\r\n  };\r\n  \r\n  //加载更多歌手\r\n  export const refreshMoreSingerList = (category, alpha) => {\r\n    return (dispatch, getState) => {\r\n      const pageCount = getState().getIn(['singers', 'pageCount']);\r\n      const singerList = getState().getIn(['singers', 'singerList']).toJS();\r\n      getSingerListRequest(category, alpha, pageCount).then(res => {\r\n        const data = [...singerList, ...res.artists];\r\n        dispatch(changeSingerList(data));\r\n        dispatch(changePullUpLoading(false));\r\n      }).catch(() => {\r\n        console.log('歌手数据获取失败');\r\n      });\r\n    }\r\n  };","export const CHANGE_SINGER_LIST = 'singers/CHANGE_SINGER_LIST';\r\nexport const CHANGE_PAGE_COUNT = 'singers/PAGE_COUNT';\r\nexport const CHANGE_ENTER_LOADING = 'singers/ENTER_LOADING';\r\nexport const CHANGE_PULLUP_LOADING = 'singers/PULLUP_LOADING';\r\nexport const CHANGE_PULLDOWN_LOADING = 'singers/PULLDOWN_LOADING';","import React, {createContext, useReducer} from 'react';\r\nimport { fromJS } from 'immutable';\r\n\r\n//context\r\nexport const CategoryDataContext = createContext ({});\r\n\r\n// 相当于之前的 constants\r\nexport const CHANGE_CATEGORY = 'singers/CHANGE_CATEGORY';\r\nexport const CHANGE_ALPHA = 'singers/CHANGE_ALPHA';\r\n\r\n//reducer 纯函数\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_CATEGORY:\r\n      return state.set ('category', action.data);\r\n    case CHANGE_ALPHA:\r\n      return state.set ('alpha', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//Provider 组件\r\nexport const Data = props => {\r\n  //useReducer 的第二个参数中传入初始值\r\n  const [data, dispatch] = useReducer (reducer, fromJS ({\r\n    category: '',\r\n    alpha: ''\r\n  }));\r\n  return (\r\n    <CategoryDataContext.Provider value={{data, dispatch}}>\r\n      {props.children}\r\n    </CategoryDataContext.Provider>\r\n  )\r\n}","import React, { useState, useCallback, useEffect,useContext } from 'react';\r\nimport Horizen from '../../baseUI/horizen-item';\r\nimport Scroll from '../../baseUI/scroll'\r\nimport LazyLoad, { forceCheck } from 'react-lazyload'\r\nimport { categoryTypes, alphaTypes } from '../../api/config';\r\nimport { NavContainer, ListContainer, ListItem, List } from \"./style\";\r\nimport {\r\n    getSingerList,\r\n    getHotSingerList,\r\n    changeEnterLoading,\r\n    changePageCount,\r\n    changePullUpLoading,\r\n    changePullDownLoading,\r\n    refreshMoreSingerList,\r\n    refreshMoreHotSingerList\r\n} from './store/actionCreators';\r\nimport { connect } from 'react-redux';\r\nimport Loading from '../../baseUI/loading';\r\nimport {CHANGE_ALPHA,CHANGE_CATEGORY,CategoryDataContext} from './data'\r\nimport {renderRoutes} from 'react-router-config'\r\n\r\n//mock 数据\r\n// const singerList = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(item => {\r\n//     return {\r\n//         picUrl: \"https://p2.music.126.net/uTwOm8AEFFX_BYHvfvFcmQ==/109951164232057952.jpg\",\r\n//         name: \"隔壁老樊\",\r\n//         accountId: 277313426,\r\n//     }\r\n// });\r\n\r\nfunction Singers(props) {\r\n    // let [category, setCategory] = useState('');\r\n    // let [alpha, setAlpha] = useState('');\r\n    const { data, dispatch } = useContext(CategoryDataContext);\r\n    // 拿到 category 和 alpha 的值\r\n    const { category, alpha } = data.toJS();\r\n    const { singerList, enterLoading, pullUpLoading, pullDownLoading, pageCount } = props\r\n    const { getHotSingerDispatch, updateDispatch, pullUpRefreshDispatch, pullDownRefreshDispatch } = props\r\n\r\n\r\n    useEffect(() => {\r\n        if (!singerList.size) {\r\n            getHotSingerDispatch ();\r\n          }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    // let handleUpdateAlpha = useCallback((val) => {\r\n    //     setAlpha(val);\r\n    //     updateDispatch(category, val);\r\n    // }, [alpha]);\r\n\r\n    // let handleUpdateCatetory = useCallback((val) => {\r\n    //     setCategory(val);\r\n    //     updateDispatch(val, alpha);\r\n    // }, [category]);\r\n    //CHANGE_ALPHA 和 CHANGE_CATEGORY 变量需要从 data.js 中引入\r\n    let handleUpdateAlpha = (val) => {\r\n        dispatch({ type: CHANGE_ALPHA, data: val });\r\n        updateDispatch(category, val);\r\n    };\r\n\r\n    let handleUpdateCatetory = (val) => {\r\n        dispatch({ type: CHANGE_CATEGORY, data: val });\r\n        updateDispatch(val, alpha);\r\n    };\r\n\r\n    const handlePullUp = useCallback(() => {\r\n        pullUpRefreshDispatch(category, alpha, category === '', pageCount);\r\n    }, [category, alpha, pageCount]);\r\n\r\n    const handlePullDown = useCallback(() => {\r\n        pullDownRefreshDispatch(category, alpha);\r\n    }, [category, alpha]);\r\n\r\n    const enterDetail = (id) => {\r\n        props.history.push (`/singers/${id}`);\r\n      };\r\n\r\n    const renderSingerList = () => {\r\n        const list = singerList ? singerList.toJS() : []\r\n        return (\r\n            <List>\r\n                {\r\n                    list.map((item, index) => {\r\n                        return (\r\n                            <ListItem key={item.accountId + \"\" + index} onClick={()=>{enterDetail(item.id)}}>\r\n                                <div className=\"img_wrapper\">\r\n                                    <LazyLoad placeholder={<img width=\"100%\" height=\"100%\" src={require('./singer.png')} alt=\"music\" />} height={30}>\r\n                                        <img src={`${item.picUrl}?param=300x300`} width=\"100%\" height=\"100%\" alt=\"music\" />\r\n                                    </LazyLoad>\r\n                                </div>\r\n                                <span className=\"name\">{item.name}</span>\r\n                            </ListItem>\r\n                        )\r\n                    })\r\n                }\r\n            </List>\r\n        )\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <NavContainer>\r\n                <Horizen\r\n                    list={categoryTypes}\r\n                    title={\"分类 (默认热门):\"}\r\n                    handleClick={handleUpdateCatetory}\r\n                    oldVal={category}></Horizen>\r\n                <Horizen\r\n                    list={alphaTypes}\r\n                    title={\"首字母:\"}\r\n                    handleClick={handleUpdateAlpha}\r\n                    oldVal={alpha}></Horizen>\r\n            </NavContainer>\r\n            <ListContainer>\r\n                <Loading show={enterLoading}></Loading>\r\n                {/* {console.log(enterLoading)} */}\r\n                <Scroll\r\n                    pullUp={handlePullUp}\r\n                    pullDown={handlePullDown}\r\n                    pullUpLoading={pullUpLoading}\r\n                    pullDownLoading={pullDownLoading}\r\n                    onScroll={forceCheck}\r\n                >\r\n                    {renderSingerList()}\r\n                </Scroll>\r\n            </ListContainer>\r\n            { renderRoutes(props.route.routes) }\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    singerList: state.getIn(['singers', 'singerList']),\r\n    enterLoading: state.getIn(['singers', 'enterLoading']),\r\n    pullUpLoading: state.getIn(['singers', 'pullUpLoading']),\r\n    pullDownLoading: state.getIn(['singers', 'pullDownLoading']),\r\n    pageCount: state.getIn(['singers', 'pageCount'])\r\n});\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // 第一次加载\r\n        getHotSingerDispatch() {\r\n            dispatch(getHotSingerList());\r\n        },\r\n        // 更新cat和alpha\r\n        updateDispatch(category, alpha) {\r\n            dispatch(changePageCount(0));//由于改变了分类，所以pageCount清零\r\n            dispatch(changeEnterLoading(true));//loading，现在实现控制逻辑\r\n            dispatch(getSingerList(category, alpha));\r\n        },\r\n        // 滑到最底部刷新部分的处理\r\n        pullUpRefreshDispatch(category, alpha, hot, count) {\r\n            dispatch(changePullUpLoading(true));\r\n            dispatch(changePageCount(count + 1));\r\n            if (hot) {\r\n                dispatch(refreshMoreHotSingerList());\r\n            } else {\r\n                dispatch(refreshMoreSingerList(category, alpha));\r\n            }\r\n        },\r\n        //顶部下拉刷新\r\n        pullDownRefreshDispatch(category, alpha) {\r\n            dispatch(changePullDownLoading(true));\r\n            dispatch(changePageCount(0));//属于重新获取数据\r\n            if (category === '' && alpha === '') {\r\n                dispatch(getHotSingerList());\r\n            } else {\r\n                dispatch(getSingerList(category, alpha));\r\n            }\r\n        }\r\n    }\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Singers));","import { fromJS } from 'immutable';\r\nimport { CHANGE_LOADING, CHANGE_RANK_LIST } from './constants'\r\n\r\nconst defaultState = fromJS({\r\n  rankList: [],\r\n  loading: true\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_RANK_LIST:\r\n      return state.set('rankList', action.data);\r\n    case CHANGE_LOADING:\r\n      return state.set('loading', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import { fromJS } from 'immutable';\r\nimport { CHANGE_LOADING, CHANGE_RANK_LIST } from './constants'\r\nimport { getRankListRequest } from '../../../api/request';\r\n\r\nconst changeRankList = (data) => ({\r\n  type: CHANGE_RANK_LIST,\r\n  data: fromJS(data)\r\n})\r\n\r\nconst changeLoading = (data) => ({\r\n  type: CHANGE_LOADING,\r\n  data\r\n})\r\n\r\nexport const getRankList = () => {\r\n  return dispatch => {\r\n    getRankListRequest().then(data => {\r\n      let list = data && data.list;\r\n      dispatch(changeRankList(list));\r\n      dispatch(changeLoading(false));\r\n    })\r\n  }\r\n}","export const CHANGE_RANK_LIST = 'home/rank/CHANGE_RANK_LIST';\r\nexport const CHANGE_LOADING = 'home/rank/CHANGE_LOADING';","import styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\n// Props 中的 globalRank 和 tracks.length 均代表是否为全球榜\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 90px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  .offical,.global {\r\n    margin: 10px 5px;\r\n    padding-top: 15px;\r\n    font-weight: 700;\r\n    font-size: ${style[\"font-size-m\"]};\r\n    color: ${style[\"font-color-desc\"]};\r\n  }\r\n`;\r\nexport const List = styled.ul`\r\n  margin-top: 10px;\r\n  padding: 0 5px;\r\n  display: ${props => props.globalRank ? \"flex\" : \"\"};\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  background: ${style[\"background-color\"]};\r\n  &::after {\r\n    content:\"\";\r\n    display:block;\r\n    width: 32vw;\r\n  }\r\n`\r\nexport const ListItem = styled.li`\r\n  display: ${props => props.tracks.length ? \"flex\" : \"\"};\r\n  padding: 3px 0;\r\n  border-bottom: 1px solid ${style[\"border-color\"]};\r\n  .img_wrapper {\r\n    width:  ${props => props.tracks.length ? \"27vw\" : \"32vw\"};\r\n    height: ${props => props.tracks.length ? \"27vw\" : \"32vw\"};\r\n    border-radius: 3px;\r\n    position: relative;\r\n    flex-shrink: 0;\r\n    .decorate {\r\n      position: absolute;\r\n      bottom: 0;\r\n      width: 100%;\r\n      height: 35px;\r\n      border-radius: 3px;\r\n      background: linear-gradient(hsla(0,0%,100%,0),hsla(0,0%,43%,.4));\r\n    }\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 3px;\r\n    }\r\n    .update_frequecy {\r\n      position: absolute;\r\n      left: 7px;\r\n      bottom: 7px;\r\n      font-size: ${style[\"font-size-ss\"]};\r\n      color: ${style[\"font-color-light\"]};\r\n    }\r\n  }\r\n`;\r\nexport const SongList = styled.ul`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  padding: 10px 10px;\r\n  box-sizing:border-box;\r\n  white-space:nowrap;\r\n  overflow:hidden;\r\n  text-overflow:ellipsis;\r\n  >li {\r\n    font-size: ${style[\"font-size-s\"]};\r\n    color: grey;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n`;\r\n\r\nexport const EnterLoading = styled.div`\r\n  position: fixed;\r\n  left: 0; right: 0; top: 0; bottom: 0;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: auto;\r\n`","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getRankList } from './store/index'\r\nimport { filterIndex } from '../../api/utils'\r\nimport Scroll from '../../baseUI/scroll'\r\nimport { List, ListItem, SongList, Container,EnterLoading } from './style'\r\nimport {renderRoutes} from 'react-router-config'\r\nimport Loading from '../../baseUI/loading'\r\n\r\nfunction Rank(props) {\r\n  const { rankList: list, loading } = props;\r\n\r\n  const { getRankListDataDispatch } = props;\r\n\r\n  let rankList = list ? list.toJS() : [];\r\n\r\n  useEffect(() => {\r\n    if (!rankList.length) {\r\n      getRankListDataDispatch();\r\n    }\r\n  }, [])\r\n\r\n  let globalStartIndex = filterIndex(rankList);\r\n  let officialList = rankList.slice(0, globalStartIndex);\r\n  let globalList = rankList.slice(globalStartIndex);\r\n\r\n\r\n\r\n  // 这是渲染榜单列表函数，传入 global 变量来区分不同的布局方式\r\n  const renderRankList = (list, global) => {\r\n    return (\r\n      <List globalRank={global}>\r\n        {\r\n          list.map((item) => {\r\n            // if(item.coverImgId===109951164432303700){\r\n            //   console.log(item)\r\n            // }id出现重名，调试\r\n            return (\r\n              <ListItem key={item.coverImgId_str} tracks={item.tracks} onClick={() => enterDetail(item)}>\r\n                <div className=\"img_wrapper\">\r\n                  <img src={item.coverImgUrl} alt=\"\" />\r\n                  <div className=\"decorate\"></div>\r\n                  <span className=\"update_frequecy\">{item.updateFrequency}</span>\r\n                </div>\r\n                { renderSongList(item.tracks)}\r\n              </ListItem>\r\n            )\r\n          })\r\n        }\r\n      </List>\r\n    )\r\n  }\r\n\r\n  const enterDetail = (detail) => {\r\n    props.history.push (`/rank/${detail.id}`)\r\n  }\r\n\r\n  const renderSongList = (list) => {\r\n    return list.length ? (\r\n      <SongList>\r\n        {\r\n          list.map((item, index) => {\r\n            return <li key={index}>{index + 1}. {item.first} - {item.second}</li>\r\n          })\r\n        }\r\n      </SongList>\r\n    ) : null;\r\n  }\r\n  let displayStyle = loading ? { \"display\": \"none\" } : { \"display\": \"\" };\r\n\r\n  return (\r\n    <Container>\r\n      <Scroll>\r\n        <div>\r\n          <h1 className=\"offical\" style={displayStyle}> 官方榜 </h1>\r\n          {renderRankList(officialList)}\r\n          <h1 className=\"global\" style={displayStyle}> 全球榜 </h1>\r\n          {renderRankList(globalList, true)}\r\n          {loading ? <EnterLoading><Loading></Loading></EnterLoading> : null}\r\n        </div>\r\n      </Scroll>\r\n      {renderRoutes(props.route.routes)}\r\n    </Container>\r\n  );\r\n}\r\n\r\n// 映射 Redux 全局的 state 到组件的 props 上\r\nconst mapStateToProps = (state) => ({\r\n  rankList: state.getIn(['rank', 'rankList']),\r\n  loading: state.getIn(['rank', 'loading']),\r\n});\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getRankListDataDispatch() {\r\n      dispatch(getRankList());\r\n    }\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Rank));","import styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 1000;\r\n  background: ${style['highlight-background-color']};\r\n  transform-origin: right bottom;\r\n  &.fly-enter, &.fly-appear{\r\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\r\n  }\r\n  &.fly-enter-active, &.fly-appear-active{\r\n    transition: transform .3s;\r\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit{\r\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit-active{\r\n    transition: transform .3s;\r\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\r\n  }\r\n`;\r\n// transform-origin: right bottom;\r\n// &.fly-enter, &.fly-appear {\r\n//   transform: translate3d (100%, 0, 0);\r\n// }\r\n// &.fly-enter-active, &.fly-appear-active {\r\n//   transition: transform .3s;\r\n//   transform: translate3d (0, 0, 0);\r\n// }\r\n// &.fly-exit {\r\n//   transform: translate3d (0, 0, 0);\r\n// }\r\n// &.fly-exit-active {\r\n//   transition: transform .3s;\r\n//   transform: translate3d (100%, 0, 0);\r\n// }\r\n\r\nexport const TopDesc = styled.div`\r\n  background-size: 100%;\r\n  padding: 5px 20px;\r\n  padding-bottom: 50px;\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 275px;\r\n  position: relative;\r\n  .background {\r\n    z-index: -1;\r\n    background: url(${props => props.background}) no-repeat;\r\n    background-position: 0 0;\r\n    background-size: 100% 100%;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    filter: blur(20px);\r\n    .filter {\r\n      position: absolute;\r\n      z-index: 10;\r\n      top: 0; left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: rgba(7, 17, 27, 0.2);\r\n    }\r\n  }\r\n  .img_wrapper {\r\n    width: 120px;\r\n    height: 120px;\r\n    position: relative;         \r\n    .decorate {\r\n      position: absolute;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 35px;\r\n      border-radius: 3px;\r\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\r\n    }\r\n    .play_count {\r\n      position: absolute;\r\n      right: 2px;\r\n      top: 2px;\r\n      font-size: ${style[\"font-size-s\"]};\r\n      line-height: 15px;\r\n      color: ${style[\"font-color-light\"]};\r\n      .play {\r\n        vertical-align: top;\r\n      }\r\n    }\r\n    img {\r\n      width: 120px;\r\n      height: 120px;\r\n      border-radius:3px;\r\n    }\r\n  }\r\n  .desc_wrapper {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    height: 120px;\r\n    padding: 0 10px;\r\n    .title {\r\n      max-height: 70px;\r\n      color: ${style[\"font-color-light\"]};\r\n      font-weight: 700;\r\n      line-height: 1.5;\r\n      font-size: ${style[\"font-size-l\"]};\r\n    }\r\n    .person {\r\n      display: flex;\r\n      .avatar {\r\n        width: 20px;\r\n        height: 20px;\r\n        margin-right: 5px;\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n      .name {\r\n        line-height: 20px;\r\n        font-size: ${style[\"font-size-m\"]};\r\n        color: ${style[\"font-color-desc-v2\"]};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Menu = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  padding: 0 30px 20px 30px;\r\n  margin: -100px 0 0 0;\r\n  >div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    line-height: 20px;\r\n    text-align: center;\r\n    font-size: ${style[\"font-size-s\"]};\r\n    color: ${style[\"font-color-light\"]};\r\n    z-index:1000;\r\n    font-weight: 500;\r\n    .iconfont {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n`\r\n\r\nexport const SongList = styled.div`\r\n  border-radius: 10px;\r\n  opacity: 0.98;\r\n  ${props => props.showBackground ? `background: ${style[\"highlight-background-color\"]}` : \"\"}\r\n  .first_line {\r\n    box-sizing: border-box;\r\n    padding: 10px 0;\r\n    margin-left: 10px;\r\n    position: relative;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid ${style[\"border-color\"]};\r\n    .play_all {\r\n      display: inline-block;\r\n      line-height: 24px;\r\n      color: ${style[\"font-color-desc\"]};\r\n      .iconfont {\r\n        font-size: 24px;\r\n        margin-right: 10px;\r\n        vertical-align: top;\r\n      }\r\n      .sum {\r\n        font-size: ${style[\"font-size-s\"]};\r\n        color: ${style[\"font-color-desc-v2\"]};\r\n      }\r\n      >span {\r\n        vertical-align: top;\r\n      }\r\n    }\r\n    .add_list,.isCollected {\r\n      display: flex;\r\n      align-items: center;\r\n      position: absolute;\r\n      right: 0; top :0; bottom: 0;\r\n      width: 130px;\r\n      line-height: 34px;\r\n      background: ${style[\"theme-color\"]};\r\n      color: ${style[\"font-color-light\"]};\r\n      font-size: 0;\r\n      border-radius: 3px;\r\n      vertical-align: top;\r\n      .iconfont {\r\n        vertical-align: top;\r\n        font-size: 10px;\r\n        margin: 0 5px 0 10px;\r\n      }\r\n      span {\r\n        font-size: 14px;\r\n        line-height: 34px;\r\n      }\r\n    }\r\n    .isCollected {\r\n      display: flex;\r\n      background: ${style[\"background-color\"]};\r\n      color: ${style[\"font-color-desc\"]};\r\n    }\r\n}\r\n`\r\nexport const SongItem = styled.ul`\r\n  >li {\r\n    display: flex;\r\n    height: 60px;\r\n    align-items: center;  \r\n    .index {\r\n      flex-basis: 60px;\r\n      width: 60px;\r\n      height: 60px;\r\n      line-height: 60px;\r\n      text-align: center;\r\n    }\r\n    .info {\r\n      box-sizing: border-box;\r\n      flex: 1;\r\n      display: flex;\r\n      height: 100%;\r\n      padding: 5px 0;\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      border-bottom: 1px solid ${style[\"border-color\"]};\r\n      ${style.noWrap()}\r\n      >span {\r\n        ${style.noWrap()}\r\n      }\r\n      >span:first-child {\r\n        color: ${style[\"font-color-desc\"]};\r\n      }\r\n      >span:last-child {\r\n        font-size: ${style[\"font-size-s\"]};\r\n        color: #bba8a8;\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react';\r\nimport styled,{keyframes} from 'styled-components';\r\nimport style from '../../assets/global-style';\r\nimport PropTypes from \"prop-types\";\r\n// import Marquee from './Marquee'\r\n\r\nconst HeaderContainer = styled.div`\r\n  position: fixed;\r\n  padding: 5px 10px;\r\n  padding-top: 0;\r\n  height: 40px;\r\n  width: 100%;\r\n  z-index: 100;\r\n  display: flex;\r\n  line-height: 40px;\r\n  color: ${style[\"font-color-light\"]};\r\n  .back {\r\n    margin-right: 5px;\r\n    font-size: 20px;\r\n    width: 20px;\r\n  }\r\n  >h1 {\r\n    font-size: ${style[\"font-size-l\"]};\r\n    font-weight: 700;\r\n  }\r\n`\r\n\r\nconst marquee = keyframes`\r\nfrom {\r\n  left: 100%;\r\n  transform: translateX(100%);\r\n  }\r\nto {\r\n  left: -100%;\r\n  transform: translateX(-100%);\r\n  }\r\n}\r\n`\r\n\r\nconst Marquee = styled.div`\r\nwidth: 100%;\r\nheight: 35px;\r\noverflow: hidden;\r\nposition: relative;\r\nwhite-space: nowrap;\r\n.text {\r\n  position: absolute;\r\n  animation: ${marquee} 10s linear infinite;\r\n  }\r\n`\r\n\r\n\r\n\r\n// 处理函数组件拿不到 ref 的问题，所以用 forwardRef\r\nconst Header = React.forwardRef((props, ref) => {\r\n  const { handleClick, title, isMarquee} = props;\r\n  return (\r\n    <HeaderContainer ref={ref}>\r\n      <i className=\"iconfont back\"  onClick={handleClick}>&#xe655;</i>\r\n      {\r\n        isMarquee ? <Marquee><h1 className='text'>{title}</h1></Marquee>:\r\n        <h1>{title}</h1>\r\n      }\r\n    </HeaderContainer>\r\n  )\r\n})\r\n\r\nHeader.defaultProps = {\r\n    handleClick: () => { },\r\n    title: \"标题\",\r\n    isMarquee: false\r\n};\r\n\r\nHeader.propTypes = {\r\n    handleClick: PropTypes.func,\r\n    title: PropTypes.string,\r\n    isMarquee: PropTypes.bool\r\n};\r\n\r\nexport default React.memo(Header);","import { CHANGE_CURRENT_ALBUM, CHANGE_ENTER_LOADING } from './constants';\r\nimport { getAlbumDetailRequest } from '../../../api/request';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst changeCurrentAlbum = (data) => ({\r\n  type: CHANGE_CURRENT_ALBUM,\r\n  data: fromJS (data)\r\n});\r\n\r\nexport const changeEnterLoading = (data) => ({\r\n  type: CHANGE_ENTER_LOADING,\r\n  data\r\n});\r\n\r\nexport const getAlbumList = (id) => {\r\n  return dispatch => {\r\n    getAlbumDetailRequest (id).then (res => {\r\n      let data = res.playlist;\r\n      dispatch (changeCurrentAlbum (data));\r\n      dispatch (changeEnterLoading (false));\r\n    }).catch (() => {\r\n      console.log (\"获取 album 数据失败！\")\r\n    });\r\n  }\r\n};","export const CHANGE_CURRENT_ALBUM = 'album/CHANGE_CURRENT_ALBUM';\r\nexport const CHANGE_ENTER_LOADING = 'album/CHANGE_ENTER_LOADING';","import styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const SongList = styled.div`\r\n  border-radius: 10px;\r\n  opacity: 0.98;\r\n  // 注意在这里背景改为自配置参数控制\r\n  ${props => props.showBackground ? `background: ${style[\"highlight-background-color\"]};` : \"\"}\r\n  .first_line {\r\n    box-sizing: border-box;\r\n    padding: 10px 0;\r\n    margin-left: 10px;\r\n    position: relative;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid ${style[\"border-color\"]};\r\n    .play_all {\r\n      display: inline-block;\r\n      line-height: 24px;\r\n      color: ${style[\"font-color-desc\"]};\r\n      .iconfont {\r\n        font-size: 24px;\r\n        margin-right: 10px;\r\n        vertical-align: top;\r\n      }\r\n      .sum {\r\n        font-size: ${style[\"font-size-s\"]};\r\n        color: ${style[\"font-color-desc-v2\"]};\r\n      }\r\n      >span {\r\n        vertical-align: top;\r\n      }\r\n    }\r\n    .add_list,.isCollected {\r\n      display: flex;\r\n      align-items: center;\r\n      position: absolute;\r\n      right: 0; top :0; bottom: 0;\r\n      width: 130px;\r\n      line-height: 34px;\r\n      background: ${style[\"theme-color\"]};\r\n      color: ${style[\"font-color-light\"]};\r\n      font-size: 0;\r\n      border-radius: 3px;\r\n      vertical-align: top;\r\n      .iconfont {\r\n        vertical-align: top;\r\n        font-size: 10px;\r\n        margin: 0 5px 0 10px;\r\n      }\r\n      span {\r\n        font-size: 14px;\r\n        line-height: 34px;\r\n      }\r\n    }\r\n    .isCollected {\r\n      display: flex;\r\n      background: ${style[\"background-color\"]};\r\n      color: ${style[\"font-color-desc\"]};\r\n    }\r\n}\r\n`\r\nexport const SongItem = styled.ul`\r\n  >li {\r\n    display: flex;\r\n    height: 60px;\r\n    align-items: center;  \r\n    .index {\r\n      flex-basis: 60px;\r\n      width: 60px;\r\n      height: 60px;\r\n      line-height: 60px;\r\n      text-align: center;\r\n    }\r\n    .info {\r\n      box-sizing: border-box;\r\n      flex: 1;\r\n      display: flex;\r\n      height: 100%;\r\n      padding: 5px 0;\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      border-bottom: 1px solid ${style[\"border-color\"]};\r\n      ${style.noWrap()}\r\n      >span {\r\n        ${style.noWrap()}\r\n      }\r\n      >span:first-child {\r\n        color: ${style[\"font-color-desc\"]};\r\n      }\r\n      >span:last-child {\r\n        font-size: ${style[\"font-size-s\"]};\r\n        color: #bba8a8;\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react';\r\nimport { SongList, SongItem } from \"./style\";\r\nimport { getName } from '../../api/utils';\r\nimport { changePlayList, changeCurrentIndex, changeSequecePlayList } from './../../application/Player/store/actionCreators';\r\nimport { connect } from 'react-redux';\r\n\r\nconst SongsList = React.forwardRef((props, refs) => {\r\n\r\n    const { collectCount, showCollect, songs } = props;\r\n    const { changePlayListDispatch, changeCurrentIndexDispatch, changeSequecePlayListDispatch } = props;\r\n    // 接受触发动画的函数\r\nconst { musicAnimation } = props;\r\n\r\n    const totalCount = songs.length;\r\n\r\n    const selectItem = (e, index) => {\r\n        // console.log(e)\r\n        changePlayListDispatch (songs);\r\n        changeSequecePlayListDispatch (songs);\r\n        changeCurrentIndexDispatch (index);\r\n        musicAnimation(e.nativeEvent.clientX, e.nativeEvent.clientY);\r\n      }\r\n\r\n    let songList = (list) => {\r\n        let res = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            let item = list[i];\r\n            res.push(\r\n                <li key={item.id} onClick={(e) => selectItem(e, i)}>\r\n                    <span className=\"index\">{i + 1}</span>\r\n                    <div className=\"info\">\r\n                        <span>{item.name}</span>\r\n                        <span>\r\n                            {item.ar ? getName(item.ar) : getName(item.artists)} - {item.al ? item.al.name : item.album.name}\r\n                        </span>\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return res;\r\n    };\r\n\r\n    const collect = (count) => {\r\n        return (\r\n            <div className=\"add_list\">\r\n                <i className=\"iconfont\">&#xe62d;</i>\r\n                <span > 收藏 ({Math.floor(count / 1000) / 10} 万)</span>\r\n            </div>\r\n        )\r\n    };\r\n    return (\r\n        <SongList ref={refs} showBackground={props.showBackground}>\r\n            <div className=\"first_line\">\r\n                <div className=\"play_all\" onClick={e => selectItem(e, 0)}>\r\n                    <i className=\"iconfont\">&#xe6e3;</i>\r\n                    <span > 播放全部 <span className=\"sum\">(共 {totalCount} 首)</span></span>\r\n                </div>\r\n                {showCollect ? collect(collectCount) : null}\r\n            </div>\r\n            <SongItem>\r\n                {songList(songs)}\r\n            </SongItem>\r\n        </SongList>\r\n    )\r\n});\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      changePlayListDispatch (data){\r\n        dispatch (changePlayList (data));\r\n      },\r\n      changeCurrentIndexDispatch (data) {\r\n        dispatch (changeCurrentIndex (data));\r\n      },\r\n      changeSequecePlayListDispatch (data) {\r\n        dispatch (changeSequecePlayList (data))\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 将 ui 组件包装成容器组件\r\n  export default connect (null, mapDispatchToProps)(React.memo (SongsList));","import React, { useEffect, useImperativeHandle, useRef, forwardRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { prefixStyle } from './../../api/utils';\r\nimport style from '../../assets/global-style';\r\n\r\nconst Container = styled.div`\r\n  .icon_wrapper {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    margin-top: -10px;\r\n    margin-left: -10px;\r\n    color: ${style[\"theme-color\"]};\r\n    font-size: 14px;\r\n    display: none;\r\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\r\n    transform: translate3d(0, 0, 0);\r\n    >div {\r\n      transition: transform 1s;\r\n    }\r\n  }\r\n`\r\n\r\nconst MusicNote = forwardRef((props, ref) => {\r\n\r\n    const iconsRef = useRef();\r\n    // 容器中有 3 个音符，也就是同时只能有 3 个音符下落\r\n    const ICON_NUMBER = 3;\r\n\r\n    const transform = prefixStyle(\"transform\");\r\n\r\n    // 原生 DOM 操作，返回一个 DOM 节点对象\r\n    const createNode = (txt) => {\r\n        const template = `<div class='icon_wrapper'>${txt}</div>`;\r\n        let tempNode = document.createElement('div');\r\n        tempNode.innerHTML = template;\r\n        return tempNode.firstChild;\r\n    }\r\n\r\n    useEffect(() => {\r\n        for (let i = 0; i < ICON_NUMBER; i++) {\r\n            let node = createNode(`<div class=\"iconfont\">&#xe642;</div>`);\r\n            iconsRef.current.appendChild(node);\r\n        }\r\n        // 类数组转换成数组，当然也可以用 [...xxx] 解构语法或者 Array.from ()\r\n        let domArray = [].slice.call(iconsRef.current.children);\r\n        domArray.forEach(item => {\r\n            item.running = false;\r\n            item.addEventListener('transitionend', function () {\r\n                this.style['display'] = 'none';\r\n                this.style[transform] = `translate3d(0, 0, 0)`;\r\n                this.running = false;\r\n\r\n                let icon = this.querySelector('div');\r\n                icon.style[transform] = `translate3d(0, 0, 0)`;\r\n            }, false);\r\n        });\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    const startAnimation = ({ x, y }) => {\r\n        for (let i = 0; i < ICON_NUMBER; i++) {\r\n            let domArray = [].slice.call(iconsRef.current.children)\r\n            let item = domArray[i]\r\n            // 选择一个空闲的元素来开始动画\r\n            if (item.running === false) {\r\n                item.style.left = x + \"px\";\r\n                item.style.top = y + \"px\";\r\n                item.style.display = \"inline-block\";\r\n\r\n                setTimeout(() => {\r\n                    item.running = true;\r\n                    item.style[transform] = `translate3d(0, 750px, 0)`;\r\n                    let icon = item.querySelector(\"div\");\r\n                    icon.style[transform] = `translate3d(-40px, 0, 0)`;\r\n                }, 20);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    // 外界调用的 ref 方法\r\n    useImperativeHandle(ref, () => ({\r\n        startAnimation\r\n    }));\r\n\r\n    return (\r\n        <Container ref={iconsRef}>\r\n        </Container>\r\n    )\r\n})\r\n\r\nexport default React.memo(MusicNote);","import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { Container, TopDesc, Menu,\r\n    //  SongList, SongItem \r\n    } from './style';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Header from './../../baseUI/header/index';\r\nimport Scroll from '../../baseUI/scroll/index';\r\nimport { getCount,isEmptyObject, getName } from '../../api/utils';\r\nimport { HEADER_HEIGHT } from './../../api/config';\r\nimport style from \"../../assets/global-style\";\r\nimport { connect } from 'react-redux';\r\nimport { getAlbumList, changeEnterLoading } from './store/actionCreators';\r\nimport Loading from '../../baseUI/loading/index';\r\nimport SongsList from '../SongList';\r\nimport MusicNote from \"../../baseUI/music-note/index\";\r\n\r\n\r\n//mock 数据\r\n// const currentAlbum = {\r\n//     creator: {\r\n//         avatarUrl: \"http://p1.music.126.net/O9zV6jeawR43pfiK2JaVSw==/109951164232128905.jpg\",\r\n//         nickname: \"浪里推舟\"\r\n//     },\r\n//     coverImgUrl: \"http://p2.music.126.net/ecpXnH13-0QWpWQmqlR0gw==/109951164354856816.jpg\",\r\n//     subscribedCount: 2010711,\r\n//     name: \"听完就睡，耳机是天黑以后柔软的梦境\",\r\n//     tracks: [\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//         {\r\n//             name: \"我真的受伤了\",\r\n//             ar: [{ name: \"张学友\" }, { name: \"周华健\" }],\r\n//             al: {\r\n//                 name: \"学友 热\"\r\n//             }\r\n//         },\r\n//     ]\r\n// }\r\n\r\nfunction Album(props) {\r\n    const [showStatus, setShowStatus] = useState(true);\r\n    const [title, setTitle] = useState(\"歌单\");\r\n    const [isMarquee, setIsMarquee] = useState(false);// 是否跑马灯\r\n    const headerEl = useRef();\r\n    const musicNoteRef = useRef ();\r\n\r\n    const id = props.match.params.id;\r\n\r\n    const {getAlbumDataDispatch} = props\r\n    const {enterLoading,currentAlbum:currentAlbumImmutable} = props\r\n\r\n    useEffect(() => {\r\n        getAlbumDataDispatch(id)\r\n    }, [getAlbumDataDispatch,id])\r\n\r\n   \r\n    let currentAlbum = currentAlbumImmutable.toJS();\r\n\r\n    const musicAnimation = (x, y) => {\r\n        musicNoteRef.current.startAnimation ({ x, y });\r\n      };\r\n\r\n    const handleBack = useCallback(() => {\r\n        setShowStatus(false);\r\n    },[]);\r\n\r\n\r\n\r\n    const handleScroll = useCallback((pos) => {\r\n        let minScrollY = -HEADER_HEIGHT;\r\n        let percent = Math.abs(pos.y / minScrollY);\r\n        let headerDom = headerEl.current;\r\n        // 滑过顶部的高度开始变化\r\n        if (pos.y < minScrollY) {\r\n            headerDom.style.backgroundColor = style[\"theme-color\"];\r\n            headerDom.style.opacity = Math.min(1, (percent - 1) / 2);\r\n            setTitle(currentAlbum.name);\r\n            setIsMarquee(true);\r\n        } else {\r\n            headerDom.style.backgroundColor = \"\";\r\n            headerDom.style.opacity = 1;\r\n            setTitle(\"歌单\");\r\n            setIsMarquee(false);\r\n        }\r\n    },[currentAlbum]);\r\n\r\n    const renderTopDesc = ()=>{\r\n        return(\r\n            <TopDesc background={currentAlbum.coverImgUrl}>\r\n                            <div className=\"background\">\r\n                                <div className=\"filter\"></div>\r\n                            </div>\r\n                            <div className=\"img_wrapper\">\r\n                                <div className=\"decorate\"></div>\r\n                                <img src={currentAlbum.coverImgUrl} alt=\"\" />\r\n                                <div className=\"play_count\">\r\n                                    <i className=\"iconfont play\">&#xe885;</i>\r\n                                    <span className=\"count\">{Math.floor(currentAlbum.subscribedCount / 1000) / 10} 万 </span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"desc_wrapper\">\r\n                                <div className=\"title\">{currentAlbum.name}</div>\r\n                                <div className=\"person\">\r\n                                    <div className=\"avatar\">\r\n                                        <img src={currentAlbum.creator.avatarUrl} alt=\"\" />\r\n                                    </div>\r\n                                    <div className=\"name\">{currentAlbum.creator.nickname}</div>\r\n                                </div>\r\n                            </div>\r\n                        </TopDesc>\r\n        )\r\n    }\r\n\r\n    const renderMenu = () =>{\r\n        return(\r\n            <Menu>\r\n                            <div>\r\n                                <i className=\"iconfont\">&#xe6ad;</i>\r\n                                评论\r\n                            </div>\r\n                            <div>\r\n                                <i className=\"iconfont\">&#xe86f;</i>\r\n                                点赞\r\n                            </div>\r\n                            <div>\r\n                                <i className=\"iconfont\">&#xe62d;</i>\r\n                                收藏\r\n                            </div>\r\n                            <div>\r\n                                <i className=\"iconfont\">&#xe606;</i>\r\n                                更多\r\n                            </div>\r\n                        </Menu>\r\n        )\r\n    }\r\n\r\n    // const renderSongList = () =>(\r\n    //     <SongList>\r\n    //                         <div className=\"first_line\">\r\n    //                             <div className=\"play_all\">\r\n    //                                 <i className=\"iconfont\">&#xe6e3;</i>\r\n    //                                 <span > 播放全部 <span className=\"sum\">(共 {currentAlbum.tracks.length} 首)</span></span>\r\n    //                             </div>\r\n    //                             <div className=\"add_list\">\r\n    //                                 <i className=\"iconfont\">&#xe62d;</i>\r\n    //                                 <span > 收藏 ({getCount(currentAlbum.subscribedCount)})</span>\r\n    //                             </div>\r\n    //                         </div>\r\n    //                         <SongItem>\r\n    //                             {\r\n    //                                 currentAlbum.tracks.map((item, index) => {\r\n    //                                     return (\r\n    //                                         <li key={index}>\r\n    //                                             <span className=\"index\">{index + 1}</span>\r\n    //                                             <div className=\"info\">\r\n    //                                                 <span>{item.name}</span>\r\n    //                                                 <span>\r\n    //                                                     {getName(item.ar)} - {item.al.name}\r\n    //                                                 </span>\r\n    //                                             </div>\r\n    //                                         </li>\r\n    //                                     )\r\n    //                                 })\r\n    //                             }\r\n    //                         </SongItem>\r\n    //                     </SongList>\r\n    // )\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={showStatus}\r\n            timeout={500}\r\n            classNames=\"fly\"\r\n            appear={true}\r\n            unmountOnExit\r\n            onExited={props.history.goBack}\r\n        >\r\n            <Container>\r\n                <Header ref={headerEl} title={title} handleClick={handleBack} isMarquee={isMarquee} ></Header>\r\n                {\r\n                    !isEmptyObject (currentAlbum) ? (\r\n                    \r\n                <Scroll bounceTop={false} onScroll={handleScroll}>\r\n                    <div>\r\n                        {renderTopDesc()}\r\n                        {renderMenu()}\r\n                        {/* {renderSongList()} */}\r\n                        <SongsList\r\n                            songs={currentAlbum.tracks}\r\n                            showCollect={true}\r\n                            collectCount={currentAlbum.subscribedCount}\r\n                            musicAnimation={musicAnimation}\r\n                        ></SongsList>\r\n                    </div>\r\n                </Scroll>) : null\r\n                }\r\n                { enterLoading ? <Loading></Loading> : null}\r\n                <MusicNote ref={musicNoteRef}></MusicNote>\r\n            </Container>\r\n        </CSSTransition>\r\n    )\r\n\r\n}\r\n// 映射 Redux 全局的 state 到组件的 props 上\r\nconst mapStateToProps = (state) => ({\r\n    currentAlbum: state.getIn(['album', 'currentAlbum']),\r\n    enterLoading: state.getIn(['album', 'enterLoading']),\r\n});\r\n// 映射 dispatch 到 props 上\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getAlbumDataDispatch(id) {\r\n            dispatch(changeEnterLoading(true));\r\n            dispatch(getAlbumList(id));\r\n        },\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Album));","import styled from'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: ${props => props.play > 0 ? \"60px\": 0};\r\n  width: 100%;\r\n  z-index: 100;\r\n  overflow: hidden;\r\n  background: #f2f3f4;\r\n  transform-origin: right bottom;\r\n  &.fly-enter, &.fly-appear {\r\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\r\n  }\r\n  &.fly-enter-active, &.fly-appear-active {\r\n    transition: transform .3s;\r\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit {\r\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit-active {\r\n    transition: transform .3s;\r\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\r\n  }\r\n`\r\n\r\nexport const ImgWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 0;\r\n  padding-top: 75%;\r\n  transform-origin: top;\r\n  background: url(${props => props.bgUrl});\r\n  background-size: cover;\r\n  z-index: 50;\r\n  .filter {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(7, 17, 27, 0.3);\r\n  }\r\n`\r\nexport const CollectButton = styled.div`\r\n  position: absolute;\r\n  left: 0; right: 0;\r\n  margin: auto;\r\n  box-sizing: border-box;\r\n  width: 120px;\r\n  height: 40px;\r\n  margin-top: -55px;\r\n  z-index:50;\r\n  background: ${style[\"theme-color\"]};\r\n  color: ${style[\"font-color-light\"]};\r\n  border-radius: 20px;\r\n  text-align: center;\r\n  font-size: 0;\r\n  line-height: 40px;\r\n  .iconfont {\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n    font-size: 12px;\r\n    vertical-align: 1px;\r\n  }\r\n  .text {\r\n    display: inline-block;\r\n    font-size:14px;\r\n    letter-spacing: 5px;\r\n  }\r\n`\r\nexport const SongListWrapper = styled.div`\r\n  position: absolute;\r\n  z-index: 50;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  >div {\r\n    position: absolute;\r\n    left: 0;\r\n    width: 100%;\r\n    overflow: visible;\r\n  }\r\n`\r\n\r\nexport const BgLayer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: white;\r\n  border-radius: 10px;\r\n  z-index: 50;\r\n`","import { CHANGE_SONGS_OF_ARTIST, CHANGE_ARTIST, CHANGE_ENTER_LOADING } from './constants';\r\nimport { fromJS } from 'immutable';\r\nimport { getSingerInfoRequest } from './../../../api/request';\r\n\r\nconst changeArtist = (data) => ({\r\n    type: CHANGE_ARTIST,\r\n    data: fromJS(data)\r\n});\r\n\r\nconst changeSongs = (data) => ({\r\n    type: CHANGE_SONGS_OF_ARTIST,\r\n    data: fromJS(data)\r\n})\r\nexport const changeEnterLoading = (data) => ({\r\n    type: CHANGE_ENTER_LOADING,\r\n    data\r\n})\r\n\r\nexport const getSingerInfo = (id) => {\r\n    return dispatch => {\r\n        getSingerInfoRequest(id).then(data => {\r\n            dispatch(changeArtist(data.artist));\r\n            dispatch(changeSongs(data.hotSongs));\r\n            dispatch(changeEnterLoading(false));\r\n        })\r\n    }\r\n}","export const CHANGE_ARTIST = 'singer/CHANGE_ARTIST';\r\nexport const CHANGE_SONGS_OF_ARTIST = 'singer/CHANGE_SONGS_OF_ARTIST';\r\nexport const CHANGE_ENTER_LOADING = 'singer/CHNAGE_ENTER_LOADING';","// import React, { useState, useRef, useEffect, useCallback } from 'react';\r\n// import { CSSTransition } from \"react-transition-group\";\r\n// import Header from '../../baseUI/header'\r\n// import { Container, ImgWrapper, CollectButton, BgLayer, SongListWrapper } from \"./style\";\r\n// import Scroll from '../../baseUI/scroll'\r\n// import SongsList from '../SongList'\r\n// import { HEADER_HEIGHT } from \"./../../api/config\";\r\n// import { connect } from 'react-redux';\r\n// import { getSingerInfo, changeEnterLoading } from \"./store/actionCreators\";\r\n// import Loading from \"./../../baseUI/loading/index\";\r\n\r\n\r\n// function Singer(props) {\r\n//     const [showStatus, setShowStatus] = useState(true);\r\n//     const collectButton = useRef();\r\n//     const imageWrapper = useRef();\r\n//     const songScrollWrapper = useRef();\r\n//     const songScroll = useRef();\r\n//     const header = useRef();\r\n//     const layer = useRef();\r\n//     // 图片初始高度\r\n//     const initialHeight = useRef(0);\r\n//     const OFFSET = 5;\r\n\r\n//     const {\r\n//         artist: immutableArtist,\r\n//         songs: immutableSongs,\r\n//         loading\r\n//     } = props;\r\n\r\n//     const { getSingerDataDispatch } = props;\r\n\r\n//     const artist = immutableArtist.toJS();\r\n//     const songs = immutableSongs.toJS();\r\n\r\n\r\n\r\n//     useEffect(() => {\r\n//         const id = props.match.params.id;\r\n        \r\n//         getSingerDataDispatch(id);\r\n//         let h = imageWrapper.current.offsetHeight;\r\n//         songScrollWrapper.current.style.top = `${h - OFFSET}px`;\r\n//         initialHeight.current = h;\r\n//         // 把遮罩先放在下面，以裹住歌曲列表\r\n//         layer.current.style.top = `${h - OFFSET}px`;\r\n//         songScroll.current.refresh();\r\n//         //eslint-disable-next-line\r\n//     }, []);\r\n\r\n//     const handleScroll = useCallback(pos => {\r\n//         let height = initialHeight.current;\r\n//         const newY = pos.y;\r\n//         const imageDOM = imageWrapper.current;\r\n//         const buttonDOM = collectButton.current;\r\n//         const headerDOM = header.current;\r\n//         const layerDOM = layer.current;\r\n//         const minScrollY = -(height - OFFSET) + HEADER_HEIGHT;\r\n\r\n//         // 指的是滑动距离占图片高度的百分比\r\n//         const percent = Math.abs(newY / height);\r\n\r\n//         //处理往下拉的情况，效果：图片放大，按钮跟着偏移 \r\n//         if (newY > 0) {\r\n//             imageDOM.style[\"transform\"] = `scale (${1 + percent})`;\r\n//             buttonDOM.style[\"transform\"] = `translate3d (0, ${newY}px, 0)`;\r\n//             layerDOM.style.top = `${height - OFFSET + newY}px`;\r\n//         } else if (newY >= minScrollY) {//往上滑动，但是遮罩还没超过 Header 部分\r\n//             layerDOM.style.top = `${height - OFFSET - Math.abs(newY)}px`;\r\n//             // 这时候保证遮罩的层叠优先级比图片高，不至于被图片挡住\r\n//             layerDOM.style.zIndex = 1;\r\n//             imageDOM.style.paddingTop = \"75%\";\r\n//             imageDOM.style.height = 0;\r\n//             imageDOM.style.zIndex = -1;\r\n//             // 按钮跟着移动且渐渐变透明\r\n//             buttonDOM.style[\"transform\"] = `translate3d (0, ${newY}px, 0)`;\r\n//             buttonDOM.style[\"opacity\"] = `${1 - percent * 2}`;\r\n//         } else if (newY < minScrollY) {\r\n//             // 往上滑动，但是超过 Header 部分\r\n//             layerDOM.style.top = `${HEADER_HEIGHT - OFFSET}px`;\r\n//             layerDOM.style.zIndex = 1;\r\n//             // 防止溢出的歌单内容遮住 Header\r\n//             headerDOM.style.zIndex = 100;\r\n//             // 此时图片高度与 Header 一致\r\n//             imageDOM.style.height = `${HEADER_HEIGHT}px`;\r\n//             imageDOM.style.paddingTop = 0;\r\n//             imageDOM.style.zIndex = 99;\r\n//         }\r\n\r\n//     }, [])\r\n\r\n\r\n//     const setShowStatusFalse = useCallback(() => {\r\n//         setShowStatus(false);\r\n//     }, []);\r\n\r\n\r\n\r\n//     return (\r\n//         <CSSTransition\r\n//             in={showStatus}\r\n//             timeout={300}\r\n//             classNames=\"fly\"\r\n//             appear={true}\r\n//             unmountOnExit\r\n//             onExited={() => props.history.goBack()}\r\n//         >\r\n//             <Container>\r\n//                 <Header\r\n//                     title={'biaoti'}\r\n//                     handleClick={setShowStatusFalse}\r\n//                     ref={header}\r\n//                 ></Header>\r\n//                 <ImgWrapper bgUrl={artist.picUrl} ref={imageWrapper} >\r\n//                     <div className=\"filter\"></div>\r\n//                 </ImgWrapper>\r\n//                 <CollectButton ref={collectButton}>\r\n//                     <i className=\"iconfont\">&#xe62d;</i>\r\n//                     <span className=\"text\"> 收藏 </span>\r\n//                 </CollectButton>\r\n//                 <BgLayer ref={layer}></BgLayer>\r\n//                 <SongListWrapper ref={songScrollWrapper}>\r\n//                     {/* // 歌曲列表部分，待会专门拆解 */}\r\n//                     <Scroll ref={songScroll} onScroll={handleScroll} >\r\n//                         <SongsList\r\n//                             songs={songs}\r\n//                             showCollect={false}\r\n//                         ></SongsList>\r\n//                     </Scroll>\r\n//                 </SongListWrapper>\r\n//             </Container>\r\n//             {/* //Container 组件下面 */}\r\n//             { loading ? (<Loading></Loading>) : null}\r\n//         </CSSTransition>\r\n//     )\r\n// }\r\n// const mapStateToProps = state => ({\r\n//     artist: state.getIn([\"singerInfo\", \"artist\"]),\r\n//     songs: state.getIn([\"singerInfo\", \"songsOfArtist\"]),\r\n//     loading: state.getIn([\"singerInfo\", \"loading\"]),\r\n// });\r\n// // 映射 dispatch 到 props 上\r\n// const mapDispatchToProps = dispatch => {\r\n//     return {\r\n//         getSingerDataDispatch(id) {\r\n//             dispatch(changeEnterLoading(true));\r\n//             dispatch(getSingerInfo(id));\r\n//         }\r\n//     };\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(React.memo(Singer));\r\n\r\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { Container } from \"./style\";\r\nimport { HEADER_HEIGHT } from \"./../../api/config\";\r\nimport { ImgWrapper, CollectButton, SongListWrapper, BgLayer } from \"./style\";\r\nimport Header from \"../../baseUI/header/index\";\r\nimport Scroll from \"../../baseUI/scroll/index\";\r\nimport SongsList from \"../SongList\";\r\nimport { connect } from 'react-redux';\r\nimport Loading from \"./../../baseUI/loading/index\";\r\nimport { getSingerInfo, changeEnterLoading } from \"./store/actionCreators\";\r\nimport MusicNote from \"../../baseUI/music-note/index\";\r\n\r\nfunction Singer(props) {\r\n  const initialHeight = useRef(0);\r\n  const [showStatus, setShowStatus] = useState(true);\r\n\r\n  const { \r\n    artist: immutableArtist, \r\n    songs: immutableSongs, \r\n    loading,\r\n  } = props;\r\n  \r\n  const { getSingerDataDispatch } = props;\r\n  \r\n  const artist = immutableArtist.toJS();\r\n  const songs = immutableSongs.toJS();\r\n\r\n  const collectButton = useRef();\r\n  const imageWrapper = useRef();\r\n  const songScrollWrapper = useRef();\r\n  const songScroll = useRef();\r\n  const header = useRef();\r\n  const layer = useRef();\r\n  const musicNoteRef = useRef ();\r\n\r\nconst musicAnimation = (x, y) => {\r\n  musicNoteRef.current.startAnimation ({ x, y });\r\n};\r\n  //往上偏移的尺寸，露出圆角\r\n  const OFFSET = 5;\r\n\r\n  useEffect(() => {\r\n    const id = props.match.params.id;\r\n    getSingerDataDispatch(id);\r\n    let h = imageWrapper.current.offsetHeight;\r\n    initialHeight.current = h;\r\n    songScrollWrapper.current.style.top = `${h - OFFSET}px`;\r\n    //把遮罩先放在下面，以裹住歌曲列表\r\n    layer.current.style.top = `${h - OFFSET}px`;\r\n    songScroll.current.refresh();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleScroll = useCallback(pos => {\r\n    let height = initialHeight.current;\r\n    const newY = pos.y;\r\n    const imageDOM = imageWrapper.current;\r\n    const buttonDOM = collectButton.current;\r\n    const headerDOM = header.current;\r\n    const layerDOM = layer.current;\r\n    const minScrollY = -(height - OFFSET) + HEADER_HEIGHT;\r\n\r\n    //指的是滑动距离占图片高度的百分比\r\n    const percent = Math.abs(newY / height);\r\n\r\n    if (newY > 0) {\r\n      imageDOM.style[\"transform\"] = `scale(${1 + percent})`;\r\n      buttonDOM.style[\"transform\"] = `translate3d(0, ${newY}px, 0)`;\r\n      layerDOM.style.top = `${height - OFFSET + newY}px`;\r\n    } else if (newY >= minScrollY) {\r\n      layerDOM.style.top = `${height - OFFSET - Math.abs(newY)}px`;\r\n      //这时候保证遮罩的层叠优先级比图片高，不至于被图片挡住\r\n      layerDOM.style.zIndex = 1;\r\n      imageDOM.style.paddingTop = \"75%\";\r\n      imageDOM.style.height = 0;\r\n      imageDOM.style.zIndex = -1;\r\n      //按钮跟着移动且渐渐变透明\r\n      buttonDOM.style[\"transform\"] = `translate3d(0, ${newY}px, 0)`;\r\n      buttonDOM.style[\"opacity\"] = `${1 - percent * 2}`;\r\n    } else if (newY < minScrollY) {\r\n      //往上滑动，但是超过Header部分\r\n      layerDOM.style.top = `${HEADER_HEIGHT - OFFSET}px`;\r\n      layerDOM.style.zIndex = 1;\r\n      //防止溢出的歌单内容遮住Header\r\n      headerDOM.style.zIndex = 100;\r\n      //此时图片高度与Header一致\r\n      imageDOM.style.height = `${HEADER_HEIGHT}px`;\r\n      imageDOM.style.paddingTop = 0;\r\n      imageDOM.style.zIndex = 99;\r\n    }\r\n  }, [])\r\n\r\n  const setShowStatusFalse = useCallback(() => {\r\n    setShowStatus(false);\r\n  }, []);\r\n\r\n  return (\r\n    <CSSTransition\r\n      in={showStatus}\r\n      timeout={300}\r\n      classNames=\"fly\"\r\n      appear={true}\r\n      unmountOnExit\r\n      onExited={() => props.history.goBack()}\r\n    >\r\n      <Container>\r\n        <Header\r\n          handleClick={setShowStatusFalse}\r\n          title={artist.name}\r\n          ref={header}\r\n        ></Header>\r\n        <ImgWrapper ref={imageWrapper} bgUrl={artist.picUrl}>\r\n          <div className=\"filter\"></div>\r\n        </ImgWrapper>\r\n        <CollectButton ref={collectButton}>\r\n          <i className=\"iconfont\">&#xe62d;</i>\r\n          <span className=\"text\">收藏</span>\r\n        </CollectButton>\r\n        <BgLayer ref={layer}></BgLayer>\r\n        <SongListWrapper ref={songScrollWrapper}>\r\n          <Scroll ref={songScroll} onScroll={handleScroll}>\r\n            <SongsList\r\n              songs={songs}\r\n              showCollect={false}\r\n              musicAnimation={musicAnimation}\r\n            ></SongsList>\r\n          </Scroll>\r\n        </SongListWrapper>\r\n        { loading ? (<Loading></Loading>) : null}\r\n        <MusicNote ref={musicNoteRef}></MusicNote>\r\n      </Container>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\n// 映射Redux全局的state到组件的props上\r\nconst mapStateToProps = state => ({\r\n  artist: state.getIn([\"singerInfo\", \"artist\"]),\r\n  songs: state.getIn([\"singerInfo\", \"songsOfArtist\"]),\r\n  loading: state.getIn([\"singerInfo\", \"loading\"]),\r\n});\r\n// 映射dispatch到props上\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getSingerDataDispatch(id) {\r\n      dispatch(changeEnterLoading(true));\r\n      dispatch(getSingerInfo(id));\r\n    }\r\n  };\r\n};\r\n\r\n// 将ui组件包装成容器组件\r\nexport default connect(mapStateToProps,mapDispatchToProps)(React.memo(Singer));","import styled from'styled-components';\r\nimport style from '../../assets/global-style';\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 100;\r\n  overflow: hidden;\r\n  background: #f2f3f4;\r\n  transform-origin: right bottom;\r\n  &.fly-enter, &.fly-appear {\r\n    transform: translate3d(100%, 0, 0);\r\n  }\r\n  &.fly-enter-active, &.fly-appear-active {\r\n    transition: all .3s;\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit {\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n  &.fly-exit-active {\r\n    transition: all .3s;\r\n    transform: translate3d(100%, 0, 0);\r\n  }\r\n`","import React, { useRef, useState, useEffect, useMemo } from 'react';\r\nimport styled from 'styled-components';\r\nimport style from '../../assets/global-style';\r\nimport { debounce } from './../../api/utils';\r\n\r\nconst SearchBoxWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding: 0 6px;\r\n  padding-right: 20px;\r\n  height: 40px;\r\n  background: ${style[\"theme-color\"]};\r\n  .icon-back {\r\n    font-size: 24px;\r\n    color: ${style[\"font-color-light\"]};\r\n  }\r\n  .box {\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    line-height: 18px;\r\n    background: ${style[\"theme-color\"]};\r\n    color: ${style[\"highlight-background-color\"]};\r\n    font-size: ${style[\"font-size-m\"]};\r\n    outline: none;\r\n    border: none;\r\n    border-bottom: 1px solid ${style[\"border-color\"]};\r\n    &::placeholder {\r\n      color: ${style[\"font-color-light\"]};\r\n    }\r\n  }\r\n  .icon-delete {\r\n    font-size: 16px;\r\n    color: ${style[\"background-color\"]};\r\n  }\r\n`\r\n\r\nconst SearchBox = (props) => {\r\n  const queryRef = useRef();\r\n  const [query, setQuery] = useState('');\r\n  // 从父组件热门搜索中拿到的新关键词\r\n  const { newQuery } = props;\r\n  // 父组件针对搜索关键字发请求相关的处理\r\n  const { handleQuery } = props;\r\n  // 根据关键字是否存在决定清空按钮的显示 / 隐藏 \r\n  const displayStyle = query ? { display: 'block' } : { display: 'none' };\r\n\r\n  useEffect(() => {\r\n    // 进场出现光标:\r\n    queryRef.current.focus();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 注意防抖\r\n    handleQueryDebounce(query);\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (newQuery !== query) {\r\n      setQuery(newQuery);\r\n    }\r\n  }, [newQuery]);\r\n\r\n  const clearQuery = () => {\r\n    // 清空框内容的逻辑\r\n    setQuery('');\r\n    queryRef.current.focus();\r\n  }\r\n\r\n  // 监听 input 框的内容\r\n  const handleChange = (e) => {\r\n    // 搜索框内容改变时的逻辑\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  // 缓存方法\r\n  let handleQueryDebounce = useMemo(() => {\r\n    return debounce(handleQuery, 500);\r\n  }, [handleQuery]);\r\n\r\n\r\n  return (\r\n    <SearchBoxWrapper>\r\n      <i className=\"iconfont icon-back\" onClick={() => props.back()}>&#xe655;</i>\r\n      <input ref={queryRef} className=\"box\" placeholder=\"搜索歌曲、歌手、专辑\" value={query} onChange={handleChange} />\r\n      <i className=\"iconfont icon-delete\" onClick={clearQuery} style={displayStyle}>&#xe600;</i>\r\n    </SearchBoxWrapper>\r\n  )\r\n};\r\n\r\nexport default SearchBox","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Container } from './style';\r\nimport SearchBox from './../../baseUI/search-box/index';\r\n\r\nfunction Search(props) {\r\n  // 组件内部\r\n  const [query, setQuery] = useState('');\r\n  // 控制动画\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    setShow(true);\r\n  }, []);\r\n\r\n\r\n\r\n  // 由于是传给子组件的方法，尽量用 useCallback 包裹，以使得在依赖未改变，始终给子组件传递的是相同的引用\r\n  const searchBack = useCallback(() => {\r\n    setShow(false);\r\n  }, []);\r\n\r\n  const handleQuery = (q) => {\r\n    setQuery(q);\r\n  }\r\n\r\n  return (\r\n    <CSSTransition\r\n      in={show}\r\n      timeout={300}\r\n      appear={true}\r\n      classNames=\"fly\"\r\n      unmountOnExit\r\n      onExited={() => props.history.goBack()}\r\n    >\r\n      <Container>\r\n        <div className=\"search_box_wrapper\">\r\n          <SearchBox back={searchBack} newQuery={query} handleQuery={handleQuery}></SearchBox>\r\n        </div>\r\n      </Container>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Home from '../application/Home';\r\nimport Recommend from '../application/Recommend';\r\nimport Singers from '../application/Singers';\r\nimport Rank from '../application/Rank';\r\nimport Album from '../application/Album';\r\nimport Singer from '../application/Singer';\r\nimport Search from '../application/Search'\r\n\r\nexport default [\r\n  {\r\n    path: \"/\",\r\n    component: Home,\r\n    routes: [\r\n      {\r\n        path: \"/\",\r\n        exact: true,\r\n        render: () => (\r\n          <Redirect to={\"/recommend\"} />\r\n        )\r\n      },\r\n      {\r\n        path: \"/recommend\",\r\n        component: Recommend,\r\n        routes: [\r\n          {\r\n            path: \"/recommend/:id\",\r\n            component: Album\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: \"/singers\",\r\n        component: Singers,\r\n        key: \"singers\",\r\n        routes: [\r\n          {\r\n            path: \"/singers/:id\",\r\n            component: Singer\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: \"/rank\",\r\n        component: Rank,\r\n        routes: [\r\n          {\r\n            path: \"/rank/:id\",\r\n            component: Album\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: \"/search\",\r\n        exact: true,\r\n        key: \"search\",\r\n        component: Search\r\n      }\r\n    ]\r\n  }\r\n]","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';// 这里用到 fromJS 把 JS 数据结构转化成 immutable 数据结构\r\n\r\nconst defaultState = fromJS ({\r\n  bannerList: [],\r\n  recommendList: [],\r\n  enterLoading:true\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n      case actionTypes.CHANGE_BANNER:\r\n          // console.log(action.data)\r\n        return state.set ('bannerList', action.data);\r\n      case actionTypes.CHANGE_RECOMMEND_LIST:\r\n        // console.log(action.data)\r\n        return state.set ('recommendList', action.data);\r\n      case actionTypes.CHANGE_ENTER_LOADING:\r\n        return state.set('enterLoading', action.data)\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { fromJS } from 'immutable';\r\nimport * as actionTypes from './constants'\r\n\r\nconst defaultState = fromJS({\r\n  singerList: [],\r\n  enterLoading: true,     //控制进场Loading\r\n  pullUpLoading: false,   //控制上拉加载动画\r\n  pullDownLoading: false, //控制下拉加载动画\r\n  pageCount: 0            //这里是当前页数，我们即将实现分页功能\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n      case actionTypes.CHANGE_SINGER_LIST:\r\n        console.log(action.data)\r\n        return state.set('singerList', action.data);\r\n      case actionTypes.CHANGE_PAGE_COUNT:\r\n        return state.set('pageCount', action.data);\r\n      case actionTypes.CHANGE_ENTER_LOADING:\r\n        return state.set('enterLoading', action.data);\r\n      case actionTypes.CHANGE_PULLUP_LOADING:\r\n        return state.set('pullUpLoading', action.data);\r\n      case actionTypes.CHANGE_PULLDOWN_LOADING:\r\n        return state.set('pullDownLoading', action.data);\r\n      default:\r\n        return state;\r\n    }\r\n  }","import * as actionTypes from './constants.js';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS ({\r\n  currentAlbum: {},\r\n  enterLoading: false,\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n      case actionTypes.CHANGE_CURRENT_ALBUM:\r\n        return state.set ('currentAlbum', action.data);\r\n      case actionTypes.CHANGE_ENTER_LOADING:\r\n        return state.set ('enterLoading', action.data);\r\n      default:\r\n        return state;\r\n    }\r\n  };","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n    artist: {},\r\n    songsOfArtist: [],\r\n    loading: true\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.CHANGE_ARTIST:\r\n            return state.set('artist', action.data);\r\n        case actionTypes.CHANGE_SONGS_OF_ARTIST:\r\n            return state.set('songsOfArtist', action.data);\r\n        case actionTypes.CHANGE_ENTER_LOADING:\r\n            return state.set('loading', action.data);\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as actionTypes from './constants';\r\nimport { fromJS } from 'immutable';\r\nimport { playMode } from './../../../api/config';\r\nimport { findIndex } from '../../../api/utils';// 注意引入工具方法\r\n\r\nconst defaultState = fromJS({\r\n    fullScreen: false,// 播放器是否为全屏模式\r\n    playing: false, // 当前歌曲是否播放\r\n    sequencePlayList: [\r\n        // mock一份playList，后面直接从 redux 拿，现在只是为了调试播放效果。\r\n        // {\r\n        //     ftype: 0,\r\n        //     djId: 0,\r\n        //     a: null,\r\n        //     cd: '01',\r\n        //     crbt: null,\r\n        //     no: 1,\r\n        //     st: 0,\r\n        //     rt: '',\r\n        //     cf: '',\r\n        //     alia: [\r\n        //         '手游《梦幻花园》苏州园林版推广曲'\r\n        //     ],\r\n        //     rtUrls: [],\r\n        //     fee: 0,\r\n        //     s_id: 0,\r\n        //     copyright: 0,\r\n        //     h: {\r\n        //         br: 320000,\r\n        //         fid: 0,\r\n        //         size: 9400365,\r\n        //         vd: -45814\r\n        //     },\r\n        //     mv: 0,\r\n        //     al: {\r\n        //         id: 84991301,\r\n        //         name: '拾梦纪',\r\n        //         picUrl: 'http://p1.music.126.net/M19SOoRMkcHmJvmGflXjXQ==/109951164627180052.jpg',\r\n        //         tns: [],\r\n        //         pic_str: '109951164627180052',\r\n        //         pic: 109951164627180050\r\n        //     },\r\n        //     name: '拾梦纪',\r\n        //     l: {\r\n        //         br: 128000,\r\n        //         fid: 0,\r\n        //         size: 3760173,\r\n        //         vd: -41672\r\n        //     },\r\n        //     rtype: 0,\r\n        //     m: {\r\n        //         br: 192000,\r\n        //         fid: 0,\r\n        //         size: 5640237,\r\n        //         vd: -43277\r\n        //     },\r\n        //     cp: 1416668,\r\n        //     mark: 0,\r\n        //     rtUrl: null,\r\n        //     mst: 9,\r\n        //     dt: 234947,\r\n        //     ar: [\r\n        //         {\r\n        //             id: 12084589,\r\n        //             name: '妖扬',\r\n        //             tns: [],\r\n        //             alias: []\r\n        //         },\r\n        //         {\r\n        //             id: 12578371,\r\n        //             name: '金天',\r\n        //             tns: [],\r\n        //             alias: []\r\n        //         }\r\n        //     ],\r\n        //     pop: 5,\r\n        //     pst: 0,\r\n        //     t: 0,\r\n        //     v: 3,\r\n        //     id: 1416767593,\r\n        //     publishTime: 0,\r\n        //     rurl: null\r\n        // }\r\n    ], // 顺序列表 (因为之后会有随机模式，列表会乱序，因从拿这个保存顺序列表)\r\n    playList: [\r\n        // mock一份playList，后面直接从 redux 拿，现在只是为了调试播放效果。\r\n        // {\r\n        //     ftype: 0,\r\n        //     djId: 0,\r\n        //     a: null,\r\n        //     cd: '01',\r\n        //     crbt: null,\r\n        //     no: 1,\r\n        //     st: 0,\r\n        //     rt: '',\r\n        //     cf: '',\r\n        //     alia: [\r\n        //         '手游《梦幻花园》苏州园林版推广曲'\r\n        //     ],\r\n        //     rtUrls: [],\r\n        //     fee: 0,\r\n        //     s_id: 0,\r\n        //     copyright: 0,\r\n        //     h: {\r\n        //         br: 320000,\r\n        //         fid: 0,\r\n        //         size: 9400365,\r\n        //         vd: -45814\r\n        //     },\r\n        //     mv: 0,\r\n        //     al: {\r\n        //         id: 84991301,\r\n        //         name: '拾梦纪',\r\n        //         picUrl: 'http://p1.music.126.net/M19SOoRMkcHmJvmGflXjXQ==/109951164627180052.jpg',\r\n        //         tns: [],\r\n        //         pic_str: '109951164627180052',\r\n        //         pic: 109951164627180050\r\n        //     },\r\n        //     name: '拾梦纪',\r\n        //     l: {\r\n        //         br: 128000,\r\n        //         fid: 0,\r\n        //         size: 3760173,\r\n        //         vd: -41672\r\n        //     },\r\n        //     rtype: 0,\r\n        //     m: {\r\n        //         br: 192000,\r\n        //         fid: 0,\r\n        //         size: 5640237,\r\n        //         vd: -43277\r\n        //     },\r\n        //     cp: 1416668,\r\n        //     mark: 0,\r\n        //     rtUrl: null,\r\n        //     mst: 9,\r\n        //     dt: 234947,\r\n        //     ar: [\r\n        //         {\r\n        //             id: 12084589,\r\n        //             name: '妖扬',\r\n        //             tns: [],\r\n        //             alias: []\r\n        //         },\r\n        //         {\r\n        //             id: 12578371,\r\n        //             name: '金天',\r\n        //             tns: [],\r\n        //             alias: []\r\n        //         }\r\n        //     ],\r\n        //     pop: 5,\r\n        //     pst: 0,\r\n        //     t: 0,\r\n        //     v: 3,\r\n        //     id: 1416767593,\r\n        //     publishTime: 0,\r\n        //     rurl: null\r\n        // }\r\n    ],\r\n    mode: playMode.sequence,// 播放模式\r\n    currentIndex: -1,// 当前歌曲在播放列表的索引位置\r\n    showPlayList: false,// 是否展示播放列表\r\n    currentSong: {}\r\n});\r\n\r\nconst handleDeleteSong = (state, song) => {\r\n    // 也可用 loadsh 库的 deepClone 方法。这里深拷贝是基于纯函数的考虑，不对参数 state 做修改\r\n    const playList = JSON.parse(JSON.stringify(state.get('playList').toJS()));\r\n    const sequenceList = JSON.parse(JSON.stringify(state.get('sequencePlayList').toJS()));\r\n    let currentIndex = state.get('currentIndex');\r\n    // 找对应歌曲在播放列表中的索引\r\n    const fpIndex = findIndex(song, playList);\r\n    // 在播放列表中将其删除\r\n    playList.splice(fpIndex, 1);\r\n    // 如果删除的歌曲排在当前播放歌曲前面，那么 currentIndex--，让当前的歌正常播放\r\n    if (fpIndex < currentIndex) currentIndex--;\r\n\r\n    // 在 sequenceList 中直接删除歌曲即可\r\n    const fsIndex = findIndex(song, sequenceList);\r\n    sequenceList.splice(fsIndex, 1);\r\n\r\n    return state.merge({\r\n        'playList': fromJS(playList),\r\n        'sequencePlayList': fromJS(sequenceList),\r\n        'currentIndex': fromJS(currentIndex),\r\n    });\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.SET_CURRENT_SONG:\r\n            return state.set('currentSong', action.data);\r\n        case actionTypes.SET_FULL_SCREEN:\r\n            return state.set('fullScreen', action.data);\r\n        case actionTypes.SET_PLAYING_STATE:\r\n            return state.set('playing', action.data);\r\n        case actionTypes.SET_SEQUECE_PLAYLIST:\r\n            return state.set('sequencePlayList', action.data);\r\n        case actionTypes.SET_PLAYLIST:\r\n            return state.set('playList', action.data);\r\n        case actionTypes.SET_PLAY_MODE:\r\n            return state.set('mode', action.data);\r\n        case actionTypes.SET_CURRENT_INDEX:\r\n            return state.set('currentIndex', action.data);\r\n        case actionTypes.SET_SHOW_PLAYLIST:\r\n            return state.set('showPlayList', action.data);\r\n        case actionTypes.DELETE_SONG:\r\n            return handleDeleteSong(state, action.data);\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux-immutable';\r\nimport { reducer as recommendReducer } from '../application/Recommend/store';\r\nimport { reducer as singersReducer } from '../application/Singers/store'\r\nimport {reducer as rankReducer} from '../application/Rank/store'\r\nimport {reducer as albumReducer } from '../application/Album/store'\r\nimport { reducer as singerInfoReducer } from \"../application/Singer/store\";\r\nimport { reducer as playerReducer } from \"../application/Player/store\";\r\n\r\nexport default combineReducers ({\r\n  recommend: recommendReducer,\r\n  singers:singersReducer,\r\n  rank:rankReducer,\r\n  album:albumReducer,\r\n  singerInfo: singerInfoReducer,\r\n  player: playerReducer,\r\n});","import { createStore, compose, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducer from './reducer'\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore (reducer, composeEnhancers (\r\n  applyMiddleware (thunk)\r\n));\r\n\r\nexport default store;","import React from 'react';\r\nimport { IconStyle } from './assets/iconfont/iconfont';\r\nimport { GlobalStyle } from './style';\r\nimport routes from \"./routes/index\";\r\nimport { renderRoutes } from \"react-router-config\";//renderRoutes 读取路由配置转化为 Route 标签\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\nimport {Data} from './application/Singers/data'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <HashRouter>\r\n        <GlobalStyle></GlobalStyle>\r\n        <IconStyle></IconStyle>\r\n        <Data>\r\n          {renderRoutes(routes)}\r\n        </Data>\r\n      </HashRouter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}